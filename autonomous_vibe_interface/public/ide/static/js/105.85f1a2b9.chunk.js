"use strict";(self.webpackChunkcoder1_ide_source=self.webpackChunkcoder1_ide_source||[]).push([[105],{5105:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});class FigmaIntegration{constructor(e,t){this.apiKey=void 0,this.fileId=void 0,this.connected=!1,this.apiKey=e,this.fileId=t,this.connected=!(!e||!t)}async connect(e,t){try{this.apiKey=e,this.fileId=t;return!!(await fetch(`https://api.figma.com/v1/files/${t}`,{headers:{"X-Figma-Token":e}})).ok&&(this.connected=!0,!0)}catch(n){return console.error("Figma connection error:",n),!1}}async importDesignTokens(){if(!this.connected)return this.getMockDesignTokens();try{const e=await fetch(`https://api.figma.com/v1/files/${this.fileId}/styles`,{headers:{"X-Figma-Token":this.apiKey}});if(!e.ok)throw new Error("Failed to fetch Figma styles");const t=await e.json();return this.parseDesignTokens(t)}catch(e){return console.error("Error importing design tokens:",e),this.getMockDesignTokens()}}async importComponent(e){if(!this.connected)return this.generateMockComponent(e);try{const t=await fetch(`https://api.figma.com/v1/files/${this.fileId}/nodes?ids=${e}`,{headers:{"X-Figma-Token":this.apiKey}});if(!t.ok)throw new Error("Failed to fetch Figma node");const n=(await t.json()).nodes[e];if(!n)throw new Error("Node not found");return this.convertFigmaToReact(n.document)}catch(t){return console.error("Error importing Figma component:",t),this.generateMockComponent(e)}}exportToFigma(e){const t=this.parseReactComponent(e);return{id:`component-${Date.now()}`,name:t.name,type:"COMPONENT",properties:{description:"Exported from React",...t.props},children:this.convertReactToFigmaNodes(t.jsx),styles:this.extractStyles(e)}}syncDesignTokens(e,t){let n=e;return Object.entries(t.colors).forEach(e=>{let[t,o]=e;const r=new RegExp("color:\\s*['\"`]#[0-9a-fA-F]{3,8}['\"`]","g");n=n.replace(r,e=>"primary"===t&&e.includes("primary")?`color: '${o}'`:e)}),n=n.replace(/fontFamily:\s*['"`][^'"`]+['"`]/g,`fontFamily: '${t.typography.fontFamily}'`),Object.entries(t.spacing).forEach(e=>{let[t,o]=e;[`padding-${t}`,`margin-${t}`,`gap-${t}`].forEach(e=>{const t=new RegExp(`${e}`,"g");n=n.replace(t,`${e.split("-")[0]}: '${o}'`)})}),n}convertFigmaToReact(e){const t=this.sanitizeComponentName(e.name||"Component"),n=this.extractFigmaStyles(e),o=this.renderFigmaChildren(e.children||[]);return`const ${t} = () => {\n  return (\n    <div style={${JSON.stringify(n,null,2)}}>\n      ${o}\n    </div>\n  );\n};\n\nexport default ${t};`}parseDesignTokens(e){return this.getMockDesignTokens()}getMockDesignTokens(){return{colors:{primary:"#3b82f6",secondary:"#8b5cf6",background:"#ffffff",text:"#1f2937",accent:"#f59e0b",success:"#10b981",error:"#ef4444"},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fontSize:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem"},fontWeight:{light:300,regular:400,medium:500,bold:700}},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem"},borderRadius:{sm:"0.25rem",md:"0.5rem",lg:"1rem",full:"9999px"}}}generateMockComponent(e){return`// Mock Figma Component (Node: ${e})\nconst FigmaComponent = ({ title = "Figma Import", description = "Component imported from Figma" }) => {\n  return (\n    <div className="figma-component" style={{\n      padding: '24px',\n      borderRadius: '12px',\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n      color: 'white',\n      boxShadow: '0 10px 30px rgba(0,0,0,0.2)'\n    }}>\n      <h2 style={{ fontSize: '24px', marginBottom: '12px' }}>{title}</h2>\n      <p style={{ fontSize: '16px', opacity: 0.9 }}>{description}</p>\n      <div style={{ marginTop: '20px', display: 'flex', gap: '12px' }}>\n        <button style={{\n          padding: '10px 20px',\n          background: 'white',\n          color: '#764ba2',\n          border: 'none',\n          borderRadius: '6px',\n          fontWeight: 'bold',\n          cursor: 'pointer'\n        }}>\n          Primary Action\n        </button>\n        <button style={{\n          padding: '10px 20px',\n          background: 'transparent',\n          color: 'white',\n          border: '2px solid white',\n          borderRadius: '6px',\n          fontWeight: 'bold',\n          cursor: 'pointer'\n        }}>\n          Secondary Action\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default FigmaComponent;`}parseReactComponent(e){const t=e.match(/(?:const|function|class)\s+(\w+)/),n=t?t[1]:"Component",o=e.match(/\(?\s*{\s*([^}]+)\s*}\s*\)?/),r=o?this.parseProps(o[1]):{},s=e.match(/return\s*\(([\s\S]*?)\);/);return{name:n,props:r,jsx:s?s[1]:"<div>Component</div>"}}parseProps(e){const t={};return e.split(",").forEach(e=>{const[n,o]=e.split("=").map(e=>e.trim());n&&(t[n]=o||!0)}),t}convertReactToFigmaNodes(e){return[{id:`node-${Date.now()}`,name:"Container",type:"FRAME",properties:{fills:[{type:"SOLID",color:{r:1,g:1,b:1,a:1}}]}}]}extractStyles(code){const styles={},styleRegex=/style\s*=\s*{({[^}]+})}/g;let match;for(;null!==(match=styleRegex.exec(code));)try{const styleObj=eval(`(${match[1]})`);Object.assign(styles,styleObj)}catch(e){}return{layout:{flexDirection:styles.flexDirection||"column",alignItems:styles.alignItems||"flex-start",justifyContent:styles.justifyContent||"flex-start"},fill:{backgroundColor:styles.backgroundColor||"#ffffff"}}}extractFigmaStyles(e){const t={};if(e.fills&&e.fills[0]){const n=e.fills[0];"SOLID"===n.type&&(t.backgroundColor=`rgba(${255*n.color.r}, ${255*n.color.g}, ${255*n.color.b}, ${n.color.a})`)}return e.absoluteBoundingBox&&(t.width=`${e.absoluteBoundingBox.width}px`,t.height=`${e.absoluteBoundingBox.height}px`),t}renderFigmaChildren(e){return e&&0!==e.length?e.map(e=>"TEXT"===e.type?e.characters||"":"<div>Child Component</div>").join("\n      "):""}sanitizeComponentName(e){return e.replace(/[^a-zA-Z0-9]/g,"").replace(/^[0-9]/,"_$&")||"Component"}}const __WEBPACK_DEFAULT_EXPORT__=FigmaIntegration}}]);
//# sourceMappingURL=105.85f1a2b9.chunk.js.map