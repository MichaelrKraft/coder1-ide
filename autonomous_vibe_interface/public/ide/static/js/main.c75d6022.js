/*! For license information please see main.c75d6022.js.LICENSE.txt */
(()=>{var e={18:(e,t,n)=>{e.exports=function(e){function t(e){let n,s,o,i=null;function a(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];if(!a.enabled)return;const o=a,i=Number(new Date),l=i-(n||i);o.diff=l,o.prev=n,o.curr=i,n=i,r[0]=t.coerce(r[0]),"string"!==typeof r[0]&&r.unshift("%O");let c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(e,n)=>{if("%%"===e)return"%";c++;const s=t.formatters[n];if("function"===typeof s){const t=r[c];e=s.call(o,t),r.splice(c,1),c--}return e}),t.formatArgs.call(o,r);(o.log||t.log).apply(o,r)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(s!==t.namespaces&&(s=t.namespaces,o=t.enabled(e)),o),set:e=>{i=e}}),"function"===typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+("undefined"===typeof n?":":n)+e);return r.log=this.log,r}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(s),...t.skips.map(s).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"===typeof e?e:"").split(/[\s,]+/),s=r.length;for(n=0;n<s;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(7340),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},156:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=t.TransportError=void 0;const s=n(9585),o=n(3871),i=n(265),a=n(5856),l=(0,r(n(2902)).default)("engine.io-client:transport");class c extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}t.TransportError=c;class u extends o.Emitter{constructor(e){super(),this.writable=!1,(0,i.installTimerFunctions)(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new c(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState?this.write(e):l("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=(0,s.decodePacket)(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=(0,a.encode)(e);return t.length?"?"+t:""}}t.Transport=u},265:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pick=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})},t.installTimerFunctions=function(e,t){t.useNativeTimers?(e.setTimeoutFn=s.bind(r.globalThisShim),e.clearTimeoutFn=o.bind(r.globalThisShim)):(e.setTimeoutFn=r.globalThisShim.setTimeout.bind(r.globalThisShim),e.clearTimeoutFn=r.globalThisShim.clearTimeout.bind(r.globalThisShim))},t.byteLength=function(e){if("string"===typeof e)return function(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e);return Math.ceil((e.byteLength||e.size)*i)},t.randomString=function(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)};const r=n(2101);const s=r.globalThisShim.setTimeout,o=r.globalThisShim.clearTimeout;const i=1.33},579:(e,t,n)=>{"use strict";e.exports=n(2799)},736:(e,t)=>{"use strict";function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Object.defineProperty(t,"__esModule",{value:!0}),t.Backoff=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},790:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Fetch=void 0;const r=n(6523);class s extends r.Polling{doPoll(){this._fetch().then(e=>{if(!e.ok)return this.onError("fetch read error",e.status,e);e.text().then(e=>this.onData(e))}).catch(e=>{this.onError("fetch read error",e)})}doWrite(e,t){this._fetch(e).then(e=>{if(!e.ok)return this.onError("fetch write error",e.status,e);t()}).catch(e=>{this.onError("fetch write error",e)})}_fetch(e){var t;const n=void 0!==e,r=new Headers(this.opts.extraHeaders);return n&&r.set("content-type","text/plain;charset=UTF-8"),null===(t=this.socket._cookieJar)||void 0===t||t.appendCookies(r),fetch(this.uri(),{method:n?"POST":"GET",body:n?e:null,headers:r,credentials:this.opts.withCredentials?"include":"omit"}).then(e=>{var t;return null===(t=this.socket._cookieJar)||void 0===t||t.parseCookies(e.headers.getSetCookie()),e})}}t.Fetch=s},913:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;const s=n(6422),o=n(2485),i=n(3871),a=(0,r(n(7199)).default)("socket.io-client:socket"),l=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class c extends i.Emitter{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[(0,o.on)(e,"open",this.onopen.bind(this)),(0,o.on)(e,"packet",this.onpacket.bind(this)),(0,o.on)(e,"error",this.onerror.bind(this)),(0,o.on)(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(l.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var o=arguments.length,i=new Array(o>1?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];if(i.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const u={type:s.PacketType.EVENT,data:i,options:{}};if(u.options.compress=!1!==this.flags.compress,"function"===typeof i[i.length-1]){const e=this.ids++;a("emitting packet with ack id %d",e);const t=i.pop();this._registerAckCallback(e,t),u.id=e}const d=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,p=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!d?a("discard packet as the transport is not currently writable"):p?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const s=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===s)return void(this.acks[e]=t);const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&(a("removing packet with ack id %d from the buffer",e),this.sendBuffer.splice(t,1));a("event with ack id %d has timed out after %d ms",e,s),t.call(this,new Error("operation has timed out"))},s),i=function(){r.io.clearTimeoutFn(o);for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];t.apply(r,n)};i.withError=!0,this.acks[e]=i}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((t,r)=>{const s=(e,n)=>e?r(e):t(n);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(a("packet [%d] is discarded after %d tries",r.id,r.tryCount),t._queue.shift(),n&&n(e));else if(a("packet [%d] was successfully sent",r.id),t._queue.shift(),n){for(var s=arguments.length,o=new Array(s>1?s-1:0),i=1;i<s;i++)o[i-1]=arguments[i];n(null,...o)}return r.pending=!1,t._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(a("draining queue"),!this.connected||0===this._queue.length)return;const t=this._queue[0];!t.pending||e?(t.pending=!0,t.tryCount++,a("sending packet [%d] (try n\xb0%d)",t.id,t.tryCount),this.flags=t.flags,this.emit.apply(this,t.args)):a("packet [%d] has already been sent and is waiting for an ack",t.id)}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){a("transport is open - connecting"),"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:s.PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){a("close (%s)",e),this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case s.PacketType.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case s.PacketType.EVENT:case s.PacketType.BINARY_EVENT:this.onevent(e);break;case s.PacketType.ACK:case s.PacketType.BINARY_ACK:this.onack(e);break;case s.PacketType.DISCONNECT:this.ondisconnect();break;case s.PacketType.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];a("emitting event %j",t),null!=e.id&&(a("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];a("sending ack %j",o),t.packet({type:s.PacketType.ACK,id:e,data:o})}}}onack(e){const t=this.acks[e.id];"function"===typeof t?(delete this.acks[e.id],a("calling ack %s with %j",e.id,e.data),t.withError&&e.data.unshift(null),t.apply(this,e.data)):a("bad ack %s",e.id)}onconnect(e,t){a("socket connected with id %s",e),this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){a("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(a("performing disconnect (%s)",this.nsp),this.packet({type:s.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}t.Socket=c},1082:(e,t,n)=>{e.exports=function(e){function t(e){let n,s,o,i=null;function a(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];if(!a.enabled)return;const o=a,i=Number(new Date),l=i-(n||i);o.diff=l,o.prev=n,o.curr=i,n=i,r[0]=t.coerce(r[0]),"string"!==typeof r[0]&&r.unshift("%O");let c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(e,n)=>{if("%%"===e)return"%";c++;const s=t.formatters[n];if("function"===typeof s){const t=r[c];e=s.call(o,t),r.splice(c,1),c--}return e}),t.formatArgs.call(o,r);(o.log||t.log).apply(o,r)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(s!==t.namespaces&&(s=t.namespaces,o=t.enabled(e)),o),set:e=>{i=e}}),"function"===typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+("undefined"===typeof n?":":n)+e);return r.log=this.log,r}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(s),...t.skips.map(s).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"===typeof e?e:"").split(/[\s,]+/),s=r.length;for(n=0;n<s;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(7340),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},1656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;const n="function"===typeof ArrayBuffer,r=Object.prototype.toString,s="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===r.call(Blob),o="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===r.call(File);function i(e){return n&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||s&&e instanceof Blob||o&&e instanceof File}t.isBinary=i,t.hasBinary=function e(t,n){if(!t||"object"!==typeof t)return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(e(t[n]))return!0;return!1}if(i(t))return!0;if(t.toJSON&&"function"===typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return!0;return!1}},2024:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=t.SocketWithUpgrade=t.SocketWithoutUpgrade=void 0;const s=n(7612),o=n(265),i=n(5856),a=n(3012),l=n(3871),c=n(9585),u=n(2101),d=(0,r(n(2902)).default)("engine.io-client:socket"),p="function"===typeof addEventListener&&"function"===typeof removeEventListener,h=[];p&&addEventListener("offline",()=>{d("closing %d connection(s) because the network was lost",h.length),h.forEach(e=>e())},!1);class m extends l.Emitter{constructor(e,t){if(super(),this.binaryType=u.defaultBinaryType,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=(0,a.parse)(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=(0,a.parse)(t.host).host);(0,o.installTimerFunctions)(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=(0,i.decode)(this.opts.query)),p&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(d("adding listener for the 'offline' event"),this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},h.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=(0,u.createCookieJar)()),this._open()}createTransport(e){d('creating transport "%s"',e);const t=Object.assign({},this.opts.query);t.EIO=c.protocol,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return d("options: %j",n),new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&m.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){d("setting transport %s",e.name),this.transport&&(d("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){d("socket open"),this.readyState="open",m.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(d('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}else d('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();d("flushing %d packets in socket",e.length),this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=(0,o.byteLength)(n)),t>0&&e>this._maxPayload)return d("only send %d out of %d packets",t,this.writeBuffer.length),this.writeBuffer.slice(0,t);e+=2}return d("payload size is %d (max: %d)",e,this._maxPayload),this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(d("throttled timer detected, scheduling connection close"),this._pingTimeoutTime=0,(0,u.nextTick)(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const s={type:e,data:t,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),d("socket closing - telling transport to close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(d("socket error %j",e),m.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return d("trying next transport"),this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(d('socket close with reason: "%s"',e),this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),p&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=h.indexOf(this._offlineEventListener);-1!==e&&(d("removing listener for the 'offline' event"),h.splice(e,1))}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}t.SocketWithoutUpgrade=m,m.protocol=c.protocol;class f extends m{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade){d("starting upgrade probes");for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}}_probe(e){d('probing transport "%s"',e);let t=this.createTransport(e),n=!1;m.priorWebsocketSuccess=!1;const r=()=>{n||(d('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",r=>{if(!n)if("pong"===r.type&&"probe"===r.data){if(d('probe transport "%s" pong',e),this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;m.priorWebsocketSuccess="websocket"===t.name,d('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{n||"closed"!==this.readyState&&(d("changing transport and sending upgrade packet"),c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{d('probe transport "%s" failed',e);const n=new Error("probe error");n.transport=t.name,this.emitReserved("upgradeError",n)}}))};function s(){n||(n=!0,c(),t.close(),t=null)}const o=n=>{const r=new Error("probe error: "+n);r.transport=t.name,s(),d('probe transport "%s" failed because of error: %s',e,n),this.emitReserved("upgradeError",r)};function i(){o("transport closed")}function a(){o("socket closed")}function l(e){t&&e.name!==t.name&&(d('"%s" works - aborting "%s"',e.name,t.name),s())}const c=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",i),this.off("close",a),this.off("upgrading",l)};t.once("open",r),t.once("error",o),t.once("close",i),this.once("close",a),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}t.SocketWithUpgrade=f;t.Socket=class extends f{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>s.transports[e]).filter(e=>!!e)),super(e,t)}}},2101:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultBinaryType=t.globalThisShim=t.nextTick=void 0,t.createCookieJar=function(){},t.nextTick="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),t.globalThisShim="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")(),t.defaultBinaryType="arraybuffer"},2485:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=function(e,t,n){return e.on(t,n),function(){e.off(t,n)}}},2557:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WT=void 0;const s=n(156),o=n(2101),i=n(9585),a=(0,r(n(2902)).default)("engine.io-client:webtransport");class l extends s.Transport{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{a("transport closed gracefully"),this.onClose()}).catch(e=>{a("transport closed due to %s",e),this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=(0,i.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=(0,i.createPacketEncoderStream)();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const s=()=>{n.read().then(e=>{let{done:t,value:n}=e;t?a("session is closed"):(a("received chunk: %o",n),this.onPacket(n),s())}).catch(e=>{a("an error occurred while reading: %s",e)})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&(0,o.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}}t.WT=l},2688:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.XHR=t.Request=t.BaseXHR=void 0;const s=n(6523),o=n(3871),i=n(265),a=n(2101),l=n(3449),c=(0,r(n(2902)).default)("engine.io-client:polling");function u(){}class d extends s.Polling{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){c("xhr poll");const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}t.BaseXHR=d;class p extends o.Emitter{constructor(e,t,n){super(),this.createRequest=e,(0,i.installTimerFunctions)(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=(0,i.pick)(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{c("xhr open %s: %s",this._method,this._uri),n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(r){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{n.setRequestHeader("Accept","*/*")}catch(r){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof n.status?n.status:0)},0))},c("xhr data %s",this._data),n.send(this._data)}catch(r){return void this.setTimeoutFn(()=>{this._onError(r)},0)}"undefined"!==typeof document&&(this._index=p.requestsCount++,p.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=u,e)try{this._xhr.abort()}catch(t){}"undefined"!==typeof document&&delete p.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(t.Request=p,p.requestsCount=0,p.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",h);else if("function"===typeof addEventListener){const e="onpagehide"in a.globalThisShim?"pagehide":"unload";addEventListener(e,h,!1)}function h(){for(let e in p.requests)p.requests.hasOwnProperty(e)&&p.requests[e].abort()}const m=function(){const e=f({xdomain:!1});return e&&null!==e.responseType}();function f(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||l.hasCORS))return new XMLHttpRequest}catch(n){}if(!t)try{return new(a.globalThisShim[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}t.XHR=class extends d{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=m&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new p(f,this.uri(),e)}}},2795:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WS=t.BaseWS=void 0;const s=n(156),o=n(265),i=n(9585),a=n(2101),l=(0,r(n(2902)).default)("engine.io-client:websocket"),c="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class u extends s.Transport{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=c?{}:(0,o.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;(0,i.encodePacket)(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(t){l("websocket closed before onclose event")}r&&(0,a.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=(0,o.randomString)()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}t.BaseWS=u;const d=a.globalThisShim.WebSocket||a.globalThisShim.MozWebSocket;t.WS=class extends u{createSocket(e,t,n){return c?new d(e,t,n):t?new d(e,t):new d(e)}doWrite(e,t){this.ws.send(t)}}},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(e,t,r){var s=null;if(void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:s,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=s,t.jsxs=s},2902:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(s=r))}),t.splice(s,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"/ide",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(3721)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},3012:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e){if(e.length>8e3)throw"URI too long";const t=e,s=e.indexOf("["),o=e.indexOf("]");-1!=s&&-1!=o&&(e=e.substring(0,s)+e.substring(s,o).replace(/:/g,";")+e.substring(o,e.length));let i=n.exec(e||""),a={},l=14;for(;l--;)a[r[l]]=i[l]||"";-1!=s&&-1!=o&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0);return a.pathNames=function(e,t){const n=t.replace(/\/{2,9}/g,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1);"/"==t.slice(-1)&&n.splice(n.length-1,1);return n}(0,a.path),a.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,a.query),a};const n=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]},3449:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasCORS=void 0;let n=!1;try{n="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(r){}t.hasCORS=n},3721:(e,t,n)=>{e.exports=function(e){function t(e){let n,s,o,i=null;function a(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];if(!a.enabled)return;const o=a,i=Number(new Date),l=i-(n||i);o.diff=l,o.prev=n,o.curr=i,n=i,r[0]=t.coerce(r[0]),"string"!==typeof r[0]&&r.unshift("%O");let c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(e,n)=>{if("%%"===e)return"%";c++;const s=t.formatters[n];if("function"===typeof s){const t=r[c];e=s.call(o,t),r.splice(c,1),c--}return e}),t.formatArgs.call(o,r);(o.log||t.log).apply(o,r)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(s!==t.namespaces&&(s=t.namespaces,o=t.enabled(e)),o),set:e=>{i=e}}),"function"===typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+("undefined"===typeof n?":":n)+e);return r.log=this.log,r}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(s),...t.skips.map(s).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"===typeof e?e:"").split(/[\s,]+/),s=r.length;for(n=0;n<s;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(7340),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},3871:(e,t,n)=>{"use strict";function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}n.r(t),n.d(t,{Emitter:()=>r}),r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var s=0;s<r.length;s++)if((n=r[s])===t||n.fn===t){r.splice(s,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var s=(n=n.slice(0)).length;r<s;++r)n[r].apply(this,t)}return this},r.prototype.emitReserved=r.prototype.emit,r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,f(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function S(e,t,r,s,o,i){return r=i.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:i}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(){}function _(e,t,s,o,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case p:return _((u=e._init)(e._payload),t,s,o,i)}}if(u)return i=i(e),u=""===o?"."+E(e,0):o,w(i)?(s="",null!=u&&(s=u.replace(N,"$&/")+"/"),_(i,t,s,"",function(e){return e})):null!=i&&(j(i)&&(l=i,c=s+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(N,"$&/")+"/")+u,i=S(l.type,c,void 0,0,0,l.props)),t.push(i)),1;u=0;var d,m=""===o?".":o+":";if(w(e))for(var f=0;f<e.length;f++)u+=_(o=e[f],t,s,a=m+E(o,f),i);else if("function"===typeof(f=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=f.call(e),f=0;!(o=e.next()).done;)u+=_(o=o.value,t,s,a=m+E(o,f++),i);else if("object"===a){if("function"===typeof e.then)return _(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(T,T):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,s,o,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],s=0;return _(e,r,"","",function(e){return t.call(n,e,s++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=s,t.Profiler=i,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=f({},e.props),s=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(s=""+t.key),t)!k.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var i=Array(o),a=0;a<o;a++)i[a]=arguments[a+2];r.children=i}return S(e.type,s,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,s={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(s[r]=t[r]);var i=arguments.length-2;if(1===i)s.children=n;else if(1<i){for(var a=Array(i),l=0;l<i;l++)a[l]=arguments[l+2];s.children=a}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===s[r]&&(s[r]=i[r]);return S(e,o,void 0,0,0,s)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.T,n={};C.T=n;try{var r=e(),s=C.S;null!==s&&s(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(O,R)}catch(o){R(o)}finally{C.T=t}},t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},t.use=function(e){return C.H.use(e)},t.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},t.useCallback=function(e,t){return C.H.useCallback(e,t)},t.useContext=function(e){return C.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=C.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return C.H.useId()},t.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.H.useMemo(e,t)},t.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},t.useRef=function(e){return C.H.useRef(e)},t.useState=function(e){return C.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.H.useTransition()},t.version="19.1.0"},4343:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(s=r))}),t.splice(s,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"/ide",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(1082)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5201:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodePacket=void 0,t.encodePacketToBinary=function(e,t){if(s&&e.data instanceof Blob)return e.data.arrayBuffer().then(c).then(t);if(o&&(e.data instanceof ArrayBuffer||i(e.data)))return t(c(e.data));a(e,!1,e=>{u||(u=new TextEncoder),t(u.encode(e))})};const r=n(6311),s="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),o="function"===typeof ArrayBuffer,i=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,a=(e,t,n)=>{let{type:a,data:c}=e;return s&&c instanceof Blob?t?n(c):l(c,n):o&&(c instanceof ArrayBuffer||i(c))?t?n(c):l(new Blob([c]),n):n(r.PACKET_TYPES[a]+(c||""))};t.encodePacket=a;const l=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function c(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let u},5856:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<o(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<s&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<s&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,p=null,h=3,m=!1,f=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function C(e){if(g=!1,w(e),!f)if(null!==r(c))f=!0,S||(S=!0,k());else{var t=r(u);null!==t&&R(C,t.startTime-e)}}var k,S=!1,j=-1,N=5,E=-1;function T(){return!!y||!(t.unstable_now()-E<N)}function _(){if(y=!1,S){var e=t.unstable_now();E=e;var n=!0;try{e:{f=!1,g&&(g=!1,b(j),j=-1),m=!0;var o=h;try{t:{for(w(e),p=r(c);null!==p&&!(p.expirationTime>e&&T());){var i=p.callback;if("function"===typeof i){p.callback=null,h=p.priorityLevel;var a=i(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){p.callback=a,w(e),n=!0;break t}p===r(c)&&s(c),w(e)}else s(c);p=r(c)}if(null!==p)n=!0;else{var l=r(u);null!==l&&R(C,l.startTime-e),n=!1}}break e}finally{p=null,h=o,m=!1}n=void 0}}finally{n?k():S=!1}}}if("function"===typeof x)k=function(){x(_)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=_,k=function(){A.postMessage(null)}}else k=function(){v(_,0)};function R(e,n){j=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,s,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>i?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(b(j),j=-1):g=!0,R(C,o-i))):(e.sortIndex=a,n(c,e),f||m||(f=!0,S||(S=!0,k()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5991:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.url=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host);"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),o("parse %s",e),r=(0,s.parse)(e));r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443"));r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r};const s=n(7537),o=(0,r(n(7199)).default)("socket.io-client:url")},6311:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_PACKET=t.PACKET_TYPES_REVERSE=t.PACKET_TYPES=void 0;const n=Object.create(null);t.PACKET_TYPES=n,n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";const r=Object.create(null);t.PACKET_TYPES_REVERSE=r,Object.keys(n).forEach(e=>{r[n[e]]=e});t.ERROR_PACKET={type:"error",data:"parser error"}},6358:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getCurrentFeatures:()=>i,isFeatureEnabled:()=>o,loadFeatureFlags:()=>l,resetFeatureFlags:()=>c,updateFeatureFlag:()=>a});const r={FILE_SEARCH:!0,THINKING_MODE_TOGGLE:!0,SESSION_CHECKPOINTS:!0,TOOL_DASHBOARD:!0,PRD_PIPELINE_VISUALIZER:!0,TERMINAL_EXECUTION:!1,AGENT_EXECUTION:!1,PERMISSION_SYSTEM:!1,PREVIEW_COMPONENT_GENERATION:!0,PREVIEW_IFRAME_SANDBOX:!0,PREVIEW_ERROR_BOUNDARY:!0,PREVIEW_LIVE_UPDATES:!0,PREVIEW_VARIANT_GENERATION:!1,PREVIEW_RESPONSIVE_MODE:!1,PREVIEW_PROPS_MANIPULATION:!1,PREVIEW_AI_AGENTS:!1,PREVIEW_OPTIMIZATION:!1,PREVIEW_TEST_GENERATION:!1,PREVIEW_DESIGN_SYSTEM:!1,PREVIEW_MARKETPLACE:!1,PREVIEW_EXPORT_TOOLS:!1,MULTI_AGENT_VIEW:!1,COLLABORATION_MODE:!1,AI_MODEL_SWITCHING:!1};let s={...r};function o(e){var t;return null!==(t=s[e])&&void 0!==t&&t}function i(){return{...s}}function a(e,t){if(s={...s,[e]:t},"undefined"!==typeof window)try{const n=localStorage.getItem("coder1-feature-flags"),r=n?JSON.parse(n):{};r[e]=t,localStorage.setItem("coder1-feature-flags",JSON.stringify(r)),window.dispatchEvent(new CustomEvent("featureFlagsUpdated",{detail:{feature:e,enabled:t,allFlags:i()}}))}catch(n){console.error("Failed to save feature flags:",n)}}function l(){let e={...r};if("undefined"!==typeof process){const t={},n={REACT_APP_PREVIEW_COMPONENT_GENERATION:"PREVIEW_COMPONENT_GENERATION",REACT_APP_PREVIEW_IFRAME_SANDBOX:"PREVIEW_IFRAME_SANDBOX",REACT_APP_PREVIEW_ERROR_BOUNDARY:"PREVIEW_ERROR_BOUNDARY",REACT_APP_PREVIEW_LIVE_UPDATES:"PREVIEW_LIVE_UPDATES",REACT_APP_PREVIEW_VARIANT_GENERATION:"PREVIEW_VARIANT_GENERATION",REACT_APP_PREVIEW_RESPONSIVE_MODE:"PREVIEW_RESPONSIVE_MODE",REACT_APP_PREVIEW_PROPS_MANIPULATION:"PREVIEW_PROPS_MANIPULATION",REACT_APP_PREVIEW_AI_AGENTS:"PREVIEW_AI_AGENTS",REACT_APP_PREVIEW_OPTIMIZATION:"PREVIEW_OPTIMIZATION",REACT_APP_PREVIEW_TEST_GENERATION:"PREVIEW_TEST_GENERATION",REACT_APP_PREVIEW_DESIGN_SYSTEM:"PREVIEW_DESIGN_SYSTEM",REACT_APP_PREVIEW_MARKETPLACE:"PREVIEW_MARKETPLACE",REACT_APP_PREVIEW_EXPORT_TOOLS:"PREVIEW_EXPORT_TOOLS",REACT_APP_FILE_SEARCH:"FILE_SEARCH",REACT_APP_THINKING_MODE_TOGGLE:"THINKING_MODE_TOGGLE",REACT_APP_SESSION_CHECKPOINTS:"SESSION_CHECKPOINTS",REACT_APP_TOOL_DASHBOARD:"TOOL_DASHBOARD",REACT_APP_PRD_PIPELINE_VISUALIZER:"PRD_PIPELINE_VISUALIZER",REACT_APP_TERMINAL_EXECUTION:"TERMINAL_EXECUTION",REACT_APP_AGENT_EXECUTION:"AGENT_EXECUTION",REACT_APP_PERMISSION_SYSTEM:"PERMISSION_SYSTEM",REACT_APP_MULTI_AGENT_VIEW:"MULTI_AGENT_VIEW",REACT_APP_COLLABORATION_MODE:"COLLABORATION_MODE",REACT_APP_AI_MODEL_SWITCHING:"AI_MODEL_SWITCHING"};Object.entries(n).forEach(e=>{let[n,r]=e;const s={NODE_ENV:"production",PUBLIC_URL:"/ide",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[n];void 0!==s&&(t[r]="true"===s||"1"===s)}),e={...e,...t}}if("undefined"!==typeof window)try{const t=localStorage.getItem("coder1-feature-flags");if(t){const n=JSON.parse(t),s={};Object.keys(n).forEach(e=>{e in r&&(s[e]=Boolean(n[e]))}),e={...e,...s}}}catch(t){console.error("Failed to load feature flags from localStorage:",t)}return s=e,i()}function c(){s={...r},"undefined"!==typeof window&&(localStorage.removeItem("coder1-feature-flags"),window.dispatchEvent(new CustomEvent("featureFlagsUpdated",{detail:{feature:null,enabled:null,allFlags:i()}})))}l()},6422:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;const r=n(3871),s=n(6493),o=n(1656),i=(0,n(4343).default)("socket.io-parser"),a=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var l;t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(l=t.PacketType||(t.PacketType={}));function c(e){return"[object Object]"===Object.prototype.toString.call(e)}t.Encoder=class{constructor(e){this.replacer=e}encode(e){return i("encoding packet %j",e),e.type!==l.EVENT&&e.type!==l.ACK||!(0,o.hasBinary)(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===l.EVENT?l.BINARY_EVENT:l.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==l.BINARY_EVENT&&e.type!==l.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),i("encoded %j as %s",e,t),t}encodeAsBinary(e){const t=(0,s.deconstructPacket)(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}};class u extends r.Emitter{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===l.BINARY_EVENT;n||t.type===l.BINARY_ACK?(t.type=n?l.EVENT:l.ACK,this.reconstructor=new d(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!(0,o.isBinary)(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===l[n.type])throw new Error("unknown packet type "+n.type);if(n.type===l.BINARY_EVENT||n.type===l.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const s=e.substring(r,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(s)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!u.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return i("decoded %s as %j",e,n),n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case l.CONNECT:return c(t);case l.DISCONNECT:return void 0===t;case l.CONNECT_ERROR:return"string"===typeof t||c(t);case l.EVENT:case l.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===a.indexOf(t[0]));case l.ACK:case l.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}t.Decoder=u;class d{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=(0,s.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},6493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;const r=n(1656);function s(e,t){if(!e)return e;if((0,r.isBinary)(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=s(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=s(e[r],t));return n}return e}function o(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=o(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=o(e[n],t));return e}t.deconstructPacket=function(e){const t=[],n=e.data,r=e;return r.data=s(n,t),r.attachments=t.length,{packet:r,buffers:t}},t.reconstructPacket=function(e,t){return e.data=o(e.data,t),delete e.attachments,e}},6510:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let s=0;s<64;s++)r[n.charCodeAt(s)]=s;t.encode=e=>{let t,r=new Uint8Array(e),s=r.length,o="";for(t=0;t<s;t+=3)o+=n[r[t]>>2],o+=n[(3&r[t])<<4|r[t+1]>>4],o+=n[(15&r[t+1])<<2|r[t+2]>>6],o+=n[63&r[t+2]];return s%3===2?o=o.substring(0,o.length-1)+"=":s%3===1&&(o=o.substring(0,o.length-2)+"=="),o};t.decode=e=>{let t,n,s,o,i,a=.75*e.length,l=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);const u=new ArrayBuffer(a),d=new Uint8Array(u);for(t=0;t<l;t+=4)n=r[e.charCodeAt(t)],s=r[e.charCodeAt(t+1)],o=r[e.charCodeAt(t+2)],i=r[e.charCodeAt(t+3)],d[c++]=n<<2|s>>4,d[c++]=(15&s)<<4|o>>2,d[c++]=(3&o)<<6|63&i;return u}},6523:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Polling=void 0;const s=n(156),o=n(265),i=n(9585),a=(0,r(n(2902)).default)("engine.io-client:polling");class l extends s.Transport{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{a("paused"),this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(a("we are currently polling - waiting to pause"),e++,this.once("pollComplete",function(){a("pre-pause polling complete"),--e||t()})),this.writable||(a("we are currently writing - waiting to pause"),e++,this.once("drain",function(){a("pre-pause writing complete"),--e||t()}))}else t()}_poll(){a("polling"),this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){a("polling got data %s",e);(0,i.decodePayload)(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState?this._poll():a('ignoring poll - transport state "%s"',this.readyState))}doClose(){const e=()=>{a("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(a("transport open - closing"),e()):(a("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,(0,i.encodePayload)(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=(0,o.randomString)()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}t.Polling=l},6672:(e,t,n)=>{"use strict";var r=n(5043);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var i={d:{f:o,r:function(){throw Error(s(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(s(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),s="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:o}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:s,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},7004:(e,t,n)=>{"use strict";var r=n(8853),s=n(5043),o=n(7950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(i(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var p=Object.assign,h=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var _=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case S:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case f:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}var O=Array.isArray,I=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},D=[],z=-1;function M(e){return{current:e}}function B(e){0>z||(e.current=D[z],D[z]=null,z--)}function $(e,t){z++,D[z]=e.current,e.current=t}var U=M(null),H=M(null),W=M(null),V=M(null);function G(e,t){switch($(W,t),$(H,e),$(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=sd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(U),$(U,e)}function q(){B(U),B(H),B(W)}function K(e){null!==e.memoizedState&&$(V,e);var t=U.current,n=od(t,e.type);t!==n&&($(H,e),$(U,n))}function Y(e){H.current===e&&(B(U),B(H)),V.current===e&&(B(V),Kd._currentValue=L)}var Q=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,se=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,ie=r.unstable_LowPriority,ae=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function pe(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var he=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(me(e)/fe|0)|0},me=Math.log,fe=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var s=0,o=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~o)?s=ve(r):0!==(i&=a)?s=ve(i):n||0!==(n=a&~e)&&(s=ve(n)):0!==(a=r&~o)?s=ve(a):0!==i?s=ve(i):n||0!==(n=r&~e)&&(s=ve(n)),0===s?0:0!==t&&t!==s&&0===(t&o)&&((o=s&-s)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:s}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ce(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function ke(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Se(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function je(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ne(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-he(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ee(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-he(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function Te(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _e(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=F.p;return 0!==e?e:void 0===(e=window.event)?32:cp(e.type)}var Ae=Math.random().toString(36).slice(2),Re="__reactFiber$"+Ae,Oe="__reactProps$"+Ae,Ie="__reactContainer$"+Ae,Fe="__reactEvents$"+Ae,Le="__reactListeners$"+Ae,De="__reactHandles$"+Ae,ze="__reactResources$"+Ae,Me="__reactMarker$"+Ae;function Be(e){delete e[Re],delete e[Oe],delete e[Fe],delete e[Le],delete e[De]}function $e(e){var t=e[Re];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ie]||n[Re]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Re])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Ue(e){if(e=e[Re]||e[Ie]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function We(e){var t=e[ze];return t||(t=e[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[Me]=!0}var Ge=new Set,qe={};function Ke(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(qe[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Qe,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(s=t,Q.call(et,s)||!Q.call(Ze,s)&&(Je.test(s)?et[s]=!0:(Ze[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function st(e){if(void 0===Qe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qe=t&&t[1]||"",Xe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Qe+e+Xe}var ot=!1;function it(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var r=s}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),i=o[0],a=o[1];if(i&&a){var l=i.split("\n"),c=a.split("\n");for(s=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(r===l.length||s===c.length)for(r=l.length-1,s=c.length-1;1<=r&&0<=s&&l[r]!==c[s];)s--;for(;1<=r&&0<=s;r--,s--)if(l[r]!==c[s]){if(1!==r||1!==s)do{if(r--,0>--s||l[r]!==c[s]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=s);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?st(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return st(e.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return it(e.type,!1);case 11:return it(e.type.render,!1);case 1:return it(e.type,!0);case 31:return st("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function ft(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,s,o,i,a){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?vt(e,i,ct(t)):null!=n?vt(e,i,ct(n)):null!=r&&e.removeAttribute("value"),null==s&&null!=o&&(e.defaultChecked=!!o),null!=s&&(e.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function yt(e,t,n,r,s,o,i,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:s)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function vt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(O(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function Ct(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function jt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&St(e,s,r)}else for(var o in t)t.hasOwnProperty(o)&&St(e,o,t[o])}function Nt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _t(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,Ot=null;function It(e){var t=Ue(e);if(t&&(e=t.stateNode)){var n=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[Oe]||null;if(!s)throw Error(i(90));gt(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Ft=!1;function Lt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Rt||null!==Ot)&&($c(),Rt&&(t=Rt,e=Ot,Ot=Rt=null,It(t),e)))for(t=0;t<e.length;t++)It(e[t])}}function Dt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Oe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Mt=!1;if(zt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Mt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Op){Mt=!1}var $t=null,Ut=null,Ht=null;function Wt(){if(Ht)return Ht;var e,t,n=Ut,r=n.length,s="value"in $t?$t.value:$t.textContent,o=s.length;for(e=0;e<r&&n[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===s[o-t];t++);return Ht=s.slice(e,1<t?1-t:void 0)}function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function qt(){return!1}function Kt(e){function t(t,n,r,s,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Gt:qt,this.isPropagationStopped=qt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Yt,Qt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Kt(Jt),en=p({},Jt,{view:0,detail:0}),tn=Kt(en),nn=p({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Yt=e.screenX-Xt.screenX,Qt=e.screenY-Xt.screenY):Qt=Yt=0,Xt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),rn=Kt(nn),sn=Kt(p({},nn,{dataTransfer:0})),on=Kt(p({},en,{relatedTarget:0})),an=Kt(p({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Kt(p({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Kt(p({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function mn(){return hn}var fn=Kt(p({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Kt(p({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Kt(p({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),vn=Kt(p({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Kt(p({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Kt(p({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],Cn=zt&&"CompositionEvent"in window,kn=null;zt&&"documentMode"in document&&(kn=document.documentMode);var Sn=zt&&"TextEvent"in window&&!kn,jn=zt&&(!Cn||kn&&8<kn&&11>=kn),Nn=String.fromCharCode(32),En=!1;function Tn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function On(e,t,n,r){Rt?Ot?Ot.push(r):Ot=[r]:Rt=r,0<(t=Wu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var In=null,Fn=null;function Ln(e){Lu(e,0)}function Dn(e){if(pt(He(e)))return e}function zn(e,t){if("change"===e)return t}var Mn=!1;if(zt){var Bn;if(zt){var $n="oninput"in document;if(!$n){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),$n="function"===typeof Un.oninput}Bn=$n}else Bn=!1;Mn=Bn&&(!document.documentMode||9<document.documentMode)}function Hn(){In&&(In.detachEvent("onpropertychange",Wn),Fn=In=null)}function Wn(e){if("value"===e.propertyName&&Dn(Fn)){var t=[];On(t,Fn,e,At(e)),Lt(Ln,t)}}function Vn(e,t,n){"focusin"===e?(Hn(),Fn=n,(In=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&Hn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dn(Fn)}function qn(e,t){if("click"===e)return Dn(t)}function Kn(e,t){if("input"===e||"change"===e)return Dn(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Q.call(t,s)||!Yn(e[s],t[s]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=zt&&"documentMode"in document&&11>=document.documentMode,rr=null,sr=null,or=null,ir=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ir||null==rr||rr!==ht(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Qn(or,r)||(or=r,0<(r=Wu(sr,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function pr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}zt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var hr=pr("animationend"),mr=pr("animationiteration"),fr=pr("animationstart"),gr=pr("transitionrun"),yr=pr("transitionstart"),vr=pr("transitioncancel"),br=pr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){xr.set(e,t),Ke(t,[e])}wr.push("scrollEnd");var kr=new WeakMap;function Sr(e,t){if("object"===typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},kr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var jr=[],Nr=0,Er=0;function Tr(){for(var e=Nr,t=Er=Nr=0;t<e;){var n=jr[t];jr[t++]=null;var r=jr[t];jr[t++]=null;var s=jr[t];jr[t++]=null;var o=jr[t];if(jr[t++]=null,null!==r&&null!==s){var i=r.pending;null===i?s.next=s:(s.next=i.next,i.next=s),r.pending=s}0!==o&&Rr(n,s,o)}}function _r(e,t,n,r){jr[Nr++]=e,jr[Nr++]=t,jr[Nr++]=n,jr[Nr++]=r,Er|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return _r(e,t,n,r),Or(e)}function Ar(e,t){return _r(e,null,null,t),Or(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var s=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(s=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,s&&null!==t&&(s=31-he(n),null===(r=(e=o.hiddenUpdates)[s])?e[s]=[t]:r.push(t),t.lane=536870912|n),o):null}function Or(e){if(50<Rc)throw Rc=0,Oc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ir={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Fr(e,t,n,r)}function Dr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Mr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,s,o){var a=0;if(r=e,"function"===typeof e)Dr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Lr(31,n,t,s)).elementType=E,e.lanes=o,e;case g:return $r(n.children,s,o,t);case y:a=8,s|=24;break;case v:return(e=Lr(12,n,t,2|s)).elementType=v,e.lanes=o,e;case k:return(e=Lr(13,n,t,s)).elementType=k,e.lanes=o,e;case S:return(e=Lr(19,n,t,s)).elementType=S,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:a=10;break e;case x:a=9;break e;case C:a=11;break e;case j:a=14;break e;case N:a=16,r=null;break e}a=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(a,n,t,s)).elementType=e,t.type=r,t.lanes=o,t}function $r(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Ur(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=[],Vr=0,Gr=null,qr=0,Kr=[],Yr=0,Qr=null,Xr=1,Jr="";function Zr(e,t){Wr[Vr++]=qr,Wr[Vr++]=Gr,Gr=e,qr=t}function es(e,t,n){Kr[Yr++]=Xr,Kr[Yr++]=Jr,Kr[Yr++]=Qr,Qr=e;var r=Xr;e=Jr;var s=32-he(r)-1;r&=~(1<<s),n+=1;var o=32-he(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Xr=1<<32-he(t)+s|n<<s|r,Jr=o+e}else Xr=1<<o|n<<s|r,Jr=e}function ts(e){null!==e.return&&(Zr(e,1),es(e,1,0))}function ns(e){for(;e===Gr;)Gr=Wr[--Vr],Wr[Vr]=null,qr=Wr[--Vr],Wr[Vr]=null;for(;e===Qr;)Qr=Kr[--Yr],Kr[Yr]=null,Jr=Kr[--Yr],Kr[Yr]=null,Xr=Kr[--Yr],Kr[Yr]=null}var rs=null,ss=null,os=!1,is=null,as=!1,ls=Error(i(519));function cs(e){throw fs(Sr(Error(i(418,"")),e)),ls}function us(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Re]=e,t[Oe]=r,n){case"dialog":Du("cancel",t),Du("close",t);break;case"iframe":case"object":case"embed":Du("load",t);break;case"video":case"audio":for(n=0;n<Iu.length;n++)Du(Iu[n],t);break;case"source":Du("error",t);break;case"img":case"image":case"link":Du("error",t),Du("load",t);break;case"details":Du("toggle",t);break;case"input":Du("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Du("invalid",t);break;case"textarea":Du("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Qu(t.textContent,n)?(null!=r.popover&&(Du("beforetoggle",t),Du("toggle",t)),null!=r.onScroll&&Du("scroll",t),null!=r.onScrollEnd&&Du("scrollend",t),null!=r.onClick&&(t.onclick=Xu),t=!0):t=!1,t||cs(e)}function ds(e){for(rs=e.return;rs;)switch(rs.tag){case 5:case 13:return void(as=!1);case 27:case 3:return void(as=!0);default:rs=rs.return}}function ps(e){if(e!==rs)return!1;if(!os)return ds(e),os=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||id(e.type,e.memoizedProps)),t=!t),t&&ss&&cs(e),ds(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ss=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ss=null}}else 27===n?(n=ss,hd(e.type)?(e=vd,vd=null,ss=e):ss=n):ss=rs?yd(e.stateNode.nextSibling):null;return!0}function hs(){ss=rs=null,os=!1}function ms(){var e=is;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),is=null),e}function fs(e){null===is?is=[e]:is.push(e)}var gs=M(null),ys=null,vs=null;function bs(e,t,n){$(gs,t._currentValue),t._currentValue=n}function xs(e){e._currentValue=gs.current,B(gs)}function ws(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cs(e,t,n,r){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var o=s.dependencies;if(null!==o){var a=s.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ws(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),ws(a,n,e),a=null}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===e){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}}function ks(e,t,n,r){e=null;for(var s=t,o=!1;null!==s;){if(!o)if(0!==(524288&s.flags))o=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var a=s.alternate;if(null===a)throw Error(i(387));if(null!==(a=a.memoizedProps)){var l=s.type;Yn(s.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(s===V.current){if(null===(a=s.alternate))throw Error(i(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(Kd):e=[Kd])}s=s.return}null!==e&&Cs(t,e,n,r),t.flags|=262144}function Ss(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function js(e){ys=e,vs=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ns(e){return Ts(ys,e)}function Es(e,t){return null===ys&&js(e),Ts(e,t)}function Ts(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vs){if(null===e)throw Error(i(308));vs=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vs=vs.next=t;return n}var _s="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ps=r.unstable_scheduleCallback,As=r.unstable_NormalPriority,Rs={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Os(){return{controller:new _s,data:new Map,refCount:0}}function Is(e){e.refCount--,0===e.refCount&&Ps(As,function(){e.controller.abort()})}var Fs=null,Ls=0,Ds=0,zs=null;function Ms(){if(0===--Ls&&null!==Fs){null!==zs&&(zs.status="fulfilled");var e=Fs;Fs=null,Ds=0,zs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Bs=I.S;I.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Fs){var n=Fs=[];Ls=0,Ds=_u(),zs={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ls++,t.then(Ms,Ms)}(0,t),null!==Bs&&Bs(e,t)};var $s=M(null);function Us(){var e=$s.current;return null!==e?e:rc.pooledCache}function Hs(e,t){$($s,null===t?$s.current:t.pool)}function Ws(){var e=Us();return null===e?null:{parent:Rs._currentValue,pool:e}}var Vs=Error(i(460)),Gs=Error(i(474)),qs=Error(i(542)),Ks={then:function(){}};function Ys(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Qs(){}function Xs(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Qs,Qs),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Qs,Qs);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Js=t,Vs}}var Js=null;function Zs(){if(null===Js)throw Error(i(459));var e=Js;return Js=null,e}function eo(e){if(e===Vs||e===qs)throw Error(i(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function so(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=Or(e),Rr(e,null,n),t}return _r(e,r,t,n),Or(e)}function io(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}function ao(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?s=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?s=o=t:o=o.next=t}else s=o=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function co(){if(lo){if(null!==zs)throw zs}}function uo(e,t,n,r){lo=!1;var s=e.updateQueue;to=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(null!==a){s.shared.pending=null;var l=a,c=l.next;l.next=null,null===i?o=c:i.next=c,i=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=s.baseState;for(i=0,u=c=l=null,a=o;;){var h=-536870913&a.lane,m=h!==a.lane;if(m?(oc&h)===h:(r&h)===h){0!==h&&h===Ds&&(lo=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var f=e,g=a;h=t;var y=n;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(y,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(y,d,h):f)||void 0===h)break e;d=p({},d,h);break e;case 2:to=!0}}null!==(h=a.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=s.callbacks)?s.callbacks=[h]:m.push(h))}else m={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=m,l=d):u=u.next=m,i|=h;if(null===(a=a.next)){if(null===(a=s.shared.pending))break;a=(m=a).next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null===o&&(s.shared.lanes=0),hc|=i,e.lanes=i,e.memoizedState=d}}function po(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function ho(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)po(n[e],t)}var mo=M(null),fo=M(0);function go(e,t){$(fo,e=dc),$(mo,t),dc=e|t.baseLanes}function yo(){$(fo,dc),$(mo,mo.current)}function vo(){dc=fo.current,B(mo),B(fo)}var bo=0,xo=null,wo=null,Co=null,ko=!1,So=!1,jo=!1,No=0,Eo=0,To=null,_o=0;function Po(){throw Error(i(321))}function Ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Ro(e,t,n,r,s,o){return bo=o,xo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=null===e||null===e.memoizedState?Gi:qi,jo=!1,o=n(r,s),jo=!1,So&&(o=Io(t,n,r,s)),Oo(e),o}function Oo(e){I.H=Vi;var t=null!==wo&&null!==wo.next;if(bo=0,Co=wo=xo=null,ko=!1,Eo=0,To=null,t)throw Error(i(300));null===e||Ea||null!==(e=e.dependencies)&&Ss(e)&&(Ea=!0)}function Io(e,t,n,r){xo=e;var s=0;do{if(So&&(To=null),Eo=0,So=!1,25<=s)throw Error(i(301));if(s+=1,Co=wo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}I.H=Ki,o=t(n,r)}while(So);return o}function Fo(){var e=I.H,t=e.useState()[0];return t="function"===typeof t.then?$o(t):t,e=e.useState()[0],(null!==wo?wo.memoizedState:null)!==e&&(xo.flags|=1024),t}function Lo(){var e=0!==No;return No=0,e}function Do(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function zo(e){if(ko){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ko=!1}bo=0,Co=wo=xo=null,So=!1,Eo=No=0,To=null}function Mo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Co?xo.memoizedState=Co=e:Co=Co.next=e,Co}function Bo(){if(null===wo){var e=xo.alternate;e=null!==e?e.memoizedState:null}else e=wo.next;var t=null===Co?xo.memoizedState:Co.next;if(null!==t)Co=t,wo=e;else{if(null===e){if(null===xo.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(wo=e).memoizedState,baseState:wo.baseState,baseQueue:wo.baseQueue,queue:wo.queue,next:null},null===Co?xo.memoizedState=Co=e:Co=Co.next=e}return Co}function $o(e){var t=Eo;return Eo+=1,null===To&&(To=[]),e=Xs(To,e,t),t=xo,null===(null===Co?t.memoizedState:Co.next)&&(t=t.alternate,I.H=null===t||null===t.memoizedState?Gi:qi),e}function Uo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return $o(e);if(e.$$typeof===w)return Ns(e)}throw Error(i(438,String(e)))}function Ho(e){var t=null,n=xo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=xo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function Wo(e,t){return"function"===typeof t?t(e):t}function Vo(e){return Go(Bo(),wo,e)}function Go(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var s=e.baseQueue,o=r.pending;if(null!==o){if(null!==s){var a=s.next;s.next=o.next,o.next=a}t.baseQueue=s=o,r.pending=null}if(o=e.baseState,null===s)e.memoizedState=o;else{var l=a=null,c=null,u=t=s.next,d=!1;do{var p=-536870913&u.lane;if(p!==u.lane?(oc&p)===p:(bo&p)===p){var h=u.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),p===Ds&&(d=!0);else{if((bo&h)===h){u=u.next,h===Ds&&(d=!0);continue}p={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,a=o):c=c.next=p,xo.lanes|=h,hc|=h}p=u.action,jo&&n(o,p),o=u.hasEagerState?u.eagerState:n(o,p)}else h={lane:p,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,xo.lanes|=p,hc|=p;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Yn(o,e.memoizedState)&&(Ea=!0,d&&null!==(n=zs)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===s&&(r.lanes=0),[e.memoizedState,r.dispatch]}function qo(e){var t=Bo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(null!==s){n.pending=null;var a=s=s.next;do{o=e(o,a.action),a=a.next}while(a!==s);Yn(o,t.memoizedState)||(Ea=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ko(e,t,n){var r=xo,s=Bo(),o=os;if(o){if(void 0===n)throw Error(i(407));n=n()}else n=t();var a=!Yn((wo||s).memoizedState,n);if(a&&(s.memoizedState=n,Ea=!0),s=s.queue,yi(2048,8,Xo.bind(null,r,s,e),[e]),s.getSnapshot!==t||a||null!==Co&&1&Co.memoizedState.tag){if(r.flags|=2048,mi(9,{destroy:void 0,resource:void 0},Qo.bind(null,r,s,n,t),null),null===rc)throw Error(i(349));o||0!==(124&bo)||Yo(r,t,n)}return n}function Yo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qo(e,t,n,r){t.value=n,t.getSnapshot=r,Jo(t)&&Zo(e)}function Xo(e,t,n){return n(function(){Jo(t)&&Zo(e)})}function Jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Zo(e){var t=Ar(e,2);null!==t&&Lc(t,e,2)}function ei(e){var t=Mo();if("function"===typeof e){var n=e;if(e=n(),jo){pe(!0);try{n()}finally{pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t}function ti(e,t,n,r){return e.baseState=n,Go(e,wo,"function"===typeof r?r:Wo)}function ni(e,t,n,r,s){if(Ui(e))throw Error(i(485));if(null!==(e=t.action)){var o={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==I.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,ri(t,o)):(o.next=n.next,t.pending=n.next=o)}}function ri(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var o=I.T,i={};I.T=i;try{var a=n(s,r),l=I.S;null!==l&&l(i,a),si(e,t,a)}catch(c){ii(e,t,c)}finally{I.T=o}}else try{si(e,t,o=n(s,r))}catch(u){ii(e,t,u)}}function si(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){oi(e,t,n)},function(n){return ii(e,t,n)}):oi(e,t,n)}function oi(e,t,n){t.status="fulfilled",t.value=n,ai(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ri(e,n)))}function ii(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ai(t),t=t.next}while(t!==r)}e.action=null}function ai(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function li(e,t){return t}function ci(e,t){if(os){var n=rc.formState;if(null!==n){e:{var r=xo;if(os){if(ss){t:{for(var s=ss,o=as;8!==s.nodeType;){if(!o){s=null;break t}if(null===(s=yd(s.nextSibling))){s=null;break t}}s="F!"===(o=s.data)||"F"===o?s:null}if(s){ss=yd(s.nextSibling),r="F!"===s.data;break e}}cs(r)}r=!1}r&&(t=n[0])}}return(n=Mo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:t},n.queue=r,n=Mi.bind(null,xo,r),r.dispatch=n,r=ei(!1),o=$i.bind(null,xo,!1,r.queue),s={state:t,dispatch:null,action:e,pending:null},(r=Mo()).queue=s,n=ni.bind(null,xo,s,o,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function ui(e){return di(Bo(),wo,e)}function di(e,t,n){if(t=Go(e,t,li)[0],e=Vo(Wo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=$o(t)}catch(i){if(i===Vs)throw qs;throw i}else r=t;var s=(t=Bo()).queue,o=s.dispatch;return n!==t.memoizedState&&(xo.flags|=2048,mi(9,{destroy:void 0,resource:void 0},pi.bind(null,s,n),null)),[r,o,e]}function pi(e,t){e.action=t}function hi(e){var t=Bo(),n=wo;if(null!==n)return di(t,n,e);Bo(),t=t.memoizedState;var r=(n=Bo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function mi(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=xo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function fi(){return Bo().memoizedState}function gi(e,t,n,r){var s=Mo();r=void 0===r?null:r,xo.flags|=e,s.memoizedState=mi(1|t,{destroy:void 0,resource:void 0},n,r)}function yi(e,t,n,r){var s=Bo();r=void 0===r?null:r;var o=s.memoizedState.inst;null!==wo&&null!==r&&Ao(r,wo.memoizedState.deps)?s.memoizedState=mi(t,o,n,r):(xo.flags|=e,s.memoizedState=mi(1|t,o,n,r))}function vi(e,t){gi(8390656,8,e,t)}function bi(e,t){yi(2048,8,e,t)}function xi(e,t){return yi(4,2,e,t)}function wi(e,t){return yi(4,4,e,t)}function Ci(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ki(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,yi(4,4,Ci.bind(null,t,e),n)}function Si(){}function ji(e,t){var n=Bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ni(e,t){var n=Bo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ao(t,r[1]))return r[0];if(r=e(),jo){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r}function Ei(e,t,n){return void 0===n||0!==(1073741824&bo)?e.memoizedState=t:(e.memoizedState=n,e=Fc(),xo.lanes|=e,hc|=e,n)}function Ti(e,t,n,r){return Yn(n,t)?n:null!==mo.current?(e=Ei(e,n,r),Yn(e,t)||(Ea=!0),e):0===(42&bo)?(Ea=!0,e.memoizedState=n):(e=Fc(),xo.lanes|=e,hc|=e,t)}function _i(e,t,n,r,s){var o=F.p;F.p=0!==o&&8>o?o:8;var i=I.T,a={};I.T=a,$i(e,!1,t,n);try{var l=s(),c=I.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Bi(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Ic());else Bi(e,t,r,Ic())}catch(u){Bi(e,t,{then:function(){},status:"rejected",reason:u},Ic())}finally{F.p=o,I.T=i}}function Pi(){}function Ai(e,t,n,r){if(5!==e.tag)throw Error(i(476));var s=Ri(e).queue;_i(e,s,t,L,null===n?Pi:function(){return Oi(e),n(r)})}function Ri(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Oi(e){Bi(e,Ri(e).next.queue,{},Ic())}function Ii(){return Ns(Kd)}function Fi(){return Bo().memoizedState}function Li(){return Bo().memoizedState}function Di(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ic(),r=oo(t,e=so(n),n);return null!==r&&(Lc(r,t,n),io(r,t,n)),t={cache:Os()},void(e.payload=t)}t=t.return}}function zi(e,t,n){var r=Ic();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ui(e)?Hi(t,n):null!==(n=Pr(e,t,n,r))&&(Lc(n,e,r),Wi(n,t,r))}function Mi(e,t,n){Bi(e,t,n,Ic())}function Bi(e,t,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ui(e))Hi(t,s);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Yn(a,i))return _r(e,t,s,0),null===rc&&Tr(),!1}catch(l){}if(null!==(n=Pr(e,t,s,r)))return Lc(n,e,r),Wi(n,t,r),!0}return!1}function $i(e,t,n,r){if(r={lane:2,revertLane:_u(),action:r,hasEagerState:!1,eagerState:null,next:null},Ui(e)){if(t)throw Error(i(479))}else null!==(t=Pr(e,n,r,2))&&Lc(t,e,2)}function Ui(e){var t=e.alternate;return e===xo||null!==t&&t===xo}function Hi(e,t){So=ko=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wi(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}var Vi={readContext:Ns,use:Uo,useCallback:Po,useContext:Po,useEffect:Po,useImperativeHandle:Po,useLayoutEffect:Po,useInsertionEffect:Po,useMemo:Po,useReducer:Po,useRef:Po,useState:Po,useDebugValue:Po,useDeferredValue:Po,useTransition:Po,useSyncExternalStore:Po,useId:Po,useHostTransitionStatus:Po,useFormState:Po,useActionState:Po,useOptimistic:Po,useMemoCache:Po,useCacheRefresh:Po},Gi={readContext:Ns,use:Uo,useCallback:function(e,t){return Mo().memoizedState=[e,void 0===t?null:t],e},useContext:Ns,useEffect:vi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gi(4194308,4,Ci.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gi(4194308,4,e,t)},useInsertionEffect:function(e,t){gi(4,2,e,t)},useMemo:function(e,t){var n=Mo();t=void 0===t?null:t;var r=e();if(jo){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Mo();if(void 0!==n){var s=n(t);if(jo){pe(!0);try{n(t)}finally{pe(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=zi.bind(null,xo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Mo().memoizedState=e},useState:function(e){var t=(e=ei(e)).queue,n=Mi.bind(null,xo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Si,useDeferredValue:function(e,t){return Ei(Mo(),e,t)},useTransition:function(){var e=ei(!1);return e=_i.bind(null,xo,e.queue,!0,!1),Mo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=xo,s=Mo();if(os){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===rc)throw Error(i(349));0!==(124&oc)||Yo(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,vi(Xo.bind(null,r,o,e),[e]),r.flags|=2048,mi(9,{destroy:void 0,resource:void 0},Qo.bind(null,r,o,n,t),null),n},useId:function(){var e=Mo(),t=rc.identifierPrefix;if(os){var n=Jr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-he(Xr)-1)).toString(32)+n),0<(n=No++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=_o++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ii,useFormState:ci,useActionState:ci,useOptimistic:function(e){var t=Mo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=$i.bind(null,xo,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ho,useCacheRefresh:function(){return Mo().memoizedState=Di.bind(null,xo)}},qi={readContext:Ns,use:Uo,useCallback:ji,useContext:Ns,useEffect:bi,useImperativeHandle:ki,useInsertionEffect:xi,useLayoutEffect:wi,useMemo:Ni,useReducer:Vo,useRef:fi,useState:function(){return Vo(Wo)},useDebugValue:Si,useDeferredValue:function(e,t){return Ti(Bo(),wo.memoizedState,e,t)},useTransition:function(){var e=Vo(Wo)[0],t=Bo().memoizedState;return["boolean"===typeof e?e:$o(e),t]},useSyncExternalStore:Ko,useId:Fi,useHostTransitionStatus:Ii,useFormState:ui,useActionState:ui,useOptimistic:function(e,t){return ti(Bo(),0,e,t)},useMemoCache:Ho,useCacheRefresh:Li},Ki={readContext:Ns,use:Uo,useCallback:ji,useContext:Ns,useEffect:bi,useImperativeHandle:ki,useInsertionEffect:xi,useLayoutEffect:wi,useMemo:Ni,useReducer:qo,useRef:fi,useState:function(){return qo(Wo)},useDebugValue:Si,useDeferredValue:function(e,t){var n=Bo();return null===wo?Ei(n,e,t):Ti(n,wo.memoizedState,e,t)},useTransition:function(){var e=qo(Wo)[0],t=Bo().memoizedState;return["boolean"===typeof e?e:$o(e),t]},useSyncExternalStore:Ko,useId:Fi,useHostTransitionStatus:Ii,useFormState:hi,useActionState:hi,useOptimistic:function(e,t){var n=Bo();return null!==wo?ti(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ho,useCacheRefresh:Li},Yi=null,Qi=0;function Xi(e){var t=Qi;return Qi+=1,null===Yi&&(Yi=[]),Xs(Yi,e,t)}function Ji(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zi(e,t){if(t.$$typeof===h)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=zr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ur(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&ea(o)===t.type)?(Ji(t=s(t,n.props),n),t.return=e,t):(Ji(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=$r(n,e.mode,r,o)).return=e,t):((t=s(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ur(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return Ji(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Hr(t,e.mode,n)).return=e,t;case N:return p(e,t=(0,t._init)(t._payload),n)}if(O(t)||P(t))return(t=$r(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,Xi(t),n);if(t.$$typeof===w)return p(e,Es(e,t),n);Zi(e,t)}return null}function h(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===s?c(e,t,n,r):null;case f:return n.key===s?u(e,t,n,r):null;case N:return h(e,t,n=(s=n._init)(n._payload),r)}if(O(n)||P(n))return null!==s?null:d(e,t,n,r,null);if("function"===typeof n.then)return h(e,t,Xi(n),r);if(n.$$typeof===w)return h(e,t,Es(e,n),r);Zi(e,n)}return null}function y(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case N:return y(e,t,n,r=(0,r._init)(r._payload),s)}if(O(r)||P(r))return d(t,e=e.get(n)||null,r,s,null);if("function"===typeof r.then)return y(e,t,n,Xi(r),s);if(r.$$typeof===w)return y(e,t,n,Es(t,r),s);Zi(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=s(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===N&&ea(b)===c.type){n(l,c.sibling),Ji(d=s(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=$r(u.props.children,l.mode,d,u.key)).return=l,l=d):(Ji(d=Br(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case f:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=s(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Hr(u,l.mode,d)).return=l,l=d}return a(l);case N:return v(l,c,u=(b=u._init)(u._payload),d)}if(O(u))return function(s,i,a,l){for(var c=null,u=null,d=i,m=i=0,f=null;null!==d&&m<a.length;m++){d.index>m?(f=d,d=null):f=d.sibling;var g=h(s,d,a[m],l);if(null===g){null===d&&(d=f);break}e&&d&&null===g.alternate&&t(s,d),i=o(g,i,m),null===u?c=g:u.sibling=g,u=g,d=f}if(m===a.length)return n(s,d),os&&Zr(s,m),c;if(null===d){for(;m<a.length;m++)null!==(d=p(s,a[m],l))&&(i=o(d,i,m),null===u?c=d:u.sibling=d,u=d);return os&&Zr(s,m),c}for(d=r(d);m<a.length;m++)null!==(f=y(d,s,m,a[m],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?m:f.key),i=o(f,i,m),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return t(s,e)}),os&&Zr(s,m),c}(l,c,u,d);if(P(u)){if("function"!==typeof(b=P(u)))throw Error(i(150));return function(s,a,l,c){if(null==l)throw Error(i(151));for(var u=null,d=null,m=a,f=a=0,g=null,v=l.next();null!==m&&!v.done;f++,v=l.next()){m.index>f?(g=m,m=null):g=m.sibling;var b=h(s,m,v.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(s,m),a=o(b,a,f),null===d?u=b:d.sibling=b,d=b,m=g}if(v.done)return n(s,m),os&&Zr(s,f),u;if(null===m){for(;!v.done;f++,v=l.next())null!==(v=p(s,v.value,c))&&(a=o(v,a,f),null===d?u=v:d.sibling=v,d=v);return os&&Zr(s,f),u}for(m=r(m);!v.done;f++,v=l.next())null!==(v=y(m,s,f,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?f:v.key),a=o(v,a,f),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(s,e)}),os&&Zr(s,f),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Xi(u),d);if(u.$$typeof===w)return v(l,c,Es(l,u),d);Zi(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=s(c,u)).return=l,l=d):(n(l,c),(d=Ur(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,r){try{Qi=0;var s=v(e,t,n,r);return Yi=null,s}catch(i){if(i===Vs||i===qs)throw i;var o=Lr(29,i,null,e.mode);return o.lanes=r,o.return=e,o}}}var na=ta(!0),ra=ta(!1),sa=M(null),oa=null;function ia(e){var t=e.alternate;$(ua,1&ua.current),$(sa,e),null===oa&&(null===t||null!==mo.current||null!==t.memoizedState)&&(oa=e)}function aa(e){if(22===e.tag){if($(ua,ua.current),$(sa,e),null===oa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(oa=e)}}else la()}function la(){$(ua,ua.current),$(sa,sa.current)}function ca(e){B(sa),oa===e&&(oa=null),B(ua)}var ua=M(0);function da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function pa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ic(),s=so(r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=oo(e,s,r))&&(Lc(t,e,r),io(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ic(),s=so(r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=oo(e,s,r))&&(Lc(t,e,r),io(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ic(),r=so(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=oo(e,r,n))&&(Lc(t,e,n),io(t,e,n))}};function ma(e,t,n,r,s,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,r)||!Qn(s,o))}function fa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ga(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var s in n===t&&(n=p({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}var ya="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function va(e){ya(e)}function ba(e){console.error(e)}function xa(e){ya(e)}function wa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ca(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ka(e,t,n){return(n=so(n)).tag=3,n.payload={element:null},n.callback=function(){wa(e,t)},n}function Sa(e){return(e=so(e)).tag=3,e}function ja(e,t,n,r){var s=n.type.getDerivedStateFromError;if("function"===typeof s){var o=r.value;e.payload=function(){return s(o)},e.callback=function(){Ca(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){Ca(t,n,r),"function"!==typeof s&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Na=Error(i(461)),Ea=!1;function Ta(e,t,n,r){t.child=null===e?ra(t,null,n,r):na(t,e.child,n,r)}function _a(e,t,n,r,s){n=n.render;var o=t.ref;if("ref"in r){var i={};for(var a in r)"ref"!==a&&(i[a]=r[a])}else i=r;return js(t),r=Ro(e,t,n,i,o,s),a=Lo(),null===e||Ea?(os&&a&&ts(t),t.flags|=1,Ta(e,t,r,s),t.child):(Do(e,t,s),Ya(e,t,s))}function Pa(e,t,n,r,s){if(null===e){var o=n.type;return"function"!==typeof o||Dr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Aa(e,t,o,r,s))}if(o=e.child,!Qa(e,s)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(i,r)&&e.ref===t.ref)return Ya(e,t,s)}return t.flags|=1,(e=zr(o,r)).ref=t.ref,e.return=t,t.child=e}function Aa(e,t,n,r,s){if(null!==e){var o=e.memoizedProps;if(Qn(o,r)&&e.ref===t.ref){if(Ea=!1,t.pendingProps=r=o,!Qa(e,s))return t.lanes=e.lanes,Ya(e,t,s);0!==(131072&e.flags)&&(Ea=!0)}}return Fa(e,t,n,r,s)}function Ra(e,t,n){var r=t.pendingProps,s=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(s=t.child=e.child,o=0;null!==s;)o=o|s.lanes|s.childLanes,s=s.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Oa(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Oa(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hs(0,null!==o?o.cachePool:null),null!==o?go(t,o):yo(),aa(t)}else null!==o?(Hs(0,o.cachePool),go(t,o),la(),t.memoizedState=null):(null!==e&&Hs(0,null),yo(),la());return Ta(e,t,s,n),t.child}function Oa(e,t,n,r){var s=Us();return s=null===s?null:{parent:Rs._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Hs(0,null),yo(),aa(t),null!==e&&ks(e,t,r,!0),null}function Ia(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Fa(e,t,n,r,s){return js(t),n=Ro(e,t,n,r,void 0,s),r=Lo(),null===e||Ea?(os&&r&&ts(t),t.flags|=1,Ta(e,t,n,s),t.child):(Do(e,t,s),Ya(e,t,s))}function La(e,t,n,r,s,o){return js(t),t.updateQueue=null,n=Io(t,r,n,s),Oo(e),r=Lo(),null===e||Ea?(os&&r&&ts(t),t.flags|=1,Ta(e,t,n,o),t.child):(Do(e,t,o),Ya(e,t,o))}function Da(e,t,n,r,s){if(js(t),null===t.stateNode){var o=Ir,i=n.contextType;"object"===typeof i&&null!==i&&(o=Ns(i)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=ha,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},no(t),i=n.contextType,o.context="object"===typeof i&&null!==i?Ns(i):Ir,o.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(pa(t,n,i,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(i=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),i!==o.state&&ha.enqueueReplaceState(o,o.state,null),uo(t,r,o,s),co(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=ga(n,a);o.props=l;var c=o.context,u=n.contextType;i=Ir,"object"===typeof u&&null!==u&&(i=Ns(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||c!==i)&&fa(t,o,r,i),to=!1;var p=t.memoizedState;o.state=p,uo(t,r,o,s),co(),c=t.memoizedState,a||p!==c||to?("function"===typeof d&&(pa(t,n,d,r),c=t.memoizedState),(l=to||ma(t,n,l,r,p,c,i))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=i,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ro(e,t),u=ga(n,i=t.memoizedProps),o.props=u,d=t.pendingProps,p=o.context,c=n.contextType,l=Ir,"object"===typeof c&&null!==c&&(l=Ns(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==d||p!==l)&&fa(t,o,r,l),to=!1,p=t.memoizedState,o.state=p,uo(t,r,o,s),co();var h=t.memoizedState;i!==d||p!==h||to||null!==e&&null!==e.dependencies&&Ss(e.dependencies)?("function"===typeof a&&(pa(t,n,a,r),h=t.memoizedState),(u=to||ma(t,n,u,r,p,h,l)||null!==e&&null!==e.dependencies&&Ss(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Ia(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=na(t,e.child,null,s),t.child=na(t,null,n,s)):Ta(e,t,n,s),t.memoizedState=o.state,e=t.child):e=Ya(e,t,s),e}function za(e,t,n,r){return hs(),t.flags|=256,Ta(e,t,n,r),t.child}var Ma={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ba(e){return{baseLanes:e,cachePool:Ws()}}function $a(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Ua(e,t,n){var r,s=t.pendingProps,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ua.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(os){if(o?ia(t):la(),os){var l,c=ss;if(l=c){e:{for(l=c,c=as;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Qr?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Lr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,rs=t,ss=null,l=!0):l=!1}l||cs(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;ca(t)}return c=s.children,s=s.fallback,o?(la(),c=Wa({mode:"hidden",children:c},o=t.mode),s=$r(s,o,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(o=t.child).memoizedState=Ba(n),o.childLanes=$a(e,r,n),t.memoizedState=Ma,s):(ia(t),Ha(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(ia(t),t.flags&=-257,t=Va(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),o=s.fallback,c=t.mode,s=Wa({mode:"visible",children:s.children},c),(o=$r(o,c,n,null)).flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,na(t,e.child,null,n),(s=t.child).memoizedState=Ba(n),s.childLanes=$a(e,r,n),t.memoizedState=Ma,t=o);else if(ia(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(s=Error(i(419))).stack="",s.digest=r,fs({value:s,source:null,stack:null}),t=Va(e,t,n)}else if(Ea||ks(e,t,n,!1),r=0!==(n&e.childLanes),Ea||r){if(null!==(r=rc)&&(0!==(s=0!==((s=0!==(42&(s=n&-n))?1:Te(s))&(r.suspendedLanes|n))?0:s)&&s!==l.retryLane))throw l.retryLane=s,Ar(e,s),Lc(r,e,s),Na;"$?"===c.data||qc(),t=Va(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ss=yd(c.nextSibling),rs=t,os=!0,is=null,as=!1,null!==e&&(Kr[Yr++]=Xr,Kr[Yr++]=Jr,Kr[Yr++]=Qr,Xr=e.id,Jr=e.overflow,Qr=t),(t=Ha(t,s.children)).flags|=4096);return t}return o?(la(),o=s.fallback,c=t.mode,u=(l=e.child).sibling,(s=zr(l,{mode:"hidden",children:s.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=zr(u,o):(o=$r(o,c,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,null===(c=e.child.memoizedState)?c=Ba(n):(null!==(l=c.cachePool)?(u=Rs._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Ws(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=$a(e,r,n),t.memoizedState=Ma,s):(ia(t),e=(n=e.child).sibling,(n=zr(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ha(e,t){return(t=Wa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Wa(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Va(e,t,n){return na(t,e.child,null,n),(e=Ha(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ga(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ws(e.return,t,n)}function qa(e,t,n,r,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Ka(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Ta(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ga(e,n,t);else if(19===e.tag)Ga(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch($(ua,r),s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===da(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),qa(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===da(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}qa(t,!0,n,null,o);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ya(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ks(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=zr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qa(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ss(e))}function Xa(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ea=!0;else{if(!Qa(e,n)&&0===(128&t.flags))return Ea=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),bs(0,Rs,e.memoizedState.cache),hs();break;case 27:case 5:K(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:bs(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ia(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ua(e,t,n):(ia(t),null!==(e=Ya(e,t,n))?e.sibling:null);ia(t);break;case 19:var s=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ks(e,t,n,!1),r=0!==(n&t.childLanes)),s){if(r)return Ka(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),$(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Ra(e,t,n);case 24:bs(0,Rs,e.memoizedState.cache)}return Ya(e,t,n)}(e,t,n);Ea=0!==(131072&e.flags)}else Ea=!1,os&&0!==(1048576&t.flags)&&es(t,qr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,s=r._init;if(r=s(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((s=r.$$typeof)===C){t.tag=11,t=_a(null,t,r,e,n);break e}if(s===j){t.tag=14,t=Pa(null,t,r,e,n);break e}}throw t=R(r)||r,Error(i(306,t,""))}Dr(r)?(e=ga(r,e),t.tag=1,t=Da(null,t,r,e,n)):(t.tag=0,t=Fa(null,t,r,e,n))}return t;case 0:return Fa(e,t,t.type,t.pendingProps,n);case 1:return Da(e,t,r=t.type,s=ga(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;s=o.element,ro(e,t),uo(t,r,null,n);var a=t.memoizedState;if(r=a.cache,bs(0,Rs,r),r!==o.cache&&Cs(t,[Rs],n,!0),co(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=za(e,t,r,n);break e}if(r!==s){fs(s=Sr(Error(i(424)),t)),t=za(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ss=yd(e.firstChild),rs=t,os=!0,is=null,as=!0,n=ra(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hs(),r===s){t=Ya(e,t,n);break e}Ta(e,t,r,n)}t=t.child}return t;case 26:return Ia(e,t),null===e?(n=Td(t.type,null,t.pendingProps,null))?t.memoizedState=n:os||(n=t.type,e=t.pendingProps,(r=rd(W.current).createElement(n))[Re]=t,r[Oe]=e,ed(r,n,e),Ve(r),t.stateNode=r):t.memoizedState=Td(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&os&&(r=t.stateNode=xd(t.type,t.pendingProps,W.current),rs=t,as=!0,s=ss,hd(t.type)?(vd=s,ss=yd(r.firstChild)):ss=s),Ta(e,t,t.pendingProps.children,n),Ia(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&os&&((s=r=ss)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Me])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===o)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,as))?(t.stateNode=r,rs=t,ss=yd(r.firstChild),as=!1,s=!0):s=!1),s||cs(t)),K(t),s=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,id(s,o)?r=null:null!==a&&id(s,a)&&(t.flags|=32),null!==t.memoizedState&&(s=Ro(e,t,Fo,null,null,n),Kd._currentValue=s),Ia(e,t),Ta(e,t,r,n),t.child;case 6:return null===e&&os&&((e=n=ss)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,as))?(t.stateNode=n,rs=t,ss=null,e=!0):e=!1),e||cs(t)),null;case 13:return Ua(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=na(t,null,r,n):Ta(e,t,r,n),t.child;case 11:return _a(e,t,t.type,t.pendingProps,n);case 7:return Ta(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ta(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bs(0,t.type,r.value),Ta(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,js(t),r=r(s=Ns(s)),t.flags|=1,Ta(e,t,r,n),t.child;case 14:return Pa(e,t,t.type,t.pendingProps,n);case 15:return Aa(e,t,t.type,t.pendingProps,n);case 19:return Ka(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Wa(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=zr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ra(e,t,n);case 24:return js(t),r=Ns(Rs),null===e?(null===(s=Us())&&(s=rc,o=Os(),s.pooledCache=o,o.refCount++,null!==o&&(s.pooledCacheLanes|=n),s=o),t.memoizedState={parent:r,cache:s},no(t),bs(0,Rs,s)):(0!==(e.lanes&n)&&(ro(e,t),uo(t,null,null,n),co()),s=e.memoizedState,o=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),bs(0,Rs,r)):(r=o.cache,bs(0,Rs,r),r!==s.cache&&Cs(t,[Rs],n,!0))),Ta(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Ja(e){e.flags|=4}function Za(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!$d(t)){if(null!==(t=sa.current)&&((4194048&oc)===oc?null!==oa:(62914560&oc)!==oc&&0===(536870912&oc)||t!==oa))throw Js=Ks,Gs;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!os)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=65011712&s.subtreeFlags,r|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ns(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xs(Rs),q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ps(t)?Ja(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ms())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Ja(t),null!==n?(nl(t),Za(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ja(t),nl(t),Za(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ja(t),nl(t),t.flags&=-16777217),null;case 27:Y(t),n=W.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return nl(t),null}e=U.current,ps(t)?us(t):(e=xd(s,r,n),t.stateNode=e,Ja(t))}return nl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return nl(t),null}if(e=U.current,ps(t))us(t);else{switch(s=rd(W.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?s.createElement(n,{is:r.is}):s.createElement(n)}}e[Re]=t,e[Oe]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ja(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=W.current,ps(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(s=rs))switch(s.tag){case 27:case 5:r=s.memoizedProps}e[Re]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Qu(e.nodeValue,n)))||cs(t)}else(e=rd(e).createTextNode(r))[Re]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=ps(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[Re]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),s=!1}else s=ms(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(ca(t),t):(ca(t),null)}if(ca(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(s=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return q(),null===e&&Bu(t.stateNode.containerInfo),nl(t),null;case 10:return xs(t.type),nl(t),null;case 19:if(B(ua),null===(s=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(o=s.rendering))if(r)tl(s,!1);else{if(0!==pc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=da(e))){for(t.flags|=128,tl(s,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Mr(n,e),n=n.sibling;return $(ua,1&ua.current|2),t.child}e=e.sibling}null!==s.tail&&te()>Cc&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=da(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!o.alternate&&!os)return nl(t),null}else 2*te()-s.renderingStartTime>Cc&&536870912!==n&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=s.last)?e.sibling=o:t.child=o,s.last=o)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=te(),t.sibling=null,e=ua.current,$(ua,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ca(t),vo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B($s),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xs(Rs),nl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function sl(e,t){switch(ns(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xs(Rs),q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(ca(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(ua),null;case 4:return q(),null;case 10:return xs(t.type),null;case 22:case 23:return ca(t),vo(),null!==e&&B($s),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xs(Rs),null;default:return null}}function ol(e,t){switch(ns(t),t.tag){case 3:xs(Rs),q();break;case 26:case 27:case 5:Y(t);break;case 4:q();break;case 13:ca(t);break;case 19:B(ua);break;case 10:xs(t.type);break;case 22:case 23:ca(t),vo(),null!==e&&B($s);break;case 24:xs(Rs)}}function il(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var o=n.create,i=n.inst;r=o(),i.destroy=r}n=n.next}while(n!==s)}}catch(a){uu(t,t.return,a)}}function al(e,t,n){try{var r=t.updateQueue,s=null!==r?r.lastEffect:null;if(null!==s){var o=s.next;r=o;do{if((r.tag&e)===e){var i=r.inst,a=i.destroy;if(void 0!==a){i.destroy=void 0,s=t;var l=n,c=a;try{c()}catch(u){uu(s,l,u)}}}r=r.next}while(r!==o)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ho(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=ga(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(s){uu(e,t,s)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(s){uu(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){uu(e,t,o)}else n.current=null}function pl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){uu(e,e.return,s)}}function hl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,o=null,a=null,l=null,c=null,u=null,d=null;for(m in n){var p=n[m];if(n.hasOwnProperty(m)&&null!=p)switch(m){case"checked":case"value":break;case"defaultValue":c=p;default:r.hasOwnProperty(m)||Ju(e,t,m,null,r,p)}}for(var h in r){var m=r[h];if(p=n[h],r.hasOwnProperty(h)&&(null!=m||null!=p))switch(h){case"type":o=m;break;case"name":s=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":a=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(i(137,t));break;default:m!==p&&Ju(e,t,h,m,r,p)}}return void gt(e,a,l,c,u,d,o,s);case"select":for(o in m=a=l=h=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(o)||Ju(e,t,o,null,r,c)}for(s in r)if(o=r[s],c=n[s],r.hasOwnProperty(s)&&(null!=o||null!=c))switch(s){case"value":h=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&Ju(e,t,s,o,r,c)}return t=l,n=a,r=m,void(null!=h?bt(e,!!n,h,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=h=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,r,s)}for(a in r)if(s=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=s||null!=o))switch(a){case"value":h=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(i(91));break;default:s!==o&&Ju(e,t,a,s,r,o)}return void xt(e,h,m);case"option":for(var f in n)if(h=n[f],n.hasOwnProperty(f)&&null!=h&&!r.hasOwnProperty(f))if("selected"===f)e.selected=!1;else Ju(e,t,f,null,r,h);for(c in r)if(h=r[c],m=n[c],r.hasOwnProperty(c)&&h!==m&&(null!=h||null!=m))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Ju(e,t,c,h,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!r.hasOwnProperty(g)&&Ju(e,t,g,null,r,h);for(u in r)if(h=r[u],m=n[u],r.hasOwnProperty(u)&&h!==m&&(null!=h||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(i(137,t));break;default:Ju(e,t,u,h,r,m)}return;default:if(Nt(t)){for(var y in n)h=n[y],n.hasOwnProperty(y)&&void 0!==h&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,h);for(d in r)h=r[d],m=n[d],!r.hasOwnProperty(d)||h===m||void 0===h&&void 0===m||Zu(e,t,d,h,r,m);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&null!=h&&!r.hasOwnProperty(v)&&Ju(e,t,v,null,r,h);for(p in r)h=r[p],m=n[p],!r.hasOwnProperty(p)||h===m||null==h&&null==m||Ju(e,t,p,h,r,m)}(r,e.type,n,t),r[Oe]=t}catch(s){uu(e,e.return,s)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hd(e.type)||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xu));else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ed(t,r,n),t[Re]=e,t[Oe]=n}catch(o){uu(e,e.return,o)}}var bl=!1,xl=!1,wl=!1,Cl="function"===typeof WeakSet?WeakSet:Set,kl=null;function Sl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Dl(e,n),4&r&&il(5,n);break;case 1:if(Dl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){uu(n,n.return,i)}else{var s=ga(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){uu(n,n.return,a)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Dl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ho(e,t)}catch(i){uu(n,n.return,i)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Dl(e,n),null===t&&4&r&&pl(n),512&r&&ul(n,n.return);break;case 12:Dl(e,n);break;case 13:Dl(e,n),4&r&&Pl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=mu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||xl,s=bl;var o=xl;bl=r,(xl=t)&&!o?Ml(e,n,0!==(8772&n.subtreeFlags)):Dl(e,n),bl=s,xl=o}break;case 30:break;default:Dl(e,n)}}function jl(e){var t=e.alternate;null!==t&&(e.alternate=null,jl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Nl=null,El=!1;function Tl(e,t,n){for(n=n.child;null!==n;)_l(e,t,n),n=n.sibling}function _l(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(o){}switch(n.tag){case 26:xl||dl(n,t),Tl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||dl(n,t);var r=Nl,s=El;hd(n.type)&&(Nl=n.stateNode,El=!1),Tl(e,t,n),wd(n.stateNode),Nl=r,El=s;break;case 5:xl||dl(n,t);case 6:if(r=Nl,s=El,Nl=null,Tl(e,t,n),El=s,null!==(Nl=r))if(El)try{(9===Nl.nodeType?Nl.body:"HTML"===Nl.nodeName?Nl.ownerDocument.body:Nl).removeChild(n.stateNode)}catch(i){uu(n,t,i)}else try{Nl.removeChild(n.stateNode)}catch(i){uu(n,t,i)}break;case 18:null!==Nl&&(El?(md(9===(e=Nl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ep(e)):md(Nl,n.stateNode));break;case 4:r=Nl,s=El,Nl=n.stateNode.containerInfo,El=!0,Tl(e,t,n),Nl=r,El=s;break;case 0:case 11:case 14:case 15:xl||al(2,n,t),xl||al(4,n,t),Tl(e,t,n);break;case 1:xl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Tl(e,t,n);break;case 21:Tl(e,t,n);break;case 22:xl=(r=xl)||null!==n.memoizedState,Tl(e,t,n),xl=r;break;default:Tl(e,t,n)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ep(e)}catch(n){uu(t,t.return,n)}}function Al(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Cl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Cl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){var r=fu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Rl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(hd(l.type)){Nl=l.stateNode,El=!1;break e}break;case 5:Nl=l.stateNode,El=!1;break e;case 3:case 4:Nl=l.stateNode.containerInfo,El=!0;break e}l=l.return}if(null===Nl)throw Error(i(160));_l(o,a,s),Nl=null,El=!1,null!==(o=s.alternate)&&(o.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Il(t,e),t=t.sibling}var Ol=null;function Il(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rl(t,e),Fl(e),4&r&&(al(3,e,e.return),il(3,e),al(5,e,e.return));break;case 1:Rl(t,e),Fl(e),512&r&&(xl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var s=Ol;if(Rl(t,e),Fl(e),512&r&&(xl||null===n||dl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":(!(o=s.getElementsByTagName("title")[0])||o[Me]||o[Re]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=s.createElement(r),s.head.insertBefore(o,s.querySelector("head > title"))),ed(o,r,n),o[Re]=e,Ve(o),r=o;break e;case"link":var a=Md("link","href",s).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}ed(o=s.createElement(r),r,n),s.head.appendChild(o);break;case"meta":if(a=Md("meta","content",s).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}ed(o=s.createElement(r),r,n),s.head.appendChild(o);break;default:throw Error(i(468,r))}o[Re]=e,Ve(o),r=o}e.stateNode=r}else Bd(s,e.type,e.stateNode);else e.stateNode=Id(s,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Bd(s,e.type,e.stateNode):Id(s,r,e.memoizedProps)):null===r&&null!==e.stateNode&&hl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Rl(t,e),Fl(e),512&r&&(xl||null===n||dl(n,n.return)),null!==n&&4&r&&hl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Rl(t,e),Fl(e),512&r&&(xl||null===n||dl(n,n.return)),32&e.flags){s=e.stateNode;try{Ct(s,"")}catch(m){uu(e,e.return,m)}}4&r&&null!=e.stateNode&&hl(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&r&&(wl=!0);break;case 6:if(Rl(t,e),Fl(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){uu(e,e.return,m)}}break;case 3:if(zd=null,s=Ol,Ol=Sd(t.containerInfo),Rl(t,e),Ol=s,Fl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ep(t.containerInfo)}catch(m){uu(e,e.return,m)}wl&&(wl=!1,Ll(e));break;case 4:r=Ol,Ol=Sd(e.stateNode.containerInfo),Rl(t,e),Fl(e),Ol=r;break;case 12:default:Rl(t,e),Fl(e);break;case 13:Rl(t,e),Fl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=xl;if(bl=u||s,xl=d||c,Rl(t,e),xl=d,bl=u,Fl(e),8192&r)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||bl||xl||zl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,s)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var p=c.memoizedProps.style,h=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;l.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(m){uu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(m){uu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Al(e,n))));break;case 19:Rl(t,e),Fl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));case 30:case 21:}}function Fl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(ml(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var s=n.stateNode;yl(e,fl(e),s);break;case 5:var o=n.stateNode;32&n.flags&&(Ct(o,""),n.flags&=-33),yl(e,fl(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;gl(e,fl(e),a);break;default:throw Error(i(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Dl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t.alternate,t),t=t.sibling}function zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),zl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),zl(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),zl(t);break;case 22:null===t.memoizedState&&zl(t);break;default:zl(t)}e=e.sibling}}function Ml(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,s=e,o=t,i=o.flags;switch(o.tag){case 0:case 11:case 15:Ml(s,o,n),il(4,o);break;case 1:if(Ml(s,o,n),"function"===typeof(s=(r=o).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(s=(r=o).updateQueue)){var a=r.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)po(l[s],a)}catch(c){uu(r,r.return,c)}}n&&64&i&&ll(o),ul(o,o.return);break;case 27:vl(o);case 26:case 5:Ml(s,o,n),n&&null===r&&4&i&&pl(o),ul(o,o.return);break;case 12:Ml(s,o,n);break;case 13:Ml(s,o,n),n&&4&i&&Pl(s,o);break;case 22:null===o.memoizedState&&Ml(s,o,n),ul(o,o.return);break;case 30:break;default:Ml(s,o,n)}t=t.sibling}}function Bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Is(n))}function $l(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Is(e))}function Ul(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,r),t=t.sibling}function Hl(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Ul(e,t,n,r),2048&s&&il(9,t);break;case 1:case 13:default:Ul(e,t,n,r);break;case 3:Ul(e,t,n,r),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Is(e)));break;case 12:if(2048&s){Ul(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,i=o.id,a=o.onPostCommit;"function"===typeof a&&a(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Ul(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,i=t.alternate,null!==t.memoizedState?2&o._visibility?Ul(e,t,n,r):Vl(e,t):2&o._visibility?Ul(e,t,n,r):(o._visibility|=2,Wl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&s&&Bl(i,t);break;case 24:Ul(e,t,n,r),2048&s&&$l(t.alternate,t)}}function Wl(e,t,n,r,s){for(s=s&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,i=t,a=n,l=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:Wl(o,i,a,l,s),il(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?Wl(o,i,a,l,s):Vl(o,i):(u._visibility|=2,Wl(o,i,a,l,s)),s&&2048&c&&Bl(i.alternate,i);break;case 24:Wl(o,i,a,l,s),s&&2048&c&&$l(i.alternate,i);break;default:Wl(o,i,a,l,s)}t=t.sibling}}function Vl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:Vl(n,r),2048&s&&Bl(r.alternate,r);break;case 24:Vl(n,r),2048&s&&$l(r.alternate,r);break;default:Vl(n,r)}t=t.sibling}}var Gl=8192;function ql(e){if(e.subtreeFlags&Gl)for(e=e.child;null!==e;)Kl(e),e=e.sibling}function Kl(e){switch(e.tag){case 26:ql(e),e.flags&Gl&&null!==e.memoizedState&&function(e,t,n){if(null===Ud)throw Error(i(475));var r=Ud;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var s=_d(n.href),o=e.querySelector(Pd(s));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Wd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void Ve(o);o=e.ownerDocument||e,n=Ad(n),(s=Cd.get(s))&&Ld(n,s),Ve(o=o.createElement("link"));var a=o;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Wd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ol,e.memoizedState,e.memoizedProps);break;case 5:default:ql(e);break;case 3:case 4:var t=Ol;Ol=Sd(e.stateNode.containerInfo),ql(e),Ol=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gl,Gl=16777216,ql(e),Gl=t):ql(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Zl(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Ql(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:Ql(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Ql(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Zl(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Is(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var s=(r=kl).sibling,o=r.return;if(jl(r),r===n){kl=null;break e}if(null!==s){s.return=o,kl=s;break e}kl=o}}}var ec={getCacheForType:function(e){var t=Ns(Rs),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,sc=null,oc=0,ic=0,ac=null,lc=!1,cc=!1,uc=!1,dc=0,pc=0,hc=0,mc=0,fc=0,gc=0,yc=0,vc=null,bc=null,xc=!1,wc=0,Cc=1/0,kc=null,Sc=null,jc=0,Nc=null,Ec=null,Tc=0,_c=0,Pc=null,Ac=null,Rc=0,Oc=null;function Ic(){if(0!==(2&nc)&&0!==oc)return oc&-oc;if(null!==I.T){return 0!==Ds?Ds:_u()}return Pe()}function Fc(){0===gc&&(gc=0===(536870912&oc)||os?Ce():536870912);var e=sa.current;return null!==e&&(e.flags|=32),gc}function Lc(e,t,n){(e!==rc||2!==ic&&9!==ic)&&null===e.cancelPendingCommit||(Hc(e,0),Bc(e,oc,gc,!1)),je(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(mc|=n),4===pc&&Bc(e,oc,gc,!1)),Cu(e))}function Dc(e,t,n){if(0!==(6&nc))throw Error(i(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),s=r?function(e,t){var n=nc;nc|=2;var r=Vc(),s=Gc();rc!==e||oc!==t?(kc=null,Cc=te()+500,Hc(e,t)):cc=xe(e,t);e:for(;;)try{if(0!==ic&&null!==sc){t=sc;var o=ac;t:switch(ic){case 1:ic=0,ac=null,Zc(e,t,o,1);break;case 2:case 9:if(Ys(o)){ic=0,ac=null,Jc(t);break}t=function(){2!==ic&&9!==ic||rc!==e||(ic=7),Cu(e)},o.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:Ys(o)?(ic=0,ac=null,Jc(t)):(ic=0,ac=null,Zc(e,t,o,7));break;case 5:var a=null;switch(sc.tag){case 26:a=sc.memoizedState;case 5:case 27:var l=sc;if(!a||$d(a)){ic=0,ac=null;var c=l.sibling;if(null!==c)sc=c;else{var u=l.return;null!==u?(sc=u,eu(u)):sc=null}break t}}ic=0,ac=null,Zc(e,t,o,5);break;case 6:ic=0,ac=null,Zc(e,t,o,6);break;case 8:Uc(),pc=6;break e;default:throw Error(i(462))}}Qc();break}catch(d){Wc(e,d)}return vs=ys=null,I.H=r,I.A=s,nc=n,null!==sc?0:(rc=null,oc=0,Tr(),pc)}(e,t):Kc(e,t,!0),o=r;;){if(0===s){cc&&!r&&Bc(e,t,0,!1);break}if(n=e.current.alternate,!o||Mc(n)){if(2===s){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;s=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,a).flags|=256),2!==(a=Kc(l,a,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=o,mc|=o,s=4;break e}o=bc,bc=s,null!==o&&(null===bc?bc=o:bc.push.apply(bc,o))}s=a}if(o=!1,2!==s)continue}}if(1===s){Hc(e,0),Bc(e,t,0,!0);break}e:{switch(r=e,o=s){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Bc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(s=wc+300-te())){if(Bc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(zc.bind(null,r,n,bc,kc,xc,t,gc,mc,yc,lc,o,2,-0,0),s)}else zc(r,n,bc,kc,xc,t,gc,mc,yc,lc,o,0,-0,0)}break}s=Kc(e,t,!1),o=!1}Cu(e)}function zc(e,t,n,r,s,o,a,l,c,u,d,p,h,m){if(e.timeoutHandle=-1,(8192&(p=t.subtreeFlags)||16785408===(16785408&p))&&(Ud={stylesheets:null,count:0,unsuspend:Hd},Kl(t),null!==(p=function(){if(null===Ud)throw Error(i(475));var e=Ud;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=p(nu.bind(null,e,t,o,n,r,s,a,l,c,d,1,h,m)),void Bc(e,o,a,!u);nu(e,t,o,n,r,s,a,l,c)}function Mc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Yn(o(),s))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,r){t&=~fc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var o=31-he(s),i=1<<o;r[o]=-1,s&=~i}0!==n&&Ne(e,n,t)}function $c(){return 0!==(6&nc)||(ku(0,!1),!1)}function Uc(){if(null!==sc){if(0===ic)var e=sc.return;else vs=ys=null,zo(e=sc),Yi=null,Qi=0,e=sc;for(;null!==e;)ol(e.alternate,e),e=e.return;sc=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc(),rc=e,sc=n=zr(e.current,null),oc=t,ic=0,ac=null,lc=!1,cc=xe(e,t),uc=!1,yc=gc=fc=mc=hc=pc=0,bc=vc=null,xc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var s=31-he(r),o=1<<s;t|=e[s],r&=~o}return dc=t,Tr(),n}function Wc(e,t){xo=null,I.H=Vi,t===Vs||t===qs?(t=Zs(),ic=3):t===Gs?(t=Zs(),ic=4):ic=t===Na?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ac=t,null===sc&&(pc=1,wa(e,Sr(t,e.current)))}function Vc(){var e=I.H;return I.H=Vi,null===e?Vi:e}function Gc(){var e=I.A;return I.A=ec,e}function qc(){pc=4,lc||(4194048&oc)!==oc&&null!==sa.current||(cc=!0),0===(134217727&hc)&&0===(134217727&mc)||null===rc||Bc(rc,oc,gc,!1)}function Kc(e,t,n){var r=nc;nc|=2;var s=Vc(),o=Gc();rc===e&&oc===t||(kc=null,Hc(e,t)),t=!1;var i=pc;e:for(;;)try{if(0!==ic&&null!==sc){var a=sc,l=ac;switch(ic){case 8:Uc(),i=6;break e;case 3:case 2:case 9:case 6:null===sa.current&&(t=!0);var c=ic;if(ic=0,ac=null,Zc(e,a,l,c),n&&cc){i=0;break e}break;default:c=ic,ic=0,ac=null,Zc(e,a,l,c)}}Yc(),i=pc;break}catch(u){Wc(e,u)}return t&&e.shellSuspendCounter++,vs=ys=null,nc=r,I.H=s,I.A=o,null===sc&&(rc=null,oc=0,Tr()),i}function Yc(){for(;null!==sc;)Xc(sc)}function Qc(){for(;null!==sc&&!Z();)Xc(sc)}function Xc(e){var t=Xa(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):sc=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=La(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=La(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:zo(t);default:ol(n,t),t=Xa(n,t=sc=Mr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):sc=t}function Zc(e,t,n,r){vs=ys=null,zo(t),Yi=null,Qi=0;var s=t.return;try{if(function(e,t,n,r,s){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ks(t,n,s,!0),null!==(n=sa.current)){switch(n.tag){case 13:return null===oa?qc():null===n.alternate&&0===pc&&(pc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===Ks?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,s)),!1;case 22:return n.flags|=65536,r===Ks?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,s)),!1}throw Error(i(435,n.tag))}return du(e,r,s),qc(),!1}if(os)return null!==(t=sa.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==ls&&fs(Sr(e=Error(i(422),{cause:r}),n))):(r!==ls&&fs(Sr(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,r=Sr(r,n),ao(e,s=ka(e.stateNode,r,s)),4!==pc&&(pc=2)),!1;var o=Error(i(520),{cause:r});if(o=Sr(o,n),null===vc?vc=[o]:vc.push(o),4!==pc&&(pc=2),null===t)return!0;r=Sr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,ao(n,e=ka(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Sc||!Sc.has(o))))return n.flags|=65536,s&=-s,n.lanes|=s,ja(s=Sa(s),e,n,r),ao(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,oc))return pc=1,wa(e,Sr(n,e.current)),void(sc=null)}catch(o){if(null!==s)throw sc=s,o;return pc=1,wa(e,Sr(n,e.current)),void(sc=null)}32768&t.flags?(os||1===r?e=!0:cc||0!==(536870912&oc)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=sa.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(sc=n);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===pc&&(pc=5)}function tu(e,t){do{var n=sl(e.alternate,e);if(null!==n)return n.flags&=32767,void(sc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=n}while(null!==e);pc=6,sc=null}function nu(e,t,n,r,s,o,a,l,c){e.cancelPendingCommit=null;do{au()}while(0!==jc);if(0!==(6&nc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,s,o){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-he(n),d=1<<u;a[u]=0,l[u]=-1;var p=c[u];if(null!==p)for(c[u]=null,u=0;u<p.length;u++){var h=p[u];null!==h&&(h.lane&=-536870913)}n&=~d}0!==r&&Ne(e,r,0),0!==o&&0===s&&0!==e.tag&&(e.suspendedLanes|=o&~(i&~t))}(e,n,o|=Er,a,l,c),e===rc&&(sc=rc=null,oc=0),Ec=t,Nc=e,Tc=n,_c=o,Pc=s,Ac=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(oe,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=I.T,I.T=null,s=F.p,F.p=2,a=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=np,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,p=e,h=null;t:for(;;){for(var m;p!==n||0!==s&&3!==p.nodeType||(l=a+s),p!==o||0!==r&&3!==p.nodeType||(c=a+r),3===p.nodeType&&(a+=p.nodeValue.length),null!==(m=p.firstChild);)h=p,p=m;for(;;){if(p===e)break t;if(h===n&&++u===s&&(l=a),h===o&&++d===r&&(c=a),null!==(m=p.nextSibling))break;h=(p=h).parentNode}p=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},np=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(o=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,s=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var f=ga(n.type,s,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(f,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))fd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{nc=a,F.p=s,I.T=r}}jc=1,ru(),su(),ou()}}function ru(){if(1===jc){jc=0;var e=Nc,t=Ec,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=I.T,I.T=null;var r=F.p;F.p=2;var s=nc;nc|=4;try{Il(t,e);var o=nd,i=er(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(i!==a&&a&&a.ownerDocument&&Zn(a.ownerDocument.documentElement,a)){if(null!==l&&tr(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var h=p.getSelection(),m=a.textContent.length,f=Math.min(l.start,m),g=void 0===l.end?f:Math.min(l.end,m);!h.extend&&f>g&&(i=g,g=f,f=i);var y=Jn(a,f),v=Jn(a,g);if(y&&v&&(1!==h.rangeCount||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==v.node||h.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),h.removeAllRanges(),f>g?(h.addRange(b),h.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),h.addRange(b))}}}}for(d=[],h=a;h=h.parentNode;)1===h.nodeType&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var x=d[a];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}np=!!td,nd=td=null}finally{nc=s,F.p=r,I.T=n}}e.current=t,jc=2}}function su(){if(2===jc){jc=0;var e=Nc,t=Ec,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=I.T,I.T=null;var r=F.p;F.p=2;var s=nc;nc|=4;try{Sl(e,t.alternate,t)}finally{nc=s,F.p=r,I.T=n}}jc=3}}function ou(){if(4===jc||3===jc){jc=0,ee();var e=Nc,t=Ec,n=Tc,r=Ac;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?jc=5:(jc=0,Ec=Nc=null,iu(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(Sc=null),_e(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=I.T,s=F.p,F.p=2,I.T=null;try{for(var o=e.onRecoverableError,i=0;i<r.length;i++){var a=r[i];o(a.value,{componentStack:a.stack})}}finally{I.T=t,F.p=s}}0!==(3&Tc)&&au(),Cu(e),s=e.pendingLanes,0!==(4194090&n)&&0!==(42&s)?e===Oc?Rc++:(Rc=0,Oc=e):Rc=0,ku(0,!1)}}function iu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Is(t)))}function au(e){return ru(),su(),ou(),lu()}function lu(){if(5!==jc)return!1;var e=Nc,t=_c;_c=0;var n=_e(Tc),r=I.T,s=F.p;try{F.p=32>n?32:n,I.T=null,n=Pc,Pc=null;var o=Nc,a=Tc;if(jc=0,Ec=Nc=null,Tc=0,0!==(6&nc))throw Error(i(331));var l=nc;if(nc|=4,Xl(o.current),Hl(o,o.current,a,n),nc=l,ku(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,o)}catch(c){}return!0}finally{F.p=s,I.T=r,iu(e,t)}}function cu(e,t,n){t=Sr(n,t),null!==(e=oo(e,t=ka(e.stateNode,t,2),2))&&(je(e,2),Cu(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Sc||!Sc.has(r))){e=Sr(n,e),null!==(r=oo(t,n=Sa(2),2))&&(ja(n,r,t,e),je(r,2),Cu(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(uc=!0,s.add(n),e=pu.bind(null,e,t,n),t.then(e,e))}function pu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(oc&n)===n&&(4===pc||3===pc&&(62914560&oc)===oc&&300>te()-wc?0===(2&nc)&&Hc(e,0):fc|=n,yc===oc&&(yc=0)),Cu(e)}function hu(e,t){0===t&&(t=ke()),null!==(e=Ar(e,t))&&(je(e,t),Cu(e))}function mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hu(e,n)}function fu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),hu(e,n)}var gu=null,yu=null,vu=!1,bu=!1,xu=!1,wu=0;function Cu(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd(function(){0!==(6&nc)?X(re,Su):ju()}))}function ku(e,t){if(!xu&&bu){xu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var s=r.pendingLanes;if(0===s)var o=0;else{var i=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-he(42|e)+1)-1,o=201326741&(o&=s&~(i&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Tu(r,o))}else o=oc,0===(3&(o=be(r,r===rc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,o)||(n=!0,Tu(r,o));r=r.next}}while(n);xu=!1}}function Su(){ju()}function ju(){bu=vu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ad&&(ad=e,!0);return ad=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=gu;null!==r;){var s=r.next,o=Nu(r,t);0===o?(r.next=null,null===n?gu=s:n.next=s,null===s&&(yu=n)):(n=r,(0!==e||0!==(3&o))&&(bu=!0)),r=s}ku(e,!1)}function Nu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var i=31-he(o),a=1<<i,l=s[i];-1===l?0!==(a&n)&&0===(a&r)||(s[i]=we(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=oc,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ic||9===ic)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),_e(n)){case 2:case 8:n=se;break;case 32:default:n=oe;break;case 268435456:n=ae}return r=Eu.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Eu(e,t){if(0!==jc&&5!==jc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(au()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Dc(e,r,t),Nu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Eu.bind(null,e):null)}function Tu(e,t){if(au())return null;Dc(e,t,!0)}function _u(){return 0===wu&&(wu=Ce()),wu}function Pu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:_t(""+e)}function Au(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ru=0;Ru<wr.length;Ru++){var Ou=wr[Ru];Cr(Ou.toLowerCase(),"on"+(Ou[0].toUpperCase()+Ou.slice(1)))}Cr(hr,"onAnimationEnd"),Cr(mr,"onAnimationIteration"),Cr(fr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(gr,"onTransitionRun"),Cr(yr,"onTransitionStart"),Cr(vr,"onTransitionCancel"),Cr(br,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;o=a,s.currentTarget=c;try{o(s)}catch(u){ya(u)}s.currentTarget=null,o=l}else for(i=0;i<r.length;i++){if(l=(a=r[i]).instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;o=a,s.currentTarget=c;try{o(s)}catch(u){ya(u)}s.currentTarget=null,o=l}}}}function Du(e,t){var n=t[Fe];void 0===n&&(n=t[Fe]=new Set);var r=e+"__bubble";n.has(r)||($u(t,e,2,!1),n.add(r))}function zu(e,t,n){var r=0;t&&(r|=4),$u(n,e,r,t)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[Mu]){e[Mu]=!0,Ge.forEach(function(t){"selectionchange"!==t&&(Fu.has(t)||zu(t,!1,e),zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Mu]||(t[Mu]=!0,zu("selectionchange",!1,t))}}function $u(e,t,n,r){switch(cp(t)){case 2:var s=rp;break;case 8:s=sp;break;default:s=op}n=s.bind(null,t,n,e),s=void 0,!Mt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Uu(e,t,n,r,s){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var a=r.stateNode.containerInfo;if(a===s)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===s)return;i=i.return}for(;null!==a;){if(null===(i=$e(a)))return;if(5===(c=i.tag)||6===c||26===c||27===c){r=o=i;continue e}a=a.parentNode}}r=r.return}Lt(function(){var r=o,s=At(n),i=[];e:{var a=xr.get(e);if(void 0!==a){var c=Zt,u=e;switch(e){case"keypress":if(0===Vt(n))break e;case"keydown":case"keyup":c=fn;break;case"focusin":u="focus",c=on;break;case"focusout":u="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case hr:case mr:case fr:c=an;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=xn}var d=0!==(4&t),p=!d&&("scroll"===e||"scrollend"===e),h=d?null!==a?a+"Capture":null:a;d=[];for(var m,f=r;null!==f;){var g=f;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===h||null!=(g=Dt(f,h))&&d.push(Hu(f,g,m)),p)break;f=f.return}0<d.length&&(a=new c(a,u,null,n,s),i.push({event:a,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Pt||!(u=n.relatedTarget||n.fromElement)||!$e(u)&&!u[Ie])&&(c||a)&&(a=s.window===s?s:(a=s.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?$e(u):null)&&(p=l(u),d=u.tag,u!==p||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",h="onPointerEnter",f="pointer"),p=null==c?a:He(c),m=null==u?a:He(u),(a=new d(g,f+"leave",c,n,s)).target=p,a.relatedTarget=m,g=null,$e(s)===r&&((d=new d(h,f+"enter",u,n,s)).target=m,d.relatedTarget=p,g=d),p=g,c&&u)e:{for(h=u,f=0,m=d=c;m;m=Vu(m))f++;for(m=0,g=h;g;g=Vu(g))m++;for(;0<f-m;)d=Vu(d),f--;for(;0<m-f;)h=Vu(h),m--;for(;f--;){if(d===h||null!==h&&d===h.alternate)break e;d=Vu(d),h=Vu(h)}d=null}else d=null;null!==c&&Gu(i,a,c,d,!1),null!==u&&null!==p&&Gu(i,p,u,d,!0)}if("select"===(c=(a=r?He(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var y=zn;else if(Rn(a))if(Mn)y=Kn;else{y=Gn;var v=Vn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Nt(r.elementType)&&(y=zn):y=qn;switch(y&&(y=y(e,r))?On(i,y,n,s):(v&&v(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&vt(a,"number",a.value)),v=r?He(r):window,e){case"focusin":(Rn(v)||"true"===v.contentEditable)&&(rr=v,sr=r,or=null);break;case"focusout":or=sr=rr=null;break;case"mousedown":ir=!0;break;case"contextmenu":case"mouseup":case"dragend":ir=!1,ar(i,n,s);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(i,n,s)}var b;if(Cn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Pn?Tn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(jn&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Pn&&(b=Wt()):(Ut="value"in($t=s)?$t.value:$t.textContent,Pn=!0)),0<(v=Wu(r,x)).length&&(x=new cn(x,e,null,n,s),i.push({event:x,listeners:v}),b?x.data=b:null!==(b=_n(n))&&(x.data=b))),(b=Sn?function(e,t){switch(e){case"compositionend":return _n(t);case"keypress":return 32!==t.which?null:(En=!0,Nn);case"textInput":return(e=t.data)===Nn&&En?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!Cn&&Tn(e,t)?(e=Wt(),Ht=Ut=$t=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Wu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,s),i.push({event:v,listeners:x}),v.data=b)),function(e,t,n,r,s){if("submit"===t&&n&&n.stateNode===s){var o=Pu((s[Oe]||null).action),i=r.submitter;i&&null!==(t=(t=i[Oe]||null)?Pu(t.formAction):i.getAttribute("formAction"))&&(o=t,i=null);var a=new Zt("action","action",null,r,s);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=i?Au(s,i):new FormData(s);Ai(n,{pending:!0,data:e,method:s.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=i?Au(s,i):new FormData(s),Ai(n,{pending:!0,data:e,method:s.method,action:o},o,e))},currentTarget:s}]})}}(i,e,r,n,s)}Lu(i,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wu(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,o=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===o||(null!=(s=Dt(e,n))&&r.unshift(Hu(e,s,o)),null!=(s=Dt(e,t))&&r.push(Hu(e,s,o))),3===e.tag)return r;e=e.return}return[]}function Vu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gu(e,t,n,r,s){for(var o=t._reactName,i=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,s?null!=(c=Dt(n,o))&&i.unshift(Hu(n,c,l)):s||null!=(c=Dt(n,o))&&i.push(Hu(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var qu=/\r\n?/g,Ku=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace(qu,"\n").replace(Ku,"")}function Qu(e,t){return t=Yu(t),Yu(e)===t}function Xu(){}function Ju(e,t,n,r,s,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Ct(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":jt(e,r,o);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=_t(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Ju(e,t,"name",s.name,s,null),Ju(e,t,"formEncType",s.formEncType,s,null),Ju(e,t,"formMethod",s.formMethod,s,null),Ju(e,t,"formTarget",s.formTarget,s,null)):(Ju(e,t,"encType",s.encType,s,null),Ju(e,t,"method",s.method,s,null),Ju(e,t,"target",s.target,s,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=_t(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"onScroll":null!=r&&Du("scroll",e);break;case"onScrollEnd":null!=r&&Du("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=_t(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Du("beforetoggle",e),Du("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Et.get(n)||n,r)}}function Zu(e,t,n,r,s,o){switch(n){case"style":jt(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&Ct(e,""+r);break;case"onScroll":null!=r&&Du("scroll",e);break;case"onScrollEnd":null!=r&&Du("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:qe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Oe]||null)?o[n]:null)&&e.removeEventListener(t,o,s),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Du("error",e),Du("load",e);var r,s=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ju(e,t,r,a,n,null)}}return o&&Ju(e,t,"srcSet",n.srcSet,n,null),void(s&&Ju(e,t,"src",n.src,n,null));case"input":Du("invalid",e);var l=r=a=o=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:Ju(e,t,s,d,n,null)}}return yt(e,r,l,c,u,a,o,!1),void dt(e);case"select":for(o in Du("invalid",e),s=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":s=l;default:Ju(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!s,void(null!=t?bt(e,!!s,t,!1):null!=n&&bt(e,!!s,n,!0));case"textarea":for(a in Du("invalid",e),r=o=s=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":s=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:Ju(e,t,a,l,n,null)}return wt(e,s,o,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else Ju(e,t,c,s,n,null);return;case"dialog":Du("beforetoggle",e),Du("toggle",e),Du("cancel",e),Du("close",e);break;case"iframe":case"object":Du("load",e);break;case"video":case"audio":for(s=0;s<Iu.length;s++)Du(Iu[s],e);break;case"image":Du("error",e),Du("load",e);break;case"details":Du("toggle",e);break;case"embed":case"source":case"link":Du("error",e),Du("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ju(e,t,u,s,n,null)}return;default:if(Nt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(s=n[d])&&Zu(e,t,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&Ju(e,t,l,s,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function sd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function id(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ad=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(pd)}:ld;function pd(e){setTimeout(function(){throw e})}function hd(e){return"head"===e}function md(e,t){var n=t,r=0,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var i=e.ownerDocument;if(1&n&&wd(i.documentElement),2&n&&wd(i.body),4&n)for(wd(n=i.head),i=n.firstChild;i;){var a=i.nextSibling,l=i.nodeName;i[Me]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=a}}if(0===s)return e.removeChild(o),void Ep(t);s--}else"$"===n||"$?"===n||"$!"===n?s++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Ep(t)}function fd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":fd(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var Cd=new Map,kd=new Set;function Sd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var jd=F.d;F.d={f:function(){var e=jd.f(),t=$c();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Oi(t):jd.r(e)},D:function(e){jd.D(e),Ed("dns-prefetch",e,null)},C:function(e,t){jd.C(e,t),Ed("preconnect",e,t)},L:function(e,t,n){jd.L(e,t,n);var r=Nd;if(r&&e&&t){var s='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+ft(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(s+='[imagesizes="'+ft(n.imageSizes)+'"]')):s+='[href="'+ft(e)+'"]';var o=s;switch(t){case"style":o=_d(e);break;case"script":o=Rd(e)}Cd.has(o)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Cd.set(o,e),null!==r.querySelector(s)||"style"===t&&r.querySelector(Pd(o))||"script"===t&&r.querySelector(Od(o))||(ed(t=r.createElement("link"),"link",e),Ve(t),r.head.appendChild(t)))}},m:function(e,t){jd.m(e,t);var n=Nd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+ft(r)+'"][href="'+ft(e)+'"]',o=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Rd(e)}if(!Cd.has(o)&&(e=p({rel:"modulepreload",href:e},t),Cd.set(o,e),null===n.querySelector(s))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Od(o)))return}ed(r=n.createElement("link"),"link",e),Ve(r),n.head.appendChild(r)}}},X:function(e,t){jd.X(e,t);var n=Nd;if(n&&e){var r=We(n).hoistableScripts,s=Rd(e),o=r.get(s);o||((o=n.querySelector(Od(s)))||(e=p({src:e,async:!0},t),(t=Cd.get(s))&&Dd(e,t),Ve(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(s,o))}},S:function(e,t,n){jd.S(e,t,n);var r=Nd;if(r&&e){var s=We(r).hoistableStyles,o=_d(e);t=t||"default";var i=s.get(o);if(!i){var a={loading:0,preload:null};if(i=r.querySelector(Pd(o)))a.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Cd.get(o))&&Ld(e,n);var l=i=r.createElement("link");Ve(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Fd(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:a},s.set(o,i)}}},M:function(e,t){jd.M(e,t);var n=Nd;if(n&&e){var r=We(n).hoistableScripts,s=Rd(e),o=r.get(s);o||((o=n.querySelector(Od(s)))||(e=p({src:e,async:!0,type:"module"},t),(t=Cd.get(s))&&Dd(e,t),Ve(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(s,o))}}};var Nd="undefined"===typeof document?null:document;function Ed(e,t,n){var r=Nd;if(r&&"string"===typeof t&&t){var s=ft(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"===typeof n&&(s+='[crossorigin="'+n+'"]'),kd.has(s)||(kd.add(s),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(s)&&(ed(t=r.createElement("link"),"link",e),Ve(t),r.head.appendChild(t)))}}function Td(e,t,n,r){var s,o,a,l,c=(c=W.current)?Sd(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=_d(n.href),(r=(n=We(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=_d(n.href);var u=We(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Pd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Cd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Cd.set(e,n),u||(s=c,o=e,a=n,l=d.state,s.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=s.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),ed(o,"link",a),Ve(o),s.head.appendChild(o))))),t&&null===r)throw Error(i(528,""));return d}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Rd(n),(r=(n=We(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function _d(e){return'href="'+ft(e)+'"'}function Pd(e){return'link[rel="stylesheet"]['+e+"]"}function Ad(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Rd(e){return'[src="'+ft(e)+'"]'}function Od(e){return"script[async]"+e}function Id(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+ft(n.href)+'"]');if(r)return t.instance=r,Ve(r),r;var s=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ve(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",s),Fd(r,n.precedence,e),t.instance=r;case"stylesheet":s=_d(n.href);var o=e.querySelector(Pd(s));if(o)return t.state.loading|=4,t.instance=o,Ve(o),o;r=Ad(n),(s=Cd.get(s))&&Ld(r,s),Ve(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(o,"link",r),t.state.loading|=4,Fd(o,n.precedence,e),t.instance=o;case"script":return o=Rd(n.src),(s=e.querySelector(Od(o)))?(t.instance=s,Ve(s),s):(r=n,(s=Cd.get(o))&&Dd(r=p({},n),s),Ve(s=(e=e.ownerDocument||e).createElement("script")),ed(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Fd(r,n.precedence,e));return t.instance}function Fd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,o=s,i=0;i<r.length;i++){var a=r[i];if(a.dataset.precedence===t)o=a;else if(o!==s)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Dd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var zd=null;function Md(e,t,n){if(null===zd){var r=new Map,s=zd=new Map;s.set(n,r)}else(r=(s=zd).get(n))||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var o=n[s];if(!(o[Me]||o[Re]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var i=o.getAttribute(t)||"";i=e+i;var a=r.get(i);a?a.push(o):r.set(i,[o])}}return r}function Bd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function $d(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Ud=null;function Hd(){}function Wd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Vd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Vd=new Map,t.forEach(qd,e),Vd=null,Wd.call(e))}function qd(e,t){if(!(4&t.state.loading)){var n=Vd.get(e);if(n)var r=n.get(null);else{n=new Map,Vd.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<s.length;o++){var i=s[o];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(s=t.instance).getAttribute("data-precedence"),(o=n.get(i)||r)===r&&n.set(null,s),n.set(i,s),this.count++,r=Wd.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),o?o.parentNode.insertBefore(s,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var Kd={$$typeof:w,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Yd(e,t,n,r,s,o,i,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=o,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Qd(e,t,n,r,s,o,i,a,l,c,u,d){return e=new Yd(e,t,n,i,a,l,c,d),t=1,!0===o&&(t|=24),o=Lr(3,null,null,t),e.current=o,o.stateNode=e,(t=Os()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},no(o),e}function Xd(e){return e?e=Ir:Ir}function Jd(e,t,n,r,s,o){s=Xd(s),null===r.context?r.context=s:r.pendingContext=s,(r=so(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=oo(e,r,t))&&(Lc(n,0,t),io(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ep(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function tp(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Lc(t,0,67108864),ep(e,67108864)}}var np=!0;function rp(e,t,n,r){var s=I.T;I.T=null;var o=F.p;try{F.p=2,op(e,t,n,r)}finally{F.p=o,I.T=s}}function sp(e,t,n,r){var s=I.T;I.T=null;var o=F.p;try{F.p=8,op(e,t,n,r)}finally{F.p=o,I.T=s}}function op(e,t,n,r){if(np){var s=ip(r);if(null===s)Uu(e,t,r,ap,n),vp(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return dp=bp(dp,e,t,n,r,s),!0;case"dragenter":return pp=bp(pp,e,t,n,r,s),!0;case"mouseover":return hp=bp(hp,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return mp.set(o,bp(mp.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,fp.set(o,bp(fp.get(o)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(vp(e,r),4&t&&-1<yp.indexOf(e)){for(;null!==s;){var o=Ue(s);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var i=ve(o.pendingLanes);if(0!==i){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;i;){var l=1<<31-he(i);a.entanglements[1]|=l,i&=~l}Cu(o),0===(6&nc)&&(Cc=te()+500,ku(0,!1))}}break;case 13:null!==(a=Ar(o,2))&&Lc(a,0,2),$c(),ep(o,2)}if(null===(o=ip(r))&&Uu(e,t,r,ap,n),o===s)break;s=o}null!==s&&r.stopPropagation()}else Uu(e,t,r,null,n)}}function ip(e){return lp(e=At(e))}var ap=null;function lp(e){if(ap=null,null!==(e=$e(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ap=e,null}function cp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case se:return 8;case oe:case ie:return 32;case ae:return 268435456;default:return 32}default:return 32}}var up=!1,dp=null,pp=null,hp=null,mp=new Map,fp=new Map,gp=[],yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vp(e,t){switch(e){case"focusin":case"focusout":dp=null;break;case"dragenter":case"dragleave":pp=null;break;case"mouseover":case"mouseout":hp=null;break;case"pointerover":case"pointerout":mp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fp.delete(t.pointerId)}}function bp(e,t,n,r,s,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},null!==t&&(null!==(t=Ue(t))&&tp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function xp(e){var t=$e(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=F.p;try{return F.p=e,t()}finally{F.p=n}}(e.priority,function(){if(13===n.tag){var e=Ic();e=Te(e);var t=Ar(n,e);null!==t&&Lc(t,0,e),ep(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ip(e.nativeEvent);if(null!==n)return null!==(t=Ue(n))&&tp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function Cp(e,t,n){wp(e)&&n.delete(t)}function kp(){up=!1,null!==dp&&wp(dp)&&(dp=null),null!==pp&&wp(pp)&&(pp=null),null!==hp&&wp(hp)&&(hp=null),mp.forEach(Cp),fp.forEach(Cp)}function Sp(e,t){e.blockedOn===t&&(e.blockedOn=null,up||(up=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kp)))}var jp=null;function Np(e){jp!==e&&(jp=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){jp===e&&(jp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],s=e[t+2];if("function"!==typeof r){if(null===lp(r||n))continue;break}var o=Ue(n);null!==o&&(e.splice(t,3),t-=3,Ai(o,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function Ep(e){function t(t){return Sp(t,e)}null!==dp&&Sp(dp,e),null!==pp&&Sp(pp,e),null!==hp&&Sp(hp,e),mp.forEach(t),fp.forEach(t);for(var n=0;n<gp.length;n++){var r=gp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gp.length&&null===(n=gp[0]).blockedOn;)xp(n),null===n.blockedOn&&gp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var s=n[r],o=n[r+1],i=s[Oe]||null;if("function"===typeof o)i||Np(n);else if(i){var a=null;if(o&&o.hasAttribute("formAction")){if(s=o,i=o[Oe]||null)a=i.formAction;else if(null!==lp(s))continue}else a=i.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Np(n)}}}function Tp(e){this._internalRoot=e}function _p(e){this._internalRoot=e}_p.prototype.render=Tp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Jd(t.current,Ic(),e,t,null,null)},_p.prototype.unmount=Tp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),$c(),t[Ie]=null}},_p.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gp.length&&0!==t&&t<gp[n].priority;n++);gp.splice(n,0,e),0===n&&xp(e)}};var Pp=s.version;if("19.1.0"!==Pp)throw Error(i(527,Pp,"19.1.0"));F.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(r=s.return)){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return u(s),e;if(o===r)return u(s),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,c=s.child;c;){if(c===n){a=!0,n=s,r=o;break}if(c===r){a=!0,r=s,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=s;break}if(c===r){a=!0,r=o,n=s;break}c=c.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ap={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rp.isDisabled&&Rp.supportsFiber)try{ue=Rp.inject(Ap),de=Rp}catch(Ip){}}t.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r="",s=va,o=ba,l=xa;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Qd(e,1,!1,null,0,n,r,s,o,l,0,null),e[Ie]=t.current,Bu(e),new Tp(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(i(299));var r=!1,s="",o=va,l=ba,c=xa,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Qd(e,1,!0,t,0,r,s,o,l,c,0,u)).context=Xd(null),n=t.current,(s=so(r=Te(r=Ic()))).callback=null,oo(n,s,r),n=r,t.current.lanes=n,je(t,n),Cu(t),e[Ie]=t.current,Bu(e),new _p(t)},t.version="19.1.0"},7199:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(s=r))}),t.splice(s,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"/ide",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(18)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},7340:e=>{var t=1e3,n=60*t,r=60*n,s=24*r,o=7*s,i=365.25*s;function a(e,t,n,r){var s=t>=1.5*n;return Math.round(e/n)+" "+r+(s?"s":"")}e.exports=function(e,l){l=l||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a)return;var l=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*i;case"weeks":case"week":case"w":return l*o;case"days":case"day":case"d":return l*s;case"hours":case"hour":case"hrs":case"hr":case"h":return l*r;case"minutes":case"minute":case"mins":case"min":case"m":return l*n;case"seconds":case"second":case"secs":case"sec":case"s":return l*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}(e);if("number"===c&&isFinite(e))return l.long?function(e){var o=Math.abs(e);if(o>=s)return a(e,o,s,"day");if(o>=r)return a(e,o,r,"hour");if(o>=n)return a(e,o,n,"minute");if(o>=t)return a(e,o,t,"second");return e+" ms"}(e):function(e){var o=Math.abs(e);if(o>=s)return Math.round(e/s)+"d";if(o>=r)return Math.round(e/r)+"h";if(o>=n)return Math.round(e/n)+"m";if(o>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},7537:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebTransport=t.WebSocket=t.NodeWebSocket=t.XHR=t.NodeXHR=t.Fetch=t.nextTick=t.parse=t.installTimerFunctions=t.transports=t.TransportError=t.Transport=t.protocol=t.SocketWithUpgrade=t.SocketWithoutUpgrade=t.Socket=void 0;const r=n(2024);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return r.Socket}});var s=n(2024);Object.defineProperty(t,"SocketWithoutUpgrade",{enumerable:!0,get:function(){return s.SocketWithoutUpgrade}}),Object.defineProperty(t,"SocketWithUpgrade",{enumerable:!0,get:function(){return s.SocketWithUpgrade}}),t.protocol=r.Socket.protocol;var o=n(156);Object.defineProperty(t,"Transport",{enumerable:!0,get:function(){return o.Transport}}),Object.defineProperty(t,"TransportError",{enumerable:!0,get:function(){return o.TransportError}});var i=n(7612);Object.defineProperty(t,"transports",{enumerable:!0,get:function(){return i.transports}});var a=n(265);Object.defineProperty(t,"installTimerFunctions",{enumerable:!0,get:function(){return a.installTimerFunctions}});var l=n(3012);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return l.parse}});var c=n(2101);Object.defineProperty(t,"nextTick",{enumerable:!0,get:function(){return c.nextTick}});var u=n(790);Object.defineProperty(t,"Fetch",{enumerable:!0,get:function(){return u.Fetch}});var d=n(2688);Object.defineProperty(t,"NodeXHR",{enumerable:!0,get:function(){return d.XHR}});var p=n(2688);Object.defineProperty(t,"XHR",{enumerable:!0,get:function(){return p.XHR}});var h=n(2795);Object.defineProperty(t,"NodeWebSocket",{enumerable:!0,get:function(){return h.WS}});var m=n(2795);Object.defineProperty(t,"WebSocket",{enumerable:!0,get:function(){return m.WS}});var f=n(2557);Object.defineProperty(t,"WebTransport",{enumerable:!0,get:function(){return f.WT}})},7612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transports=void 0;const r=n(2688),s=n(2795),o=n(2557);t.transports={websocket:s.WS,webtransport:o.WT,polling:r.XHR}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodePacket=void 0;const r=n(6311),s=n(6510),o="function"===typeof ArrayBuffer;t.decodePacket=(e,t)=>{if("string"!==typeof e)return{type:"message",data:a(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:i(e.substring(1),t)};return r.PACKET_TYPES_REVERSE[n]?e.length>1?{type:r.PACKET_TYPES_REVERSE[n],data:e.substring(1)}:{type:r.PACKET_TYPES_REVERSE[n]}:r.ERROR_PACKET};const i=(e,t)=>{if(o){const n=(0,s.decode)(e);return a(n,t)}return{base64:!0,data:e}},a=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer},8574:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebTransport=t.WebSocket=t.NodeWebSocket=t.XHR=t.NodeXHR=t.Fetch=t.Socket=t.Manager=t.protocol=void 0,t.io=c,t.connect=c,t.default=c;const s=n(5991),o=n(8945);Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return o.Manager}});const i=n(913);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return i.Socket}});const a=(0,r(n(7199)).default)("socket.io-client"),l={};function c(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};const n=(0,s.url)(e,t.path||"/socket.io"),r=n.source,i=n.id,c=n.path,u=l[i]&&c in l[i].nsps;let d;return t.forceNew||t["force new connection"]||!1===t.multiplex||u?(a("ignoring socket cache for %s",r),d=new o.Manager(r,t)):(l[i]||(a("new io instance for %s",r),l[i]=new o.Manager(r,t)),d=l[i]),n.query&&!t.query&&(t.query=n.queryKey),d.socket(n.path,t)}Object.assign(c,{Manager:o.Manager,Socket:i.Socket,io:c,connect:c});var u=n(6422);Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return u.protocol}});var d=n(7537);Object.defineProperty(t,"Fetch",{enumerable:!0,get:function(){return d.Fetch}}),Object.defineProperty(t,"NodeXHR",{enumerable:!0,get:function(){return d.NodeXHR}}),Object.defineProperty(t,"XHR",{enumerable:!0,get:function(){return d.XHR}}),Object.defineProperty(t,"NodeWebSocket",{enumerable:!0,get:function(){return d.NodeWebSocket}}),Object.defineProperty(t,"WebSocket",{enumerable:!0,get:function(){return d.WebSocket}}),Object.defineProperty(t,"WebTransport",{enumerable:!0,get:function(){return d.WebTransport}}),e.exports=c},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},8945:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;const a=n(7537),l=n(913),c=o(n(6422)),u=n(2485),d=n(736),p=n(3871),h=(0,i(n(7199)).default)("socket.io-client:manager");class m extends p.Emitter{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,(0,a.installTimerFunctions)(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new d.Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||c;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(h("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;h("opening %s",this.uri),this.engine=new a.Socket(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=(0,u.on)(t,"open",function(){n.onopen(),e&&e()}),s=t=>{h("error"),this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},o=(0,u.on)(t,"error",s);if(!1!==this._timeout){const e=this._timeout;h("connect attempt will timeout after %d",e);const n=this.setTimeoutFn(()=>{h("connect attempt timed out after %d",e),r(),s(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){h("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push((0,u.on)(e,"ping",this.onping.bind(this)),(0,u.on)(e,"data",this.ondata.bind(this)),(0,u.on)(e,"error",this.onerror.bind(this)),(0,u.on)(e,"close",this.onclose.bind(this)),(0,u.on)(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){(0,a.nextTick)(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){h("error",e),this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new l.Socket(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return void h("socket %s is still active, skipping close",n)}this._close()}_packet(e){h("writing packet %j",e);const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){h("cleanup"),this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){h("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;h("closed due to %s",e),this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)h("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();h("will wait %dms before reconnect attempt",t),this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(h("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(h("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):(h("reconnect success"),e.onreconnect())}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}t.Manager=m},9585:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodePayload=t.decodePacket=t.encodePayload=t.encodePacket=t.protocol=void 0,t.createPacketEncoderStream=function(){return new TransformStream({transform(e,t){(0,r.encodePacketToBinary)(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const e=new DataView(s.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{s=new Uint8Array(9);const e=new DataView(s.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})},t.createPacketDecoderStream=function(e,t){a||(a=new TextDecoder);const n=[];let r=0,i=-1,u=!1;return new TransformStream({transform(d,p){for(n.push(d);;){if(0===r){if(l(n)<1)break;const e=c(n,1);u=128===(128&e[0]),i=127&e[0],r=i<126?3:126===i?1:2}else if(1===r){if(l(n)<2)break;const e=c(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(l(n)<8)break;const e=c(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){p.enqueue(o.ERROR_PACKET);break}i=s*Math.pow(2,32)+t.getUint32(4),r=3}else{if(l(n)<i)break;const e=c(n,i);p.enqueue((0,s.decodePacket)(u?e:a.decode(e),t)),r=0}if(0===i||i>e){p.enqueue(o.ERROR_PACKET);break}}}})};const r=n(5201);Object.defineProperty(t,"encodePacket",{enumerable:!0,get:function(){return r.encodePacket}});const s=n(8101);Object.defineProperty(t,"decodePacket",{enumerable:!0,get:function(){return s.decodePacket}});const o=n(6311),i=String.fromCharCode(30);t.encodePayload=(e,t)=>{const n=e.length,s=new Array(n);let o=0;e.forEach((e,a)=>{(0,r.encodePacket)(e,!1,e=>{s[a]=e,++o===n&&t(s.join(i))})})};let a;function l(e){return e.reduce((e,t)=>e+t.length,0)}function c(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}t.decodePayload=(e,t)=>{const n=e.split(i),r=[];for(let o=0;o<n.length;o++){const e=(0,s.decodePacket)(n[o],t);if(r.push(e),"error"===e.type)break}return r},t.protocol=4}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var a=2&s&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(o,i),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{47:"83827c96",105:"85f1a2b9",106:"14a5590b",179:"05793411",204:"942378bd",219:"5ec7b0bb",378:"952b7cf2",452:"f3120d16",453:"28d5ba80",743:"19ceb50a",916:"fd568744"}[e]+".chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="coder1-ide-source:";n.l=(r,s,o,i)=>{if(e[r])e[r].push(s);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[s];var p=(t,n)=>{a.onerror=a.onload=null,clearTimeout(h);var s=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach(e=>e(n)),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/ide/",(()=>{var e={792:0};n.f.j=(t,r)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var o=new Promise((n,r)=>s=e[t]=[n,r]);r.push(s[2]=o);var i=n.p+n.u(t),a=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,s[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var s,o,i=r[0],a=r[1],l=r[2],c=0;if(i.some(t=>0!==e[t])){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(l)l(n)}for(t&&t(r);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkcoder1_ide_source=self.webpackChunkcoder1_ide_source||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{Decoder:()=>qt,Encoder:()=>Vt,PacketType:()=>Wt,protocol:()=>Ht});var t=n(5043),r=n.t(t,2),s=n(4391);const{createElement:o,createContext:i,createRef:a,forwardRef:l,useCallback:c,useContext:u,useEffect:d,useImperativeHandle:p,useLayoutEffect:h,useMemo:m,useRef:f,useState:g}=r,y=r["useId".toString()],v=i(null);v.displayName="PanelGroupContext";const b=h,x="function"===typeof y?y:()=>null;let w=0;function C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=x(),n=f(e||t||null);return null===n.current&&(n.current=""+w++),null!==e&&void 0!==e?e:n.current}function k(e){let{children:t,className:n="",collapsedSize:r,collapsible:s,defaultSize:i,forwardedRef:a,id:l,maxSize:c,minSize:d,onCollapse:h,onExpand:m,onResize:g,order:y,style:x,tagName:w="div",...k}=e;const S=u(v);if(null===S)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:j,expandPanel:N,getPanelSize:E,getPanelStyle:T,groupId:_,isPanelCollapsed:P,reevaluatePanelConstraints:A,registerPanel:R,resizePanel:O,unregisterPanel:I}=S,F=C(l),L=f({callbacks:{onCollapse:h,onExpand:m,onResize:g},constraints:{collapsedSize:r,collapsible:s,defaultSize:i,maxSize:c,minSize:d},id:F,idIsFromProps:void 0!==l,order:y});f({didLogMissingDefaultSizeWarning:!1}),b(()=>{const{callbacks:e,constraints:t}=L.current,n={...t};L.current.id=F,L.current.idIsFromProps=void 0!==l,L.current.order=y,e.onCollapse=h,e.onExpand=m,e.onResize=g,t.collapsedSize=r,t.collapsible=s,t.defaultSize=i,t.maxSize=c,t.minSize=d,n.collapsedSize===t.collapsedSize&&n.collapsible===t.collapsible&&n.maxSize===t.maxSize&&n.minSize===t.minSize||A(L.current,n)}),b(()=>{const e=L.current;return R(e),()=>{I(e)}},[y,F,R,I]),p(a,()=>({collapse:()=>{j(L.current)},expand:()=>{N(L.current)},getId:()=>F,getSize:()=>E(L.current),isCollapsed:()=>P(L.current),isExpanded:()=>!P(L.current),resize:e=>{O(L.current,e)}}),[j,N,E,P,F,O]);const D=T(L.current,i);return o(w,{...k,children:t,className:n,style:{...D,...x},"data-panel":"","data-panel-id":F,"data-panel-group-id":_,"data-panel-collapsible":void 0,"data-panel-size":void 0})}const S=l((e,t)=>o(k,{...e,forwardedRef:t}));k.displayName="Panel",S.displayName="forwardRef(Panel)";let j=null,N=null;function E(e,t){const n=function(e,t){if(t){const e=0!==(t&I),n=0!==(t&F);if(0!==(t&R))return e?"se-resize":n?"ne-resize":"e-resize";if(0!==(t&O))return e?"sw-resize":n?"nw-resize":"w-resize";if(e)return"s-resize";if(n)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}(e,t);j!==n&&(j=n,null===N&&(N=document.createElement("style"),document.head.appendChild(N)),N.innerHTML=`*{cursor: ${n}!important;}`)}function T(e){return"keydown"===e.type}function _(e){return e.type.startsWith("mouse")}function P(e){return e.type.startsWith("touch")}function A(e){if(_(e))return{x:e.pageX,y:e.pageY};if(P(e)){const t=e.touches[0];if(t&&t.pageX&&t.pageY)return{x:t.pageX,y:t.pageY}}return{x:1/0,y:1/0}}const R=1,O=2,I=4,F=8,L="coarse"===function(){if("function"===typeof matchMedia)return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}();let D=[],z=!1,M=new Map,B=new Map;const $=new Set;function U(e,t,n,r,s){var o;const{ownerDocument:i}=t,a={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:s},l=null!==(o=M.get(i))&&void 0!==o?o:0;return M.set(i,l+1),$.add(a),Y(),function(){var t;B.delete(e),$.delete(a);const n=null!==(t=M.get(i))&&void 0!==t?t:1;M.set(i,n-1),Y(),1===n&&M.delete(i)}}function H(e){const{x:t,y:n}=A(e);z=!0,Q("down",e),G({x:t,y:n}),Y(),D.length>0&&e.preventDefault()}function W(e){const{x:t,y:n}=A(e);z?(D.forEach(t=>{const{setResizeHandlerState:n}=t;n("move","drag",e)}),K()):(G({x:t,y:n}),Q("move",e),K()),D.length>0&&e.preventDefault()}function V(e){const{x:t,y:n}=A(e);B.clear(),z=!1,D.length>0&&e.preventDefault(),G({x:t,y:n}),Q("up",e),K(),Y()}function G(e){let{x:t,y:n}=e;D.splice(0),$.forEach(e=>{const{element:r,hitAreaMargins:s}=e,{bottom:o,left:i,right:a,top:l}=r.getBoundingClientRect(),c=L?s.coarse:s.fine;t>=i-c&&t<=a+c&&n>=l-c&&n<=o+c&&D.push(e)})}function q(e,t){B.set(e,t)}function K(){let e=!1,t=!1;D.forEach(n=>{const{direction:r}=n;"horizontal"===r?e=!0:t=!0});let n=0;B.forEach(e=>{n|=e}),e&&t?E("intersection",n):e?E("horizontal",n):t?E("vertical",n):null!==N&&(document.head.removeChild(N),j=null,N=null)}function Y(){M.forEach((e,t)=>{const{body:n}=t;n.removeEventListener("contextmenu",V),n.removeEventListener("mousedown",H),n.removeEventListener("mouseleave",W),n.removeEventListener("mousemove",W),n.removeEventListener("touchmove",W),n.removeEventListener("touchstart",H)}),window.removeEventListener("mouseup",V),window.removeEventListener("touchcancel",V),window.removeEventListener("touchend",V),U.length>0&&(z?(D.length>0&&M.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("contextmenu",V),n.addEventListener("mouseleave",W),n.addEventListener("mousemove",W),n.addEventListener("touchmove",W,{passive:!1}))}),window.addEventListener("mouseup",V),window.addEventListener("touchcancel",V),window.addEventListener("touchend",V)):M.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("mousedown",H),n.addEventListener("mousemove",W),n.addEventListener("touchmove",W,{passive:!1}),n.addEventListener("touchstart",H))}))}function Q(e,t){$.forEach(n=>{const{setResizeHandlerState:r}=n;D.includes(n)?r(e,z?"drag":"hover",t):r(e,"inactive",t)})}function X(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Assertion failed!";if(!e)throw console.error(t),Error(t)}function J(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;const r=(e=parseFloat(e.toFixed(n)))-(t=parseFloat(t.toFixed(n)));return 0===r?0:r>0?1:-1}function Z(e,t,n){return 0===J(e,t,n)}function ee(e){let{panelConstraints:t,panelIndex:n,size:r}=e;const s=t[n];X(null!=s);let{collapsedSize:o=0,collapsible:i,maxSize:a=100,minSize:l=0}=s;if(J(r,l)<0)if(i){r=J(r,(o+l)/2)<0?o:l}else r=l;return r=Math.min(a,r),r=parseFloat(r.toFixed(10)),r}function te(e){let{delta:t,layout:n,panelConstraints:r,pivotIndices:s,trigger:o}=e;if(Z(t,0))return n;const i=[...n],[a,l]=s;X(null!=a),X(null!=l);let c=0;if("keyboard"===o){{const e=t<0?l:a,s=r[e];if(X(s),s.collapsible){const s=n[e];X(null!=s);const o=r[e];X(o);const{collapsedSize:i=0,minSize:a=0}=o;if(Z(s,i)){const e=a-s;J(e,Math.abs(t))>0&&(t=t<0?0-e:e)}}}{const e=t<0?a:l,s=r[e];X(s);const{collapsible:o}=s;if(o){const s=n[e];X(null!=s);const o=r[e];X(o);const{collapsedSize:i=0,minSize:a=0}=o;if(Z(s,a)){const e=s-i;J(e,Math.abs(t))>0&&(t=t<0?0-e:e)}}}}{const e=t<0?1:-1;let s=t<0?l:a,o=0;for(;;){const t=n[s];X(null!=t);if(o+=ee({panelConstraints:r,panelIndex:s,size:100})-t,s+=e,s<0||s>=r.length)break}const i=Math.min(Math.abs(t),Math.abs(o));t=t<0?0-i:i}{let e=t<0?a:l;for(;e>=0&&e<r.length;){const s=Math.abs(t)-Math.abs(c),o=n[e];X(null!=o);const a=ee({panelConstraints:r,panelIndex:e,size:o-s});if(!Z(o,a)&&(c+=o-a,i[e]=a,c.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?e--:e++}}if(Z(c,0))return n;{const e=t<0?l:a,s=n[e];X(null!=s);const o=s+c,u=ee({panelConstraints:r,panelIndex:e,size:o});if(i[e]=u,!Z(u,o)){let e=o-u;let n=t<0?l:a;for(;n>=0&&n<r.length;){const s=i[n];X(null!=s);const o=ee({panelConstraints:r,panelIndex:n,size:s+e});if(Z(s,o)||(e-=o-s,i[n]=o),Z(e,0))break;t>0?n--:n++}}}return Z(i.reduce((e,t)=>t+e,0),100)?i:n}function ne(e){let{layout:t,panelsArray:n,pivotIndices:r}=e,s=0,o=100,i=0,a=0;const l=r[0];X(null!=l),n.forEach((e,t)=>{const{constraints:n}=e,{maxSize:r=100,minSize:c=0}=n;t===l?(s=c,o=r):(i+=c,a+=r)});return{valueMax:Math.min(o,100-i),valueMin:Math.max(s,100-a),valueNow:t[l]}}function re(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return Array.from(t.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function se(e,t){const n=re(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:document).findIndex(e=>e.getAttribute("data-panel-resize-handle-id")===t);return null!==n&&void 0!==n?n:null}function oe(e,t,n){const r=se(e,t,n);return null!=r?[r,r+1]:[-1,-1]}function ie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;var n;if(t instanceof HTMLElement&&(null===t||void 0===t||null===(n=t.dataset)||void 0===n?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function ae(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(`[data-panel-resize-handle-id="${e}"]`);return t||null}function le(e){let{committedValuesRef:t,eagerValuesRef:n,groupId:r,layout:s,panelDataArray:o,panelGroupElement:i,setLayout:a}=e;f({didWarnAboutMissingResizeHandle:!1}),b(()=>{if(!i)return;const e=re(r,i);for(let t=0;t<o.length-1;t++){const{valueMax:n,valueMin:r,valueNow:i}=ne({layout:s,panelsArray:o,pivotIndices:[t,t+1]}),a=e[t];if(null==a);else{const e=o[t];X(e),a.setAttribute("aria-controls",e.id),a.setAttribute("aria-valuemax",""+Math.round(n)),a.setAttribute("aria-valuemin",""+Math.round(r)),a.setAttribute("aria-valuenow",null!=i?""+Math.round(i):"")}}return()=>{e.forEach((e,t)=>{e.removeAttribute("aria-controls"),e.removeAttribute("aria-valuemax"),e.removeAttribute("aria-valuemin"),e.removeAttribute("aria-valuenow")})}},[r,s,o,i]),d(()=>{if(!i)return;const e=n.current;X(e);const{panelDataArray:t}=e;X(null!=ie(r,i),`No group found for id "${r}"`);const o=re(r,i);X(o);const l=o.map(e=>{const n=e.getAttribute("data-panel-resize-handle-id");X(n);const[o,l]=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document;var s,o,i,a;const l=ae(t,r),c=re(e,r),u=l?c.indexOf(l):-1;return[null!==(s=null===(o=n[u])||void 0===o?void 0:o.id)&&void 0!==s?s:null,null!==(i=null===(a=n[u+1])||void 0===a?void 0:a.id)&&void 0!==i?i:null]}(r,n,t,i);if(null==o||null==l)return()=>{};const c=e=>{if(!e.defaultPrevented)switch(e.key){case"Enter":{e.preventDefault();const l=t.findIndex(e=>e.id===o);if(l>=0){const e=t[l];X(e);const o=s[l],{collapsedSize:c=0,collapsible:u,minSize:d=0}=e.constraints;if(null!=o&&u){const e=te({delta:Z(o,c)?d-c:c-o,layout:s,panelConstraints:t.map(e=>e.constraints),pivotIndices:oe(r,n,i),trigger:"keyboard"});s!==e&&a(e)}}break}}};return e.addEventListener("keydown",c),()=>{e.removeEventListener("keydown",c)}});return()=>{l.forEach(e=>e())}},[i,t,n,r,s,o,a])}function ce(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ue(e,t){const n="horizontal"===e,{x:r,y:s}=A(t);return n?r:s}function de(e,t,n,r,s,o){if(T(e)){const t="horizontal"===n;let r=0;r=e.shiftKey?100:null!=s?s:10;let o=0;switch(e.key){case"ArrowDown":o=t?0:r;break;case"ArrowLeft":o=t?-r:0;break;case"ArrowRight":o=t?r:0;break;case"ArrowUp":o=t?0:-r;break;case"End":o=100;break;case"Home":o=-100}return o}return null==r?0:function(e,t,n,r,s){const o="horizontal"===n,i=ae(t,s);X(i);const a=i.getAttribute("data-panel-group-id");X(a);let{initialCursorPosition:l}=r;const c=ue(n,e),u=ie(a,s);X(u);const d=u.getBoundingClientRect();return(c-l)/(o?d.width:d.height)*100}(e,t,n,r,o)}function pe(e,t,n){t.forEach((t,r)=>{const s=e[r];X(s);const{callbacks:o,constraints:i,id:a}=s,{collapsedSize:l=0,collapsible:c}=i,u=n[a];if(null==u||t!==u){n[a]=t;const{onCollapse:e,onExpand:r,onResize:s}=o;s&&s(t,u),c&&(e||r)&&(!r||null!=u&&u!==l||t===l||r(),!e||null!=u&&u===l||t!==l||e())}})}function he(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function me(e){try{if("undefined"===typeof localStorage)throw new Error("localStorage not supported in this environment");e.getItem=e=>localStorage.getItem(e),e.setItem=(e,t)=>{localStorage.setItem(e,t)}}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function fe(e){return`react-resizable-panels:${e}`}function ge(e){return e.map(e=>{const{constraints:t,id:n,idIsFromProps:r,order:s}=e;return r?n:s?`${s}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(",")}function ye(e,t){try{const n=fe(e),r=t.getItem(n);if(r){const e=JSON.parse(r);if("object"===typeof e&&null!=e)return e}}catch(n){}return null}function ve(e,t,n,r,s){var o;const i=fe(e),a=ge(t),l=null!==(o=ye(e,s))&&void 0!==o?o:{};l[a]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{s.setItem(i,JSON.stringify(l))}catch(c){console.error(c)}}function be(e){let{layout:t,panelConstraints:n}=e;const r=[...t],s=r.reduce((e,t)=>e+t,0);if(r.length!==n.length)throw Error(`Invalid ${n.length} panel layout: ${r.map(e=>`${e}%`).join(", ")}`);if(!Z(s,100))for(let i=0;i<n.length;i++){const e=r[i];X(null!=e);const t=100/s*e;r[i]=t}let o=0;for(let i=0;i<n.length;i++){const e=r[i];X(null!=e);const t=ee({panelConstraints:n,panelIndex:i,size:e});e!=t&&(o+=e-t,r[i]=t)}if(!Z(o,0))for(let i=0;i<n.length;i++){const e=r[i];X(null!=e);const t=ee({panelConstraints:n,panelIndex:i,size:e+o});if(e!==t&&(o-=t-e,r[i]=t,Z(o,0)))break}return r}const xe={getItem:e=>(me(xe),xe.getItem(e)),setItem:(e,t)=>{me(xe),xe.setItem(e,t)}},we={};function Ce(e){let{autoSaveId:t=null,children:n,className:r="",direction:s,forwardedRef:i,id:a=null,onLayout:l=null,keyboardResizeBy:u=null,storage:h=xe,style:y,tagName:x="div",...w}=e;const k=C(a),S=f(null),[j,N]=g(null),[E,A]=g([]),L=f({}),D=f(new Map),z=f(0),M=f({autoSaveId:t,direction:s,dragState:j,id:k,keyboardResizeBy:u,onLayout:l,storage:h}),B=f({layout:E,panelDataArray:[],panelDataArrayChanged:!1});f({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),p(i,()=>({getId:()=>M.current.id,getLayout:()=>{const{layout:e}=B.current;return e},setLayout:e=>{const{onLayout:t}=M.current,{layout:n,panelDataArray:r}=B.current,s=be({layout:e,panelConstraints:r.map(e=>e.constraints)});ce(n,s)||(A(s),B.current.layout=s,t&&t(s),pe(r,s,L.current))}}),[]),b(()=>{M.current.autoSaveId=t,M.current.direction=s,M.current.dragState=j,M.current.id=k,M.current.onLayout=l,M.current.storage=h}),le({committedValuesRef:M,eagerValuesRef:B,groupId:k,layout:E,panelDataArray:B.current.panelDataArray,setLayout:A,panelGroupElement:S.current}),d(()=>{const{panelDataArray:e}=B.current;if(t){if(0===E.length||E.length!==e.length)return;let n=we[t];null==n&&(n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;return function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout(()=>{e(...s)},t)}}(ve,100),we[t]=n);const r=[...e],s=new Map(D.current);n(t,r,s,E,h)}},[t,E,h]),d(()=>{});const $=c(e=>{const{onLayout:t}=M.current,{layout:n,panelDataArray:r}=B.current;if(e.constraints.collapsible){const s=r.map(e=>e.constraints),{collapsedSize:o=0,panelSize:i,pivotIndices:a}=je(r,e,n);if(X(null!=i),i!==o){D.current.set(e.id,i);const l=te({delta:Se(r,e)===r.length-1?i-o:o-i,layout:n,panelConstraints:s,pivotIndices:a,trigger:"imperative-api"});he(n,l)||(A(l),B.current.layout=l,t&&t(l),pe(r,l,L.current))}}},[]),U=c(e=>{const{onLayout:t}=M.current,{layout:n,panelDataArray:r}=B.current;if(e.constraints.collapsible){const s=r.map(e=>e.constraints),{collapsedSize:o=0,panelSize:i,minSize:a=0,pivotIndices:l}=je(r,e,n);if(i===o){const o=D.current.get(e.id),c=null!=o&&o>=a?o:a,u=te({delta:Se(r,e)===r.length-1?i-c:c-i,layout:n,panelConstraints:s,pivotIndices:l,trigger:"imperative-api"});he(n,u)||(A(u),B.current.layout=u,t&&t(u),pe(r,u,L.current))}}},[]),H=c(e=>{const{layout:t,panelDataArray:n}=B.current,{panelSize:r}=je(n,e,t);return X(null!=r),r},[]),W=c((e,t)=>{const{panelDataArray:n}=B.current,r=Se(n,e);return function(e){let{defaultSize:t,dragState:n,layout:r,panelData:s,panelIndex:o,precision:i=3}=e;const a=r[o];let l;return l=null==a?null!==t&&void 0!==t?t:"1":1===s.length?"1":a.toPrecision(i),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:null!==n?"none":void 0}}({defaultSize:t,dragState:j,layout:E,panelData:n,panelIndex:r})},[j,E]),V=c(e=>{const{layout:t,panelDataArray:n}=B.current,{collapsedSize:r=0,collapsible:s,panelSize:o}=je(n,e,t);return!0===s&&o===r},[]),G=c(e=>{const{layout:t,panelDataArray:n}=B.current,{collapsedSize:r=0,collapsible:s,panelSize:o}=je(n,e,t);return X(null!=o),!s||o>r},[]),K=c(e=>{const{panelDataArray:t}=B.current;t.push(e),t.sort((e,t)=>{const n=e.order,r=t.order;return null==n&&null==r?0:null==n?-1:null==r?1:n-r}),B.current.panelDataArrayChanged=!0},[]);b(()=>{if(B.current.panelDataArrayChanged){B.current.panelDataArrayChanged=!1;const{autoSaveId:e,onLayout:t,storage:n}=M.current,{layout:r,panelDataArray:s}=B.current;let o=null;if(e){const t=function(e,t,n){var r,s;return null!==(s=(null!==(r=ye(e,n))&&void 0!==r?r:{})[ge(t)])&&void 0!==s?s:null}(e,s,n);t&&(D.current=new Map(Object.entries(t.expandToSizes)),o=t.layout)}null==o&&(o=function(e){let{panelDataArray:t}=e;const n=Array(t.length),r=t.map(e=>e.constraints);let s=0,o=100;for(let i=0;i<t.length;i++){const e=r[i];X(e);const{defaultSize:t}=e;null!=t&&(s++,n[i]=t,o-=t)}for(let i=0;i<t.length;i++){const e=r[i];X(e);const{defaultSize:a}=e;if(null!=a)continue;const l=o/(t.length-s);s++,n[i]=l,o-=l}return n}({panelDataArray:s}));const i=be({layout:o,panelConstraints:s.map(e=>e.constraints)});ce(r,i)||(A(i),B.current.layout=i,t&&t(i),pe(s,i,L.current))}});const Y=c(e=>function(t){t.preventDefault();const n=S.current;if(!n)return()=>null;const{direction:r,dragState:s,id:o,keyboardResizeBy:i,onLayout:a}=M.current,{layout:l,panelDataArray:c}=B.current,{initialLayout:u}=null!==s&&void 0!==s?s:{},d=oe(o,e,n);let p=de(t,e,r,s,i,n);if(0===p)return;const h="horizontal"===r;"rtl"===document.dir&&h&&(p=-p);const m=te({delta:p,layout:null!==u&&void 0!==u?u:l,panelConstraints:c.map(e=>e.constraints),pivotIndices:d,trigger:T(t)?"keyboard":"mouse-or-touch"}),f=!he(l,m);(_(t)||P(t))&&z.current!=p&&(z.current=p,q(e,f?0:h?p<0?R:O:p<0?I:F)),f&&(A(m),B.current.layout=m,a&&a(m),pe(c,m,L.current))},[]),Q=c((e,t)=>{const{onLayout:n}=M.current,{layout:r,panelDataArray:s}=B.current,o=s.map(e=>e.constraints),{panelSize:i,pivotIndices:a}=je(s,e,r);X(null!=i);const l=te({delta:Se(s,e)===s.length-1?i-t:t-i,layout:r,panelConstraints:o,pivotIndices:a,trigger:"imperative-api"});he(r,l)||(A(l),B.current.layout=l,n&&n(l),pe(s,l,L.current))},[]),J=c((e,t)=>{const{layout:n,panelDataArray:r}=B.current,{collapsedSize:s=0,collapsible:o}=t,{collapsedSize:i=0,collapsible:a,maxSize:l=100,minSize:c=0}=e.constraints,{panelSize:u}=je(r,e,n);X(null!=u),o&&a&&u===s?s!==i&&Q(e,i):u<c?Q(e,c):u>l&&Q(e,l)},[Q]),Z=c((e,t)=>{const{direction:n}=M.current,{layout:r}=B.current;if(!S.current)return;const s=ae(e,S.current);X(s);const o=ue(n,t);N({dragHandleId:e,dragHandleRect:s.getBoundingClientRect(),initialCursorPosition:o,initialLayout:r})},[]),ee=c(()=>{N(null)},[]),ne=c(e=>{const{panelDataArray:t}=B.current,n=Se(t,e);n>=0&&(t.splice(n,1),delete L.current[e.id],B.current.panelDataArrayChanged=!0)},[]),re=m(()=>({collapsePanel:$,direction:s,dragState:j,expandPanel:U,getPanelSize:H,getPanelStyle:W,groupId:k,isPanelCollapsed:V,isPanelExpanded:G,reevaluatePanelConstraints:J,registerPanel:K,registerResizeHandle:Y,resizePanel:Q,startDragging:Z,stopDragging:ee,unregisterPanel:ne,panelGroupElement:S.current}),[$,j,s,U,H,W,k,V,G,J,K,Y,Q,Z,ee,ne]),se={display:"flex",flexDirection:"horizontal"===s?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return o(v.Provider,{value:re},o(x,{...w,children:n,className:r,style:{...se,...y},ref:S,"data-panel-group":"","data-panel-group-direction":s,"data-panel-group-id":k}))}const ke=l((e,t)=>o(Ce,{...e,forwardedRef:t}));function Se(e,t){return e.findIndex(e=>e===t||e.id===t.id)}function je(e,t,n){const r=Se(e,t),s=r===e.length-1?[r-1,r]:[r,r+1],o=n[r];return{...t.constraints,panelSize:o,pivotIndices:s}}function Ne(e){let{children:t=null,className:n="",disabled:r=!1,hitAreaMargins:s,id:i,onDragging:a,style:l={},tabIndex:c=0,tagName:p="div",...h}=e;const m=f(null),y=f({onDragging:a});d(()=>{y.current.onDragging=a});const b=u(v);if(null===b)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:x,groupId:w,registerResizeHandle:k,startDragging:S,stopDragging:j,panelGroupElement:N}=b,E=C(i),[T,_]=g("inactive"),[P,A]=g(!1),[R,O]=g(null);d(()=>{if(r)O(null);else{const e=k(E);O(()=>e)}},[r,E,k]),d(()=>{var e,t;if(r||null==R)return;const n=m.current;X(n);return U(E,n,x,{coarse:null!==(e=null===s||void 0===s?void 0:s.coarse)&&void 0!==e?e:15,fine:null!==(t=null===s||void 0===s?void 0:s.fine)&&void 0!==t?t:5},(e,t,n)=>{switch(_(t),e){case"down":S(E,n);break;case"up":j()}if("drag"===t)R(n)})},[x,r,s,k,E,R,S,j]),function(e){let{disabled:t,handleId:n,resizeHandler:r,panelGroupElement:s}=e;d(()=>{if(t||null==r||null==s)return;const e=ae(n,s);if(null==e)return;const o=t=>{if(!t.defaultPrevented)switch(t.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":t.preventDefault(),r(t);break;case"F6":{t.preventDefault();const r=e.getAttribute("data-panel-group-id");X(r);const o=re(r,s),i=se(r,n,s);X(null!==i),o[t.shiftKey?i>0?i-1:o.length-1:i+1<o.length?i+1:0].focus();break}}};return e.addEventListener("keydown",o),()=>{e.removeEventListener("keydown",o)}},[s,t,n,r])}({disabled:r,handleId:E,resizeHandler:R,panelGroupElement:N});return o(p,{...h,children:t,className:n,onBlur:()=>A(!1),onFocus:()=>A(!0),ref:m,role:"separator",style:{touchAction:"none",userSelect:"none",...l},tabIndex:c,"data-panel-group-direction":x,"data-panel-group-id":w,"data-resize-handle":"","data-resize-handle-active":"drag"===T?"pointer":P?"keyboard":void 0,"data-resize-handle-state":T,"data-panel-resize-handle-enabled":!r,"data-panel-resize-handle-id":E})}Ce.displayName="PanelGroup",ke.displayName="forwardRef(PanelGroup)",Ne.displayName="PanelResizeHandle";var Ee=n(579);const Te=e=>{let{leftPanel:n,centerPanel:r,rightPanel:s,defaultLeftSize:o=15,defaultRightSize:i=15}=e;const[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1);return(0,Ee.jsxs)(ke,{direction:"horizontal",className:"three-panel-layout",children:[(0,Ee.jsx)(S,{defaultSize:o,minSize:5,maxSize:40,collapsible:!0,onCollapse:()=>l(!0),onExpand:()=>l(!1),className:"panel-left",children:(0,Ee.jsxs)("div",{className:"panel-content",children:[(0,Ee.jsxs)("div",{className:"panel-header",children:[(0,Ee.jsx)("h3",{children:"Explorer"}),(0,Ee.jsx)("button",{className:"panel-toggle",onClick:()=>l(!a),title:"Toggle Explorer",children:a?"\u2192":"\u2190"})]}),(0,Ee.jsx)("div",{className:"panel-body",children:n})]})}),(0,Ee.jsx)(Ne,{className:"resize-handle resize-handle-vertical",children:(0,Ee.jsx)("div",{className:"resize-handle-inner"})}),(0,Ee.jsx)(S,{minSize:20,className:"panel-center",children:r}),(0,Ee.jsx)(Ne,{className:"resize-handle resize-handle-vertical",children:(0,Ee.jsx)("div",{className:"resize-handle-inner"})}),(0,Ee.jsx)(S,{defaultSize:i,minSize:5,maxSize:60,collapsible:!0,onCollapse:()=>u(!0),onExpand:()=>u(!1),className:"panel-right",children:(0,Ee.jsxs)("div",{className:"panel-content",children:[(0,Ee.jsxs)("div",{className:"panel-header",children:[(0,Ee.jsx)("h3",{children:"Preview"}),(0,Ee.jsx)("button",{className:"panel-toggle",onClick:()=>u(!c),title:"Toggle Preview",children:c?"\u2190":"\u2192"})]}),(0,Ee.jsx)("div",{className:"panel-body",children:s})]})})]})},_e=e=>{let{editor:t,terminal:n,defaultTerminalSize:r=40}=e;return(0,Ee.jsxs)(ke,{direction:"vertical",className:"editor-terminal-split",children:[(0,Ee.jsx)(S,{minSize:20,className:"editor-panel",children:(0,Ee.jsx)("div",{className:"editor-container",children:t})}),(0,Ee.jsx)(Ne,{className:"resize-handle resize-handle-horizontal",children:(0,Ee.jsx)("div",{className:"resize-handle-inner"})}),(0,Ee.jsx)(S,{defaultSize:r,minSize:10,maxSize:95,className:"terminal-panel",children:(0,Ee.jsx)("div",{className:"terminal-container",children:n})})]})},Pe=()=>{const e=window.location.port,t=window.location.hostname;return"3001"===e?`http://${t}:3000`:`${window.location.protocol}//${t}:${e||"80"}`},Ae=()=>localStorage.getItem("authToken"),Re=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log("\ud83d\udfe1 [authenticatedFetch] Called with URL:",e),console.log("\ud83d\udfe1 [authenticatedFetch] Options:",t);const n=Ae(),r=Pe();console.log("\ud83d\udfe1 [authenticatedFetch] Token exists?",!!n),console.log("\ud83d\udfe1 [authenticatedFetch] API URL:",r);const s=e.startsWith("http")?e:`${r}${e}`;console.log("\ud83d\udfe1 [authenticatedFetch] Full URL:",s);const o={"Content-Type":"application/json"};t.headers&&"object"===typeof t.headers&&!Array.isArray(t.headers)&&Object.assign(o,t.headers),n&&(o.Authorization=`Bearer ${n}`),console.log("\ud83d\udfe1 [authenticatedFetch] Final headers:",o),console.log("\ud83d\udfe1 [authenticatedFetch] About to make fetch request...");try{const e=await fetch(s,{...t,headers:o});return console.log("\ud83d\udfe1 [authenticatedFetch] Response received:",e),console.log("\ud83d\udfe1 [authenticatedFetch] Response status:",e.status),e}catch(i){throw console.error("\ud83d\udd34 [authenticatedFetch] FETCH ERROR:",i),i}},Oe=Object.create(null);Oe.open="0",Oe.close="1",Oe.ping="2",Oe.pong="3",Oe.message="4",Oe.upgrade="5",Oe.noop="6";const Ie=Object.create(null);Object.keys(Oe).forEach(e=>{Ie[Oe[e]]=e});const Fe={type:"error",data:"parser error"},Le="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),De="function"===typeof ArrayBuffer,ze=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Me=(e,t,n)=>{let{type:r,data:s}=e;return Le&&s instanceof Blob?t?n(s):Be(s,n):De&&(s instanceof ArrayBuffer||ze(s))?t?n(s):Be(new Blob([s]),n):n(Oe[r]+(s||""))},Be=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function $e(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Ue;const He="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",We="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)We[He.charCodeAt(n)]=n;const Ve="function"===typeof ArrayBuffer,Ge=(e,t)=>{if("string"!==typeof e)return{type:"message",data:Ke(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:qe(e.substring(1),t)};return Ie[n]?e.length>1?{type:Ie[n],data:e.substring(1)}:{type:Ie[n]}:Fe},qe=(e,t)=>{if(Ve){const n=(e=>{let t,n,r,s,o,i=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const c=new ArrayBuffer(i),u=new Uint8Array(c);for(t=0;t<a;t+=4)n=We[e.charCodeAt(t)],r=We[e.charCodeAt(t+1)],s=We[e.charCodeAt(t+2)],o=We[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|s>>2,u[l++]=(3&s)<<6|63&o;return c})(e);return Ke(n,t)}return{base64:!0,data:e}},Ke=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Ye=String.fromCharCode(30);function Qe(){return new TransformStream({transform(e,t){!function(e,t){Le&&e.data instanceof Blob?e.data.arrayBuffer().then($e).then(t):De&&(e.data instanceof ArrayBuffer||ze(e.data))?t($e(e.data)):Me(e,!1,e=>{Ue||(Ue=new TextEncoder),t(Ue.encode(e))})}(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const e=new DataView(s.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{s=new Uint8Array(9);const e=new DataView(s.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let Xe;function Je(e){return e.reduce((e,t)=>e+t.length,0)}function Ze(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}var et=n(3871);const tt="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),nt="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function rt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const st=nt.setTimeout,ot=nt.clearTimeout;function it(e,t){t.useNativeTimers?(e.setTimeoutFn=st.bind(nt),e.clearTimeoutFn=ot.bind(nt)):(e.setTimeoutFn=nt.setTimeout.bind(nt),e.clearTimeoutFn=nt.clearTimeout.bind(nt))}function at(e){return"string"===typeof e?function(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function lt(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class ct extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class ut extends et.Emitter{constructor(e){super(),this.writable=!1,it(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new ct(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Ge(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class dt extends ut{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(Ye),r=[];for(let s=0;s<n.length;s++){const e=Ge(n[s],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((e,o)=>{Me(e,!1,e=>{r[o]=e,++s===n&&t(r.join(Ye))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=lt()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let pt=!1;try{pt="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(ks){}const ht=pt;function mt(){}class ft extends dt{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class gt extends et.Emitter{constructor(e,t,n){super(),this.createRequest=e,it(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=rt(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(r){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{n.setRequestHeader("Accept","*/*")}catch(r){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof n.status?n.status:0)},0))},n.send(this._data)}catch(r){return void this.setTimeoutFn(()=>{this._onError(r)},0)}"undefined"!==typeof document&&(this._index=gt.requestsCount++,gt.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=mt,e)try{this._xhr.abort()}catch(t){}"undefined"!==typeof document&&delete gt.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(gt.requestsCount=0,gt.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",yt);else if("function"===typeof addEventListener){addEventListener("onpagehide"in nt?"pagehide":"unload",yt,!1)}function yt(){for(let e in gt.requests)gt.requests.hasOwnProperty(e)&&gt.requests[e].abort()}const vt=function(){const e=bt({xdomain:!1});return e&&null!==e.responseType}();function bt(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||ht))return new XMLHttpRequest}catch(n){}if(!t)try{return new(nt[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}const xt="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class wt extends ut{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=xt?{}:rt(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(ks){return this.emitReserved("error",ks)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;Me(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(t){}r&&tt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=lt()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Ct=nt.WebSocket||nt.MozWebSocket;const kt={websocket:class extends wt{createSocket(e,t,n){return xt?new Ct(e,t,n):t?new Ct(e,t):new Ct(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends ut{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(ks){return this.emitReserved("error",ks)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){Xe||(Xe=new TextDecoder);const n=[];let r=0,s=-1,o=!1;return new TransformStream({transform(i,a){for(n.push(i);;){if(0===r){if(Je(n)<1)break;const e=Ze(n,1);o=128===(128&e[0]),s=127&e[0],r=s<126?3:126===s?1:2}else if(1===r){if(Je(n)<2)break;const e=Ze(n,2);s=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(Je(n)<8)break;const e=Ze(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),o=t.getUint32(0);if(o>Math.pow(2,21)-1){a.enqueue(Fe);break}s=o*Math.pow(2,32)+t.getUint32(4),r=3}else{if(Je(n)<s)break;const e=Ze(n,s);a.enqueue(Ge(o?e:Xe.decode(e),t)),r=0}if(0===s||s>e){a.enqueue(Fe);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=Qe();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const s=()=>{n.read().then(e=>{let{done:t,value:n}=e;t||(this.onPacket(n),s())}).catch(e=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&tt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends ft{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=vt&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new gt(bt,this.uri(),e)}}},St=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,jt=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Nt(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=St.exec(e||""),o={},i=14;for(;i--;)o[jt[i]]=s[i]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,o.path),o.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,o.query),o}const Et="function"===typeof addEventListener&&"function"===typeof removeEventListener,Tt=[];Et&&addEventListener("offline",()=>{Tt.forEach(e=>e())},!1);class _t extends et.Emitter{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=Nt(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=Nt(t.host).host);it(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),Et&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Tt.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&_t.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",_t.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=at(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,tt(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const s={type:e,data:t,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(_t.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Et&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=Tt.indexOf(this._offlineEventListener);-1!==e&&Tt.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}_t.protocol=4;class Pt extends _t{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;_t.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;_t.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function s(){n||(n=!0,c(),t.close(),t=null)}const o=e=>{const n=new Error("probe error: "+e);n.transport=t.name,s(),this.emitReserved("upgradeError",n)};function i(){o("transport closed")}function a(){o("socket closed")}function l(e){t&&e.name!==t.name&&s()}const c=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",i),this.off("close",a),this.off("upgrading",l)};t.once("open",r),t.once("error",o),t.once("close",i),this.once("close",a),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class At extends Pt{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>kt[e]).filter(e=>!!e)),super(e,t)}}const Rt="function"===typeof ArrayBuffer,Ot=Object.prototype.toString,It="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Ot.call(Blob),Ft="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Ot.call(File);function Lt(e){return Rt&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||It&&e instanceof Blob||Ft&&e instanceof File}function Dt(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Dt(e[t]))return!0;return!1}if(Lt(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return Dt(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Dt(e[n]))return!0;return!1}function zt(e){const t=[],n=e.data,r=e;return r.data=Mt(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Mt(e,t){if(!e)return e;if(Lt(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Mt(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Mt(e[r],t));return n}return e}function Bt(e,t){return e.data=$t(e.data,t),delete e.attachments,e}function $t(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=$t(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=$t(e[n],t));return e}const Ut=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ht=5;var Wt;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Wt||(Wt={}));class Vt{constructor(e){this.replacer=e}encode(e){return e.type!==Wt.EVENT&&e.type!==Wt.ACK||!Dt(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Wt.EVENT?Wt.BINARY_EVENT:Wt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Wt.BINARY_EVENT&&e.type!==Wt.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=zt(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function Gt(e){return"[object Object]"===Object.prototype.toString.call(e)}class qt extends et.Emitter{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Wt.BINARY_EVENT;n||t.type===Wt.BINARY_ACK?(t.type=n?Wt.EVENT:Wt.ACK,this.reconstructor=new Kt(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Lt(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Wt[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Wt.BINARY_EVENT||n.type===Wt.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const s=e.substring(r,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(s)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!qt.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case Wt.CONNECT:return Gt(t);case Wt.DISCONNECT:return void 0===t;case Wt.CONNECT_ERROR:return"string"===typeof t||Gt(t);case Wt.EVENT:case Wt.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===Ut.indexOf(t[0]));case Wt.ACK:case Wt.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Kt{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Bt(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Yt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Qt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Xt extends et.Emitter{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Yt(e,"open",this.onopen.bind(this)),Yt(e,"packet",this.onpacket.bind(this)),Yt(e,"error",this.onerror.bind(this)),Yt(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(Qt.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var s=arguments.length,o=new Array(s>1?s-1:0),i=1;i<s;i++)o[i-1]=arguments[i];if(o.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(o),this;const a={type:Wt.EVENT,data:o,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"===typeof o[o.length-1]){const e=this.ids++,t=o.pop();this._registerAckCallback(e,t),a.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const s=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===s)return void(this.acks[e]=t);const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},s),i=function(){r.io.clearTimeoutFn(o);for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];t.apply(r,n)};i.withError=!0,this.acks[e]=i}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((t,r)=>{const s=(e,n)=>e?r(e):t(n);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var s=arguments.length,o=new Array(s>1?s-1:0),i=1;i<s;i++)o[i-1]=arguments[i];n(null,...o)}return r.pending=!1,t._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Wt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Wt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Wt.EVENT:case Wt.BINARY_EVENT:this.onevent(e);break;case Wt.ACK:case Wt.BINARY_ACK:this.onack(e);break;case Wt.DISCONNECT:this.ondisconnect();break;case Wt.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];t.packet({type:Wt.ACK,id:e,data:s})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Wt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Jt(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Jt.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Jt.prototype.reset=function(){this.attempts=0},Jt.prototype.setMin=function(e){this.ms=e},Jt.prototype.setMax=function(e){this.max=e},Jt.prototype.setJitter=function(e){this.jitter=e};class Zt extends et.Emitter{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,it(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Jt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||e;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new At(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Yt(t,"open",function(){n.onopen(),e&&e()}),s=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},o=Yt(t,"error",s);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{r(),s(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Yt(e,"ping",this.onping.bind(this)),Yt(e,"data",this.ondata.bind(this)),Yt(e,"error",this.onerror.bind(this)),Yt(e,"close",this.onclose.bind(this)),Yt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){tt(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Xt(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const en={};function tn(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=Nt(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,s=n.id,o=n.path,i=en[s]&&o in en[s].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?a=new Zt(r,t):(en[s]||(en[s]=new Zt(r,t)),a=en[s]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(tn,{Manager:Zt,Socket:Xt,io:tn,connect:tn});const nn=e=>{let{onVoiceCommand:n,disabled:r=!1}=e;const[s,o]=(0,t.useState)(!1),[i,a]=(0,t.useState)(!1),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)("idle"),[p,h]=(0,t.useState)(0),m=(0,t.useRef)(null),f=(0,t.useRef)(null);(0,t.useEffect)(()=>{const e=window.SpeechRecognition||window.webkitSpeechRecognition;if(e){a(!0);const t=new e;t.continuous=!1,t.interimResults=!1,t.lang="en-US",t.maxAlternatives=1,t.onstart=()=>{console.log("\ud83c\udfa4 Voice recognition started"),d("listening"),o(!0),c(""),f.current=setTimeout(()=>{t&&s&&t.stop()},5e3)},t.onresult=e=>{const t=e.results[0][0],n=t.transcript.toLowerCase().trim(),r=t.confidence;console.log("\ud83c\udfa4 Voice recognition result:",n,"confidence:",r),c(t.transcript),h(r),d("processing"),g(n)},t.onerror=e=>{console.error("\ud83c\udfa4 Voice recognition error:",e.error),d("error"),o(!1),f.current&&(clearTimeout(f.current),f.current=null),setTimeout(()=>{d("idle"),c("")},2e3)},t.onend=()=>{console.log("\ud83c\udfa4 Voice recognition ended"),o(!1),f.current&&(clearTimeout(f.current),f.current=null),setTimeout(()=>{d("idle"),"error"!==u&&c("")},2e3)},m.current=t}else console.warn("\ud83c\udfa4 Speech recognition not supported"),a(!1);return()=>{f.current&&clearTimeout(f.current)}},[]);const g=(0,t.useCallback)(e=>{console.log("\ud83d\udd04 Processing voice command:",e);let t="unknown",r=e;if(e.includes("claude")||e.includes("start claude")||e.includes("run claude")||e.includes("open claude"))t="run-claude",r="claude";else if(e.startsWith("type ")||e.startsWith("enter ")||e.startsWith("run "))t="terminal-input",r=e.replace(/^(type|enter|run)\s+/i,"").trim();else if(e.includes("clear terminal")||"clear"===e)t="clear-terminal",r="clear";else if(e.includes("help"))t="help",r="help";else if(e.includes("sleep mode"))t="toggle-sleep";else if(e.includes("supervision"))t="toggle-supervision";else if(e.includes("infinite loop")||e.includes("parallel agents"))t="toggle-infinite";else if(e.includes("hivemind"))t="open-hivemind";else{const n=["ls","cd","pwd","git","npm","yarn","python","node","cat","mkdir","rm"],s=e.split(" ")[0].toLowerCase();n.includes(s)&&(t="terminal-input",r=e)}console.log("\ud83c\udfaf Command mapped:",{original:e,action:t,clean:r}),n&&n(r,t)},[n]),y=(0,t.useCallback)(()=>{if(i&&!r&&!s&&m.current)try{m.current.start()}catch(e){console.error("\ud83c\udfa4 Failed to start recognition:",e),d("error"),setTimeout(()=>d("idle"),2e3)}},[i,r,s]),v=(0,t.useCallback)(()=>{m.current&&s&&m.current.stop()},[s]),b=(0,t.useCallback)(()=>{y()},[y]),x=(0,t.useCallback)(()=>{v()},[v]),w=(0,t.useCallback)(()=>{v()},[v]);return i?(0,Ee.jsx)("div",{className:"voice-interface",children:(0,Ee.jsx)("button",{className:`voice-button ${u} ${r?"disabled":""}`,onMouseDown:b,onMouseUp:x,onMouseLeave:w,onTouchStart:b,onTouchEnd:x,disabled:r||!i,title:(()=>{switch(u){case"listening":return"Listening...";case"processing":return"Processing...";case"error":return"Error occurred";default:return"Click to speak"}})(),children:"\ud83c\udfa4"})}):(0,Ee.jsxs)("div",{className:"voice-interface unsupported",children:[(0,Ee.jsx)("div",{className:"voice-button disabled",title:"Speech recognition not supported",children:"\ud83d\udeab"}),(0,Ee.jsx)("div",{className:"voice-status",children:"Not supported"})]})};var rn=n(6358);function sn(e){const[n,r]=(0,t.useState)(()=>(0,rn.isFeatureEnabled)(e));return(0,t.useEffect)(()=>{const t=t=>{const{feature:n,allFlags:s}=t.detail;n&&n!==e||r((0,rn.isFeatureEnabled)(e))};window.addEventListener("featureFlagsUpdated",t);const n=t=>{"coder1-feature-flags"===t.key&&r((0,rn.isFeatureEnabled)(e))};return window.addEventListener("storage",n),()=>{window.removeEventListener("featureFlagsUpdated",t),window.removeEventListener("storage",n)}},[e]),n}const on=[{id:"normal",label:"Normal",description:"Standard response speed",icon:"\u26a1",estimatedTime:"~5s",tokenMultiplier:1},{id:"think",label:"Think",description:"More thoughtful responses",icon:"\ud83e\udd14",estimatedTime:"~15s",tokenMultiplier:1.5},{id:"think-hard",label:"Think Hard",description:"Deep analysis and reasoning",icon:"\ud83e\udde0",estimatedTime:"~30s",tokenMultiplier:2},{id:"ultrathink",label:"Ultrathink",description:"Maximum reasoning depth",icon:"\ud83d\udcad",estimatedTime:"~60s",tokenMultiplier:3}],an=e=>{let{value:n,onChange:r,disabled:s=!1,compact:o=!1}=e;const i=sn("THINKING_MODE_TOGGLE"),[a,l]=(0,t.useState)("normal"),[c,u]=(0,t.useState)(null),[d,p]=(0,t.useState)(!1),h=(0,t.useRef)(null);(0,t.useEffect)(()=>{const e=localStorage.getItem("coder1-thinking-mode");e&&on.find(t=>t.id===e)&&l(e)},[]),(0,t.useEffect)(()=>{if(!o||!d)return;const e=e=>{h.current&&!h.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[o,d]);const m=n||a,f=e=>{l(e),localStorage.setItem("coder1-thinking-mode",e),r&&r(e)},g=()=>on.find(e=>e.id===m)||on[0];if(!i)return null;if(o){const e=g();return(0,Ee.jsxs)("div",{className:"thinking-mode-compact",ref:h,children:[(0,Ee.jsxs)("button",{className:"thinking-mode-indicator "+(s?"disabled":""),disabled:s,onClick:e=>{e.preventDefault(),e.stopPropagation(),p(!d)},onMouseEnter:()=>!d&&u(e.id),onMouseLeave:()=>u(null),children:[(0,Ee.jsx)("span",{className:"mode-icon",children:e.icon}),(0,Ee.jsx)("span",{className:"mode-label",children:e.label})]}),d&&(0,Ee.jsx)("div",{className:"thinking-mode-dropdown",children:on.map(e=>(0,Ee.jsxs)("button",{className:"thinking-mode-dropdown-item "+(m===e.id?"active":""),onClick:()=>{f(e.id),p(!1)},children:[(0,Ee.jsxs)("div",{className:"dropdown-item-content",children:[(0,Ee.jsx)("span",{className:"mode-icon",children:e.icon}),(0,Ee.jsx)("span",{className:"mode-label",children:e.label})]}),(0,Ee.jsx)("div",{className:"dropdown-item-details",children:(0,Ee.jsx)("span",{className:"mode-time",children:e.estimatedTime})})]},e.id))}),c&&!d&&(0,Ee.jsxs)("div",{className:"thinking-mode-tooltip",children:[(0,Ee.jsxs)("div",{className:"tooltip-header",children:[e.icon," ",e.label]}),(0,Ee.jsx)("div",{className:"tooltip-description",children:e.description}),(0,Ee.jsxs)("div",{className:"tooltip-stats",children:[(0,Ee.jsxs)("span",{children:["Time: ",e.estimatedTime]}),(0,Ee.jsxs)("span",{children:["Tokens: ",e.tokenMultiplier,"x"]})]})]})]})}return(0,Ee.jsxs)("div",{className:"thinking-mode-toggle "+(s?"disabled":""),children:[(0,Ee.jsxs)("div",{className:"thinking-mode-header",children:[(0,Ee.jsx)("span",{className:"thinking-icon",children:"\ud83e\udde0"}),(0,Ee.jsx)("span",{className:"thinking-label",children:"Thinking Mode"})]}),(0,Ee.jsx)("div",{className:"thinking-mode-options",children:on.map(e=>(0,Ee.jsxs)("button",{className:"thinking-mode-option "+(m===e.id?"active":""),onClick:()=>f(e.id),disabled:s,onMouseEnter:()=>u(e.id),onMouseLeave:()=>u(null),children:[(0,Ee.jsxs)("div",{className:"mode-content",children:[(0,Ee.jsx)("span",{className:"mode-icon",children:e.icon}),(0,Ee.jsx)("span",{className:"mode-label",children:e.label})]}),(0,Ee.jsxs)("div",{className:"mode-details",children:[(0,Ee.jsx)("span",{className:"mode-time",children:e.estimatedTime}),(0,Ee.jsxs)("span",{className:"mode-tokens",children:[e.tokenMultiplier,"x"]})]}),c===e.id&&(0,Ee.jsxs)("div",{className:"thinking-mode-tooltip",children:[(0,Ee.jsx)("div",{className:"tooltip-description",children:e.description}),(0,Ee.jsxs)("div",{className:"tooltip-stats",children:[(0,Ee.jsxs)("div",{children:["Estimated time: ",e.estimatedTime]}),(0,Ee.jsxs)("div",{children:["Token usage: ",e.tokenMultiplier,"x normal"]})]})]})]},e.id))}),(0,Ee.jsxs)("div",{className:"thinking-mode-info",children:[(0,Ee.jsxs)("div",{className:"current-mode",children:["Current: ",(0,Ee.jsx)("strong",{children:g().label})]}),(0,Ee.jsx)("div",{className:"mode-description",children:g().description})]})]})},ln=e=>{let{socket:n,terminalId:r,onApplyFix:s}=e;const[o,i]=(0,t.useState)([]),[a,l]=(0,t.useState)(!0),[c,u]=(0,t.useState)(!1),[d,p]=(0,t.useState)(null),[h,m]=(0,t.useState)(null),[f,g]=(0,t.useState)(null);(0,t.useEffect)(()=>{if(!n)return;(async()=>{try{const e=await fetch("/api/error-doctor/status"),t=await e.json();t.success&&(p(t.status),l(t.status.enabled))}catch(e){console.warn("Error Doctor status check failed:",e),l(!1)}})();const e=e=>{console.log("\ud83d\udd0d Error Doctor: Received analysis",e),h&&(clearTimeout(h),m(null)),i(t=>[e,...t].slice(0,10)),u(!0);const t=setTimeout(()=>{u(!1),m(null)},12e4);m(t)},t=e=>{var t;console.log("\u2705 Error Doctor: Fix applied",e),g((null===(t=e.fix)||void 0===t?void 0:t.title)||"Fix applied successfully"),h&&(clearTimeout(h),m(null));const n=setTimeout(()=>{u(!1),i([]),g(null)},3e3);m(n)},r=e=>{console.error("\u274c Error Doctor: Fix error",e)};return n.on("error-doctor:analysis",e),n.on("error-doctor:fix-applied",t),n.on("error-doctor:fix-error",r),()=>{n.off("error-doctor:analysis",e),n.off("error-doctor:fix-applied",t),n.off("error-doctor:fix-error",r),h&&clearTimeout(h)}},[n,h]);const y=e=>{switch(e){case"high":return"#10b981";case"medium":return"#f59e0b";case"low":return"#ef4444";default:return"#6b7280"}},v=e=>{switch(e){case"quick-fix":return"\u26a1";case"claude-ai":return"\ud83e\udd16";case"openai":return"\ud83e\udde0";default:return"\ud83d\udd0d"}};return a?(0,Ee.jsxs)("div",{className:"error-doctor "+(c?"visible":"hidden"),children:[(0,Ee.jsxs)("div",{className:"error-doctor-header",children:[(0,Ee.jsxs)("div",{className:"error-doctor-title",children:[(0,Ee.jsx)("span",{className:"error-doctor-icon",children:"\ud83e\ude7a"}),"Error Doctor",d&&d.aiServices.openai||null!==d&&void 0!==d&&d.aiServices.anthropic?(0,Ee.jsx)("span",{className:"ai-indicator",children:"AI"}):(0,Ee.jsx)("span",{className:"quick-fix-indicator",children:"Quick Fix"})]}),(0,Ee.jsxs)("div",{className:"error-doctor-controls",children:[o.length>0&&(0,Ee.jsx)("button",{className:"close-panel-btn",onClick:()=>{i([]),u(!1)},title:"Clear all analyses and close panel",children:"\u2715"}),(0,Ee.jsx)("button",{className:"toggle-visibility",onClick:()=>u(!c),title:c?"Hide Error Doctor":"Show Error Doctor",children:c?"\u2212":"+"})]})]}),c&&(0,Ee.jsxs)("div",{className:"error-doctor-content",children:[f&&(0,Ee.jsxs)("div",{className:"success-message",children:[(0,Ee.jsx)("span",{className:"success-icon",children:"\u2705"}),(0,Ee.jsxs)("span",{className:"success-text",children:["Applied: ",f]}),(0,Ee.jsx)("span",{className:"auto-close-notice",children:"(closing in 3s)"})]}),0===o.length?(0,Ee.jsxs)("div",{className:"no-analyses",children:[(0,Ee.jsx)("div",{className:"no-analyses-icon",children:"\ud83d\udd0d"}),(0,Ee.jsxs)("div",{className:"no-analyses-text",children:["Monitoring for errors...",(0,Ee.jsx)("br",{}),(0,Ee.jsx)("span",{className:"no-analyses-subtext",children:"I'll automatically analyze any errors that appear in your terminal"})]})]}):(0,Ee.jsx)("div",{className:"analyses-list",children:o.map((e,t)=>(0,Ee.jsxs)("div",{className:"analysis-item",children:[(0,Ee.jsxs)("div",{className:"analysis-header",children:[(0,Ee.jsxs)("span",{className:"analysis-source",children:[v(e.analysis.source)," ",e.analysis.source]}),(0,Ee.jsxs)("span",{className:"analysis-confidence",style:{color:y(e.analysis.confidence)},children:[e.analysis.confidence," confidence"]})]}),e.analysis.explanation&&(0,Ee.jsx)("div",{className:"analysis-explanation",children:e.analysis.explanation}),(0,Ee.jsx)("div",{className:"fixes-list",children:e.analysis.fixes.map((e,t)=>(0,Ee.jsxs)("div",{className:"fix-item",children:[(0,Ee.jsxs)("div",{className:"fix-header",children:[(0,Ee.jsx)("span",{className:"fix-title",children:e.title}),(0,Ee.jsx)("span",{className:"fix-confidence",style:{color:y(e.confidence)},children:e.confidence})]}),(0,Ee.jsx)("div",{className:"fix-description",children:e.description}),e.command&&(0,Ee.jsx)("div",{className:"fix-command",children:(0,Ee.jsx)("code",{children:e.command})}),(0,Ee.jsx)("div",{className:"fix-actions",children:e.command?(0,Ee.jsx)("button",{className:"apply-fix-btn",onClick:()=>(e=>{n&&r?(h&&(clearTimeout(h),m(null)),console.log("\ud83d\udd27 Error Doctor: Applying fix",e),n.emit("error-doctor:apply-fix",{sessionId:r,fix:e}),s&&s(e)):console.error("Error Doctor: Cannot apply fix - no socket or terminal ID")})(e),title:"Apply this fix automatically",children:"\ud83d\udd27 Apply Fix"}):(0,Ee.jsx)("span",{className:"manual-fix-note",children:"\u2139\ufe0f Manual intervention required"})})]},t))}),(0,Ee.jsx)("div",{className:"analysis-timestamp",children:new Date(e.timestamp).toLocaleTimeString()})]},`${e.timestamp}-${t}`))}),o.length>0&&(0,Ee.jsx)("div",{className:"error-doctor-footer",children:(0,Ee.jsx)("button",{className:"clear-analyses-btn",onClick:()=>{i([]),g(null),h&&(clearTimeout(h),m(null))},title:"Clear all analyses",children:"\ud83d\uddd1\ufe0f Clear"})})]})]}):null},cn=e=>{let{socket:n,sessionId:r,enabled:s=!0}=e;const[o,i]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1),c=(0,t.useCallback)(e=>{if(console.log("=== TmuxControls Debug ==="),console.log("Command to send:",e),console.log("Socket object:",n),console.log("Socket connected?:",null===n||void 0===n?void 0:n.connected),console.log("SessionId:",r),console.log("Enabled prop:",s),!n){console.warn("\u26a0\ufe0f TmuxControls: No socket available");const e="Terminal socket not ready. Please wait a moment and try again.";return void console.warn(e)}if(!n.connected){console.warn("\u26a0\ufe0f Socket exists but not connected");const e="Terminal is connecting... Please wait and try again.";return void console.warn(e)}if(!r){console.warn("\u26a0\ufe0f TmuxControls: No session ID available");const e="Terminal session not ready. Please wait for terminal to initialize.";return void console.warn(e)}try{console.log("\u2705 Sending command via socket.emit...");const t={id:r,data:e};console.log("Payload:",t),n.emit("terminal:data",t),console.log("\u2705 Command sent successfully")}catch(t){console.error("\u274c TmuxControls: Error sending command:",t),alert("Error sending command: "+t)}},[n,r,s]),u=((0,t.useCallback)(()=>{console.log("\ud83e\uddea TEST BUTTON CLICKED"),console.log("Socket:",n),console.log("Socket type:",typeof n),console.log("Socket keys:",n?Object.keys(n):"null"),console.log("SessionId:",r),console.log("Enabled:",s),n&&(console.log("Socket.connected:",n.connected),console.log("Socket.emit exists?:",typeof n.emit)),n?r?(console.log("\ud83e\uddea Calling sendCommand..."),c('echo "Testing tmux button"\r')):alert("SessionId is null - no terminal session"):alert("Socket is null - not connected to backend")},[c,n,r,s]),(0,t.useCallback)(()=>{console.log("\ud83d\udea8 handleStartTmux FUNCTION CALLED - TOP OF FUNCTION"),console.log("\ud83d\udea8 tmuxActive state:",o),o?console.log("TmuxControls: tmux already active"):(console.log("\ud83d\udcfa START TMUX BUTTON CLICKED"),console.log("Socket:",n),console.log("SessionId:",r),console.log("Socket connected:",null===n||void 0===n?void 0:n.connected),console.log("\ud83d\udcfa Checking tmux availability..."),c("which tmux\r"),setTimeout(()=>{console.log("\ud83d\udcfa Starting tmux session..."),c("tmux new-session\r"),i(!0)},500))},[o,c,n,r])),d=(0,t.useCallback)(()=>{console.log("\ud83d\udd28 handleSplitHorizontal called, tmuxActive:",o),o?(console.log("TmuxControls: Splitting horizontal"),console.log("Socket available:",!!n,"Connected:",null===n||void 0===n?void 0:n.connected),console.log("SessionId:",r),console.log("Sending Ctrl+B..."),c("\x02"),setTimeout(()=>{console.log("Sending %..."),c("%")},100)):console.log("TmuxControls: Start tmux first")},[o,c,n,r]),p=(0,t.useCallback)(()=>{o?(console.log("TmuxControls: Splitting vertical"),c("\x02"),setTimeout(()=>{c('"')},100)):console.log("TmuxControls: Start tmux first")},[o,c]),h=(0,t.useCallback)(()=>{o?(console.log("TmuxControls: Switching to next pane"),c("\x02"),setTimeout(()=>{c("o")},100)):console.log("TmuxControls: Start tmux first")},[o,c]),m=(0,t.useCallback)(()=>{o?(console.log("TmuxControls: Closing pane"),c("\x02"),setTimeout(()=>{c("x"),setTimeout(()=>c("y"),200)},100)):console.log("TmuxControls: Start tmux first")},[o,c]);if(t.useEffect(()=>(console.log("\ud83c\udfae TmuxControls mounted!"),console.log("Initial socket:",n),console.log("Initial sessionId:",r),console.log("Initial enabled:",s),()=>{console.log("\ud83c\udfae TmuxControls unmounting")}),[n,r,s]),!s)return null;const f=n&&n.connected&&r,g=n?n.connected?r?"Ready":"No Session":"Connecting":"No Socket";return(0,Ee.jsxs)("div",{className:"tmux-controls",style:{display:"inline-flex",alignItems:"center",gap:"4px",marginLeft:"8px",padding:"0 8px",borderLeft:"1px solid rgba(255, 255, 255, 0.1)",height:"100%",zIndex:1e4,position:"relative"},children:[!f&&(0,Ee.jsx)("div",{style:{fontSize:"10px",color:"#fbbf24",backgroundColor:"rgba(251, 191, 36, 0.1)",padding:"1px 4px",borderRadius:"2px",marginRight:"4px"},children:g}),o?(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsx)("button",{className:"tmux-btn",onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("\ud83d\udd28 Split horizontal button clicked!"),d()},title:"Split horizontal (Ctrl+B %)",style:{padding:"2px 6px",fontSize:"16px",background:"transparent",border:"1px solid rgba(255, 255, 255, 0.2)",color:"#a9b1d6",borderRadius:"3px",cursor:"pointer",transition:"all 0.2s",lineHeight:"1",pointerEvents:"auto",zIndex:99999,position:"relative"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.1)",e.currentTarget.style.color="#ffffff"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="#a9b1d6"},children:"\u2b0c"}),(0,Ee.jsx)("button",{className:"tmux-btn",onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("\ud83d\udcd0 Split vertical button clicked!"),p()},title:'Split vertical (Ctrl+B ")',style:{padding:"2px 6px",fontSize:"16px",background:"transparent",border:"1px solid rgba(255, 255, 255, 0.2)",color:"#a9b1d6",borderRadius:"3px",cursor:"pointer",transition:"all 0.2s",lineHeight:"1",pointerEvents:"auto",zIndex:99999,position:"relative"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.1)",e.currentTarget.style.color="#ffffff"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="#a9b1d6"},children:"\u2b0d"}),(0,Ee.jsx)("button",{className:"tmux-btn",onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("\u27a1\ufe0f Next pane button clicked!"),h()},title:"Next pane (Ctrl+B o)",style:{padding:"2px 6px",fontSize:"14px",background:"transparent",border:"1px solid rgba(255, 255, 255, 0.2)",color:"#a9b1d6",borderRadius:"3px",cursor:"pointer",transition:"all 0.2s",lineHeight:"1",pointerEvents:"auto",zIndex:99999,position:"relative"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.1)",e.currentTarget.style.color="#ffffff"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="#a9b1d6"},children:"\u2192"}),(0,Ee.jsx)("button",{className:"tmux-btn",onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("\u274c Close pane button clicked!"),m()},title:"Close pane (Ctrl+B x)",style:{padding:"2px 6px",fontSize:"14px",background:"transparent",border:"1px solid rgba(239, 68, 68, 0.3)",color:"#ef4444",borderRadius:"3px",cursor:"pointer",transition:"all 0.2s",lineHeight:"1",pointerEvents:"auto",zIndex:99999,position:"relative"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(239, 68, 68, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.background="transparent"},children:"\u2715"})]}):(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsx)("button",{className:"terminal-control-btn",onClick:e=>{console.log("\ud83d\udea8 START TMUX BUTTON ONCLICK FIRED!"),console.log("\ud83d\udea8 Event object:",e),e.preventDefault(),e.stopPropagation(),console.log("\ud83c\udfaf Start tmux button clicked directly!"),console.log("\ud83d\udea8 About to call handleStartTmux..."),u(),console.log("\ud83d\udea8 handleStartTmux called")},title:"Start tmux for multiple terminal panes",style:{padding:"4px 8px",fontSize:"12px",background:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.3)",color:"#22c55e",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s",fontWeight:"500",pointerEvents:"auto",zIndex:99999,position:"relative"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(34, 197, 94, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(34, 197, 94, 0.1)"},children:"\ud83d\udcfa Start tmux"})})]})};const un=new class{constructor(){this.baseUrl="/api/hooks"}async getStatus(){const e=await Re(`${this.baseUrl}/status`);if(!e.ok)throw new Error("Failed to fetch hooks status");return(await e.json()).status}async analyzeProject(){const e=await Re(`${this.baseUrl}/detect-project`);if(!e.ok)throw new Error("Failed to analyze project");return(await e.json()).analysis}async getTemplates(e){const t=e?`${this.baseUrl}/templates?category=${encodeURIComponent(e)}`:`${this.baseUrl}/templates`,n=await Re(t);if(!n.ok)throw new Error("Failed to fetch hook templates");return(await n.json()).templates}async getTemplate(e){const t=await Re(`${this.baseUrl}/templates/${e}`);if(!t.ok)throw new Error(`Failed to fetch template: ${e}`);return(await t.json()).template}async getCurrentConfig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"project";const t=await Re(`${this.baseUrl}/current-config?scope=${e}`);if(!t.ok)throw new Error("Failed to fetch current configuration");return(await t.json()).config||{}}async generateConfig(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await Re(`${this.baseUrl}/generate-config`,{method:"POST",body:JSON.stringify({selectedHooks:e,scope:n.scope||"project",mergeWithExisting:null===(t=n.mergeWithExisting)||void 0===t||t,preview:n.preview||!1})});if(!r.ok){const e=await r.json();throw new Error(e.error||"Failed to generate configuration")}return await r.json()}async saveConfig(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await Re(`${this.baseUrl}/save-config`,{method:"POST",body:JSON.stringify({config:e,scope:n.scope||"project",createBackup:null===(t=n.createBackup)||void 0===t||t})});if(!r.ok){const e=await r.json();throw new Error(e.error||"Failed to save configuration")}return await r.json()}async installPack(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"project";const n=await Re(`${this.baseUrl}/install-pack`,{method:"POST",body:JSON.stringify({packId:e,scope:t})});if(!n.ok){const e=await n.json();throw new Error(e.error||"Failed to install pack")}return await n.json()}async removeHooks(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"project";const n=await Re(`${this.baseUrl}/remove`,{method:"DELETE",body:JSON.stringify({hookIds:e,scope:t})});if(!n.ok){const e=await n.json();throw new Error(e.error||"Failed to remove hooks")}return await n.json()}async getCategories(){const e=await Re(`${this.baseUrl}/categories`);if(!e.ok)throw new Error("Failed to fetch categories");return(await e.json()).categories}async getRecommendationPacks(){const e=await Re(`${this.baseUrl}/packs`);if(!e.ok)throw new Error("Failed to fetch recommendation packs");return(await e.json()).packs}async getContextualRecommendations(e,t){try{let t=(await this.analyzeProject()).recommendations||[];return e&&(t=t.filter(t=>{const n={js:["prettier-format","eslint-fix","test-runner"],jsx:["prettier-format","eslint-fix","test-runner"],ts:["prettier-format","eslint-fix","typescript-check","test-runner"],tsx:["prettier-format","eslint-fix","typescript-check","test-runner"],json:["prettier-format"],css:["prettier-format"],scss:["prettier-format"],md:["prettier-format"],dockerfile:["docker-build"],"docker-compose.yml":["docker-build"]}[e.toLowerCase()]||[];return t.hooks.some(e=>n.includes(e))})),t.slice(0,3)}catch(n){return console.warn("Failed to get contextual recommendations:",n),[]}}},dn=un,pn=e=>{let{isOpen:n,onClose:r,position:s={x:0,y:0}}=e;const o=(0,t.useRef)(null),[i,a]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[p,h]=(0,t.useState)(null),m=async()=>{try{d(!0),h(null);const[e,t]=await Promise.all([dn.getStatus(),dn.analyzeProject().catch(()=>({projectType:"Unknown",recommendations:[],detectedTechnologies:[],confidence:0}))]),n=(e.project.hookCount||0)+(e.user.hookCount||0),r=n>0?Array.from({length:Math.min(n,5)},(e,t)=>({id:`hook-${t}`,name:`Active Hook ${t+1}`,enabled:!0})):[];a(r),c(t.recommendations.slice(0,3))}catch(ks){console.error("Failed to load hooks data:",ks),h("Failed to load hooks data")}finally{d(!1)}};(0,t.useEffect)(()=>{n&&m()},[n]),(0,t.useEffect)(()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&r()};if(n)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[n,r]);return n?(0,Ee.jsxs)("div",{ref:o,style:{position:"fixed",left:s.x,top:s.y,backgroundColor:"rgba(26, 26, 46, 0.95)",backdropFilter:"blur(10px)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"8px",padding:"12px",minWidth:"280px",maxWidth:"400px",zIndex:1e4,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",color:"#FFA500",fontFamily:"Inter, sans-serif",fontSize:"14px"},children:[(0,Ee.jsx)("div",{style:{marginBottom:"12px"},children:(0,Ee.jsx)("h3",{style:{margin:"0 0 8px 0",fontSize:"16px",fontWeight:"600",color:"#FF6B35"},children:"\ud83e\ude9d Quick Hooks"})}),u&&(0,Ee.jsxs)("div",{style:{padding:"20px",textAlign:"center",color:"#a0a0a0"},children:[(0,Ee.jsx)("div",{style:{display:"inline-block",width:"16px",height:"16px",border:"2px solid #6b7280",borderTop:"2px solid #FF6B35",borderRadius:"50%",animation:"spin 1s linear infinite",marginRight:"8px"}}),"Loading..."]}),p&&(0,Ee.jsx)("div",{style:{padding:"12px",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"4px",color:"#FCA5A5",fontSize:"13px",marginBottom:"12px"},children:p}),!u&&!p&&(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ee.jsxs)("div",{style:{fontSize:"13px",fontWeight:"500",marginBottom:"8px",color:"#22c55e"},children:["Active Hooks (",i.length,")"]}),0===i.length?(0,Ee.jsx)("div",{style:{fontSize:"12px",color:"#6b7280",fontStyle:"italic",padding:"8px 0"},children:"No active hooks configured"}):(0,Ee.jsx)("div",{style:{gap:"4px"},children:i.map(e=>(0,Ee.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px 8px",backgroundColor:e.enabled?"rgba(34, 197, 94, 0.1)":"rgba(107, 114, 128, 0.1)",borderRadius:"4px",marginBottom:"4px"},children:[(0,Ee.jsx)("span",{style:{fontSize:"12px",color:e.enabled?"#22c55e":"#6b7280"},children:e.name}),(0,Ee.jsx)("button",{onClick:()=>(async(e,t)=>{try{console.log(`Toggling hook ${e} to ${t?"enabled":"disabled"}`),a(n=>n.map(n=>n.id===e?{...n,enabled:t}:n))}catch(ks){console.error("Failed to toggle hook:",ks)}})(e.id,!e.enabled),style:{background:"none",border:"none",color:e.enabled?"#22c55e":"#6b7280",cursor:"pointer",fontSize:"12px",padding:"2px 4px"},children:e.enabled?"\u2713":"\u25cb"})]},e.id))})]}),(0,Ee.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,Ee.jsxs)("div",{style:{fontSize:"13px",fontWeight:"500",marginBottom:"8px",color:"#f59e0b"},children:["Recommendations (",l.length,")"]}),0===l.length?(0,Ee.jsx)("div",{style:{fontSize:"12px",color:"#6b7280",fontStyle:"italic",padding:"8px 0"},children:"No recommendations available"}):(0,Ee.jsx)("div",{style:{gap:"4px"},children:l.map(e=>(0,Ee.jsxs)("div",{style:{padding:"8px",backgroundColor:"rgba(245, 158, 11, 0.1)",borderRadius:"4px",marginBottom:"4px"},children:[(0,Ee.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"4px"},children:[(0,Ee.jsx)("span",{style:{fontSize:"12px",fontWeight:"500",color:"#f59e0b"},children:e.name}),(0,Ee.jsx)("span",{style:{fontSize:"10px",padding:"2px 6px",backgroundColor:"high"===e.priority?"rgba(239, 68, 68, 0.3)":"medium"===e.priority?"rgba(245, 158, 11, 0.3)":"rgba(107, 114, 128, 0.3)",borderRadius:"12px",color:"high"===e.priority?"#ef4444":"medium"===e.priority?"#f59e0b":"#6b7280"},children:e.priority})]}),(0,Ee.jsx)("div",{style:{fontSize:"11px",color:"#a0a0a0",marginBottom:"6px"},children:e.description}),(0,Ee.jsx)("button",{onClick:()=>(async e=>{try{await dn.installPack(e),console.log(`Installed recommendation pack: ${e}`),await m()}catch(ks){console.error("Failed to install recommendation:",ks)}})(e.id),style:{backgroundColor:"rgba(245, 158, 11, 0.2)",border:"1px solid rgba(245, 158, 11, 0.5)",color:"#f59e0b",borderRadius:"4px",padding:"4px 8px",fontSize:"11px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(245, 158, 11, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(245, 158, 11, 0.2)"},children:"Install"})]},e.id))})]}),(0,Ee.jsxs)("div",{style:{borderTop:"1px solid rgba(139, 92, 246, 0.2)",paddingTop:"12px",display:"flex",gap:"8px"},children:[(0,Ee.jsx)("button",{onClick:()=>{window.open("/hooks","_blank"),r()},style:{flex:1,backgroundColor:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.5)",color:"#a78bfa",borderRadius:"4px",padding:"8px 12px",fontSize:"12px",cursor:"pointer",fontWeight:"500"},children:"Open Full Manager"}),(0,Ee.jsx)("button",{onClick:r,style:{backgroundColor:"rgba(107, 114, 128, 0.2)",border:"1px solid rgba(107, 114, 128, 0.5)",color:"#9ca3af",borderRadius:"4px",padding:"8px 12px",fontSize:"12px",cursor:"pointer"},children:"Close"})]})]}),(0,Ee.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]}):null};let hn,mn;const fn=e=>{let{thinkingMode:r="normal",onThinkingModeChange:s,onTerminalDataChange:o,onShowTaskDelegation:i,onSetTaskDelegationSessionId:a}=e;const[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1),[p,h]=(0,t.useState)(!1),[m,f]=(0,t.useState)(!1),[g,y]=(0,t.useState)(!1),[v,b]=(0,t.useState)(!1),[x,w]=(0,t.useState)(null),[C,k]=(0,t.useState)(!1),S=!0,[j,N]=(0,t.useState)(!1),[E,T]=(0,t.useState)(!1),[_,P]=(0,t.useState)(null),[A,R]=(0,t.useState)(null),[O,I]=(0,t.useState)({x:0,y:0}),[F,L]=(0,t.useState)(new Map),[D,z]=(0,t.useState)(""),[M,B]=(0,t.useState)([]),[$,U]=(0,t.useState)(""),[H,W]=(0,t.useState)(!1),[V,G]=(0,t.useState)({x:0,y:0}),q=(0,t.useRef)(null),K=(0,t.useRef)(null),Y=(0,t.useRef)(null),Q=(0,t.useRef)(null),X=(0,t.useRef)(""),[J,Z]=(0,t.useState)({socket:null,sessionId:""}),ee=J.socket,te=J.sessionId;(0,t.useEffect)(()=>{var e;console.log("\ud83d\udd27 [STATE DEBUG] Tmux connection state changed:",{isTerminalConnected:l,tmuxConnectionState:J,socketState:!!ee,socketConnected:null===ee||void 0===ee?void 0:ee.connected,sessionIdState:te,socketRefConnected:null===(e=Y.current)||void 0===e?void 0:e.connected,sessionIdRef:X.current})},[l,J,ee,te]),(0,t.useEffect)(()=>{console.log("\ud83c\udfaf [TMUX TEST] Terminal component mounted!"),console.log("\ud83c\udfaf [TMUX TEST] TMUX_CONTROLS_ENABLED:",S),console.log("\ud83c\udfaf [TMUX TEST] Initial states:",{isTerminalConnected:l,socketState:!!ee,sessionIdState:!!te})},[]);const ne=(0,t.useCallback)((e,t)=>{console.log("\ud83c\udfaf Tooltip mouse enter for button:",e);const n=t.currentTarget.getBoundingClientRect();I({x:n.left+n.width/2,y:n.bottom+10}),R(e),console.log("\ud83c\udfaf Tooltip state set:",e,"Position:",{x:n.left+n.width/2,y:n.bottom+10})},[]),re=(0,t.useCallback)(()=>{console.log("\ud83c\udfaf Tooltip mouse leave"),R(null)},[]),se=(0,t.useCallback)(e=>{switch(e){case"emergency-stop":return"Stop all AI agents immediately";case"supervision":return u?"Stop AI supervision":"AI monitors and guides your work";case"parallel-agents":return p?"Stop parallel agents":"Run 3 AI agents simultaneously";case"infinite-loop":return m?"Stop iterative improvements":"AI improves solution iteratively";case"task-delegation":return g?"Stop task delegation":"Delegate tasks to AI agents";case"manage-hooks":return"Open hooks management interface";default:return""}},[u,p,m,g]),oe=(0,t.useCallback)(()=>{console.log("\ud83d\udd0c Connecting to backend...");const e="localhost"===window.location.hostname?"http://localhost:3000":`http://${window.location.hostname}:3000`;console.log("\ud83d\udd0c Socket URL:",e);const t=tn(e,{transports:["websocket","polling"],autoConnect:!0,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:2e4});return Y.current=t,t.on("connect",()=>{var e,n;console.log("\u2705 Connected to backend Socket.IO server"),c(!0);const r=`terminal-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;X.current=r,console.log("\ud83d\udd27 [SOCKET DEBUG] About to set socket states..."),console.log("\ud83d\udd27 Previous socketState:",!!ee),console.log("\ud83d\udd27 Previous sessionIdState:",te),console.log("\ud83d\udd27 New socket object:",t,"connected:",t.connected),console.log("\ud83d\udd27 New sessionId:",r),Z({socket:t,sessionId:r}),console.log("\ud83d\udce1 Socket and SessionId states updated for TmuxControls"),console.log("\ud83d\udce1 Socket object:",t),console.log("\ud83d\udce1 Socket connected:",t.connected),console.log("\ud83d\udce1 SessionId:",r),setTimeout(()=>{console.log("\ud83d\udd27 [SOCKET DEBUG] Verifying state update after timeout..."),console.log("\ud83d\udd27 Current socketState:",!!ee,null===ee||void 0===ee?void 0:ee.connected),console.log("\ud83d\udd27 Current sessionIdState:",te)},100),t.emit("terminal:create",{id:X.current,cols:(null===(e=K.current)||void 0===e?void 0:e.cols)||80,rows:(null===(n=K.current)||void 0===n?void 0:n.rows)||24})}),t.on("terminal:created",e=>{if(console.log("\u2705 Terminal session created:",e),K.current){K.current.clear(),K.current.writeln("\x1b[32m\u2705 Connected to terminal server\x1b[0m"),K.current.writeln("");const e=sessionStorage.getItem("prd-initial-prompt");e&&(K.current.writeln("\x1b[36m\ud83d\udccb PRD loaded successfully! Here's a suggested starting prompt:\x1b[0m"),K.current.writeln(""),K.current.writeln("\x1b[33m"+e+"\x1b[0m"),K.current.writeln(""),K.current.writeln("\x1b[90m(Copy and paste the above prompt to get started, or type your own command)\x1b[0m"),K.current.writeln(""),sessionStorage.removeItem("prd-initial-prompt"))}}),t.on("terminal:data",e=>{if(K.current&&e.id===X.current){K.current.write(e.data);const t=($+e.data).slice(-5e3);U(t);const n=window.currentCommandBuffer||"";ie(n,t)}}),t.on("terminal:error",e=>{console.error("\u274c Terminal error:",e),K.current&&K.current.writeln(`\r\n\x1b[31m\u274c Error: ${e.message}\x1b[0m\r\n`)}),t.on("terminal:exit",e=>{console.log("Terminal exited:",e),K.current&&K.current.writeln(`\r\n\x1b[33m\u26a0\ufe0f Terminal session ended (exit code: ${e.exitCode})\x1b[0m`)}),t.on("thinking-start",e=>{let{mode:t,config:n}=e;if(console.log("\ud83e\udde0 Thinking started:",t,n),T(!0),P(t),K.current&&n){const e=Math.round(n.timeout/1e3),t=`\r\n\x1b[33m${n.icon} ${n.displayName} mode activated\x1b[0m\r\n`,r=`\x1b[36m${n.description} (~${e}s)\x1b[0m\r\n`,s=`\x1b[90m${"\u2501".repeat(50)}\x1b[0m\r\n`;K.current.write(t),K.current.write(r),K.current.write(s)}}),t.on("thinking-complete",e=>{let{mode:t,error:n}=e;if(console.log("\u2705 Thinking complete:",t,n?"with error":"success"),T(!1),K.current&&!n){const e=`\x1b[32m\u2713 ${t} analysis complete\x1b[0m\r\n`,n=`\x1b[90m${"\u2501".repeat(50)}\x1b[0m\r\n`;K.current.write(e),K.current.write(n)}else if(K.current&&n){const e=`\x1b[31m\u2717 ${t} analysis failed\x1b[0m\r\n`;K.current.write(e)}P(null)}),t.on("supervision:suggestion",e=>{console.log("\ud83d\udcdd Supervision suggestion received:",e),K.current&&(K.current.writeln("\r\n\x1b[36m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\x1b[0m"),K.current.writeln(`\x1b[33m\ud83d\udca1 ${e.message}\x1b[0m`),K.current.writeln(`\x1b[32m${e.suggestion}\x1b[0m`),K.current.writeln("\x1b[36m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\x1b[0m\r\n"))}),t.on("claude:output",e=>{let{sessionId:t,data:n}=e;K.current&&K.current.write(n)}),t.on("claude:sessionComplete",e=>{let{sessionId:t,duration:n}=e;K.current&&K.current.writeln(`\r\n\x1b[32m\u2705 Session completed in ${(n/1e3).toFixed(2)}s\x1b[0m\r\n`),L(e=>{const n=new Map(e),r=e.get(t);return"parallel"===r?h(!1):"supervision"===r?d(!1):"infinite"===r&&(f(!1),w(null)),n.delete(t),n})}),t.on("claude:error",e=>{let{message:t}=e;K.current&&K.current.writeln(`\r\n\x1b[31m\u274c Claude Error: ${t}\x1b[0m\r\n`)}),t.on("disconnect",()=>{console.log("\u274c Disconnected from backend"),c(!1),K.current&&K.current.writeln("\r\n\x1b[31m\u274c Disconnected from server\x1b[0m")}),t.on("connect_error",e=>{console.error("Connection error:",e),K.current&&K.current.writeln("\r\n\x1b[31m\u274c Connection failed. Make sure backend is running on port 3000\x1b[0m")}),t},[]);(0,t.useEffect)(()=>{(async()=>{if(!q.current||K.current)return;let e=0;for(;!window.Terminal&&e<50;)await new Promise(e=>setTimeout(e,100)),e++;if(!window.Terminal)return void console.error("XTerm.js failed to load");hn=window.Terminal,mn=window.FitAddon||class{constructor(){}fit(){}};const t=new hn({theme:{background:"#1a1b26",foreground:"#c0caf5",cursor:"#c0caf5",black:"#15161e",red:"#f7768e",green:"#9ece6a",yellow:"#e0af68",blue:"#7aa2f7",magenta:"#bb9af7",cyan:"#7dcfff",white:"#a9b1d6",brightBlack:"#414868",brightRed:"#f7768e",brightGreen:"#9ece6a",brightYellow:"#e0af68",brightBlue:"#7aa2f7",brightMagenta:"#bb9af7",brightCyan:"#7dcfff",brightWhite:"#c0caf5"},fontFamily:'Monaco, Menlo, "Courier New", monospace',fontSize:14,lineHeight:1.5,cursorBlink:!0,allowTransparency:!1,convertEol:!0,screenReaderMode:!1,macOptionIsMeta:!0,rightClickSelectsWord:!0,rows:24,cols:80}),n=new mn;t.loadAddon(n),t.open(q.current),K.current=t,Q.current=n,setTimeout(()=>{n.fit(),t.clear(),t.writeln("\x1b[1;36mCoder1 Terminal v2\x1b[0m"),t.writeln("\x1b[2m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\x1b[0m"),t.writeln(""),t.writeln("\x1b[33m\u26a1 Connecting to terminal server...\x1b[0m"),t.writeln(""),t.focus()},100),oe();const r=()=>{n&&n.fit()};window.addEventListener("resize",r);const s=new ResizeObserver(e=>{try{if(n&&q.current){const e=q.current.getBoundingClientRect();e.width>0&&e.height>0&&setTimeout(()=>{try{n.fit()}catch(e){console.warn("Terminal resize fit error:",e)}},10)}}catch(t){console.warn("ResizeObserver callback error:",t)}});q.current&&s.observe(q.current)})()},[oe]),(0,t.useEffect)(()=>{if(!K.current||!Y.current)return;const e=K.current,t=Y.current;let s="";window.currentCommandBuffer=s;const o=e.onData(o=>{if(X.current&&t.connected){if(j)return"\x7f"===o?s=s.slice(0,-1):"\r"===o||"\n"===o?s="":o.charCodeAt(0)>=32&&(s+=o),window.currentCommandBuffer=s,void t.emit("terminal:data",{id:X.current,data:o,thinkingMode:r});if("\x7f"===o){s=s.slice(0,-1),window.currentCommandBuffer=s;const n=s.trim(),i="/ui"===n||n.startsWith("/ui")||"/u"===n||"/"===n,a="/agent"===n||n.startsWith("/agent")||"/a"===n||"/ag"===n;n.startsWith("/")&&(n.startsWith("/help")||n.startsWith("/clear")||n.startsWith("/status")||n.startsWith("/config")||n.startsWith("/cost")||n.startsWith("/model")||n.startsWith("/init")||n.startsWith("/review")||n.startsWith("/doctor")||i||a)?e.write("\b \b"):t.emit("terminal:data",{id:X.current,data:o,thinkingMode:r})}else if("\r"===o||"\n"===o){const i=s.trim();if("/agent"===i||i.startsWith("/agent ")){const t="/agent"===i?"":i.substring(7),n=t?t.split(" "):[],r=n[0]||"help",o=n.slice(1);switch(console.log("Agent command detected:",{agentName:r,agentArgs:o}),r){case"help":const t='\nAvailable /agent commands:\n\n/agent product-manager <task>    - Use Product Manager agent\n/agent ux-designer <task>        - Use UX/UI Designer agent  \n/agent devops-engineer <task>    - Use DevOps Engineer agent\n/agent architecture <task>       - Use Software Architect agent\n/agent frontend-engineer <task>  - Use Frontend Engineer agent\n/agent backend-engineer <task>   - Use Backend Engineer agent\n/agent qa-testing <task>         - Use QA Testing Engineer agent\n/agent security-analyst <task>   - Use Security Analyst agent\n/agent list                      - List all available agents\n/agent help                      - Show this help message\n\nExamples:\n  /agent product-manager "Analyze requirements for a task management app"\n  /agent security-analyst "Review authentication implementation"\n  /agent architecture "Design scalable microservices architecture"\n';e.write("\r\n"+t+"\r\n");break;case"list":const n="\n\ud83e\udd16 Available Specialized Agents:\n\n1. \ud83d\udccb Product Manager - Transforms ideas into concrete MVP requirements\n2. \ud83c\udfa8 UX/UI Designer - Creates design systems and user experience flows  \n3. \ud83d\ude80 DevOps Engineer - Automates deployment and manages infrastructure\n4. \ud83c\udfd7\ufe0f Software Architect - Designs system architecture and technology decisions\n5. \u269b\ufe0f Frontend Engineer - Builds user interfaces and client-side functionality\n6. \ud83d\udd27 Backend Engineer - Develops APIs, databases, and server-side logic\n7. \u2705 QA Testing Engineer - Creates testing strategies and quality assurance\n8. \ud83d\udee1\ufe0f Security Analyst - Identifies vulnerabilities and security best practices\n\nUsage: /agent <agent-name> <your-task-description>\n";e.write("\r\n"+n+"\r\n");break;case"product-manager":case"ux-designer":case"devops-engineer":case"architecture":case"frontend-engineer":case"backend-engineer":case"qa-testing":case"security-analyst":if(0===o.length){e.write("\r\n\x1b[31mError: Task description required\x1b[0m\r\n"),e.write(`\x1b[33mUsage: /agent ${r} <task-description>\x1b[0m\r\n`);break}const s=o.join(" ");if(!s.trim()){e.write("\r\n\x1b[31mError: Task description cannot be empty\x1b[0m\r\n");break}e.write(`\r\n\ud83e\udd16 Executing ${r.replace("-"," ")} agent...\r\n`),e.write(`\ud83d\udccb Task: "${s}"\r\n`),e.write("\x1b[33m\u23f3 Processing request...\x1b[0m\r\n"),Re("/api/agent/execute",{method:"POST",body:JSON.stringify({agent:r,prompt:s,context:{sessionId:X.current}})}).then(async t=>{if(t.ok){const n=await t.json();e.write(`\r\n\x1b[32m\u2705 ${n.agent} execution completed!\x1b[0m\r\n`),e.write(`\r\n\x1b[36m\ud83d\udccb Analysis:\x1b[0m\r\n${n.result.analysis}\r\n`),n.result.recommendations&&n.result.recommendations.length>0&&(e.write("\r\n\x1b[36m\ud83d\udca1 Recommendations:\x1b[0m\r\n"),n.result.recommendations.forEach((t,n)=>{e.write(`  ${n+1}. ${t}\r\n`)})),n.result.nextSteps&&n.result.nextSteps.length>0&&(e.write("\r\n\x1b[36m\ud83d\udccb Next Steps:\x1b[0m\r\n"),n.result.nextSteps.forEach((t,n)=>{e.write(`  ${n+1}. ${t}\r\n`)})),e.write(`\r\n\x1b[90m\u23f1\ufe0f ${n.result.metadata.processingTime}\x1b[0m\r\n`)}else{const n=await t.json();e.write(`\r\n\x1b[31m\u274c Agent execution failed: ${n.error}\x1b[0m\r\n`)}}).catch(t=>{e.write(`\r\n\x1b[31m\u274c Network error: ${t.message}\x1b[0m\r\n`)});break;default:e.write(`\r\nUnknown agent: ${r}\r\n`),e.write("\x1b[33mUse '/agent help' or '/agent list' for available agents\x1b[0m\r\n")}return s="",void e.write("\r\n")}if("/ui"===i||i.startsWith("/ui ")){const t="/ui"===i?"":i.substring(4),r=t?t.split(" "):[],o=r[0]||"help",a=r.slice(1);switch(console.log("UI command detected:",{subcommand:o,args:a}),o){case"create":if(0===a.length){e.write("\r\n\x1b[31mError: Component description required\x1b[0m\r\n"),e.write("\x1b[33mUsage: /ui create <description>\x1b[0m\r\n");break}const t=a.join(" ");if(!t.trim()){e.write("\r\n\x1b[31mError: Component description cannot be empty\x1b[0m\r\n");break}e.write(`\r\n\ud83c\udfa8 Generating component: "${t}"\r\n`),n.e(179).then(n.bind(n,4179)).then(n=>{let{generateBasicComponent:r}=n;r(t).then(t=>{e.write("\x1b[32m\u2705 Component generated successfully!\x1b[0m\r\n"),e.write(`\ud83d\udcc1 Component: ${t.name}\r\n`),e.write(`\ud83d\udd27 Props: ${Object.keys(t.props).join(", ")}\r\n`),console.log("Terminal: Sending UI_COMPONENT_GENERATED message with component:",t),window.postMessage({type:"UI_COMPONENT_GENERATED",component:t},"*"),console.log("Terminal: UI_COMPONENT_GENERATED message sent")}).catch(t=>{e.write(`\r\n\x1b[31mError: Component generation failed - ${t.message}\x1b[0m\r\n`)})}).catch(t=>{e.write(`\r\n\x1b[31mError: Failed to load ComponentGenerator - ${t.message}\x1b[0m\r\n`)});break;case"help":let r="";r="create"===a[0]?'\n/ui create <description> - Generate component from description\n\nExamples:\n  /ui create "button with hover effects"\n  /ui create "responsive card layout"\n  /ui create "modern pricing table"\n\nAvailable component types:\n  - button, card, input, alert\n  - Supports size variants: small, medium, large\n  - Supports style variants: primary, secondary, danger\n':'\nAvailable /ui commands:\n\n/ui create <description>  - Generate component from description\n/ui help [command]        - Show help information  \n/ui version              - Show version information\n\nExamples:\n  /ui create "button with hover effects"\n  /ui create "responsive card layout"\n',e.write("\r\n"+r+"\r\n");break;case"version":const s="\nCoder1 Preview Enhancement v1.0.0\nPhase: 1 (Basic Functionality)\nStatus: Active\nFeatures: Component Generation, Live Preview\n";e.write("\r\n"+s+"\r\n");break;default:e.write(`\r\nUnknown UI command: ${o}\r\n`),e.write("\x1b[33mUse '/ui help' for available commands\x1b[0m\r\n")}return s="",void e.write("\r\n")}if(i.startsWith("/")){const n=i.substring(1).split(" "),a=n[0];n.slice(1);switch(a){case"help":const n='\n\ud83d\ude80 Coder1 IDE Terminal - Available Commands\n\n\ud83d\udccb Claude Code Standard Commands:\n/help                    - Show this help message\n/clear                   - Clear the terminal screen  \n/status                  - Show system status\n/config                  - View configuration\n/cost                    - Show token usage (placeholder)\n/model                   - Show current AI model\n/init                    - Initialize project (placeholder)\n/review                  - Request code review (placeholder)\n/doctor                  - Check system health\n\n\ud83c\udfa8 UI Generation Commands:\n/ui create <description> - Generate UI components\n/ui help                 - Show UI command help\n/ui version             - Show UI generator version\n\n\ud83e\udd16 Specialized Agent Commands:\n/agent list             - List all available agents\n/agent help             - Show agent command help\n/agent <name> <task>    - Execute specialized agent\n\nExamples:\n  /help\n  /clear\n  /ui create "responsive button"\n  /agent product-manager "Analyze app requirements"\n  /agent security-analyst "Review authentication"\n\n\ud83d\udca1 Pro tip: Use regular bash/shell commands for system operations!\n';e.write(n+"\r\n");break;case"clear":e.clear(),e.write("\x1b[32mCoder1 IDE Terminal - Ready\x1b[0m\r\n"),e.write("\x1b[36mType /help for available commands\x1b[0m\r\n\r\n");break;case"status":const l="\n\ud83c\udfaf Coder1 IDE Status Report\n\nSystem Status: \x1b[32m\u2705 Online\x1b[0m\nTerminal: \x1b[32m\u2705 Connected\x1b[0m  \nAgents: \x1b[32m\u2705 8 Specialized Agents Available\x1b[0m\nUI Generator: \x1b[32m\u2705 Active\x1b[0m\n\nAvailable Commands:\n\u2022 21 Claude Code commands\n\u2022 3 UI generation commands  \n\u2022 10 Specialized agent commands\n\nType /help for full command list\n";e.write(l+"\r\n");break;case"config":const c="\n\u2699\ufe0f Coder1 IDE Configuration\n\nFramework: React + Express.js\nAI Models: Claude 3.5 Sonnet (Agents)\nTerminal: xterm.js with Socket.IO\nUI Generator: Custom component templates\nAgent Framework: 8 specialized roles\n\nEnvironment: Development\nVersion: 2.0.0 (Agent Framework)\n";e.write(c+"\r\n");break;case"cost":const u="\n\ud83d\udcb0 Token Usage Report\n\nTotal Requests: 12 (session)\nEstimated Cost: $0.03 (placeholder)\nAgent Executions: 3\nUI Generations: 1\n\nNote: Actual costs depend on AI service integration\n";e.write(u+"\r\n");break;case"model":const d="\n\ud83e\udde0 AI Model Configuration\n\nCurrent Model: Claude 3.5 Sonnet (20241022)\nAgent Templates: 8 specialized configurations\nUI Generator: Custom template system\nFallback: Placeholder responses (development)\n\nAll agents configured with:\n\u2022 Specific tools and capabilities\n\u2022 Structured output formats\n\u2022 Domain expertise instructions\n";e.write(d+"\r\n");break;case"init":const p="\n\ud83d\ude80 Project Initialization\n\nCreating CLAUDE.md file with project context...\nSetting up agent configurations...\nConfiguring UI generator templates...\n\n\u2705 Project initialized with Coder1 IDE framework\n\ud83d\udccb 8 specialized agents ready\n\ud83c\udfa8 UI component generator active\n\nType /agent list to see available agents\nType /ui help for UI generation commands\n";e.write(p+"\r\n");break;case"review":const h="\n\ud83d\udcdd Code Review Request\n\nAnalyzing current codebase...\nRunning specialized agents for review...\n\n\ud83d\udd0d Architecture Review: In Progress...\n\ud83d\udee1\ufe0f Security Analysis: In Progress...\n\u2705 QA Testing Review: In Progress...\n\nResults will be displayed as agents complete their analysis.\nUse /agent security-analyst or /agent qa-testing for specific reviews.\n";e.write(h+"\r\n");break;case"doctor":const m=`\n\ud83c\udfe5 System Health Check\n\nChecking Coder1 IDE installation...\n\n\u2705 Node.js Runtime: v${process.version||"Unknown"}\n\u2705 Terminal Connection: Active\n\u2705 Socket.IO: Connected\n\u2705 Agent Framework: 8/8 Agents Loaded\n\u2705 UI Generator: Active\n\u2705 API Endpoints: Responding\n\n\ud83d\udd27 Agent Configuration:\n\u2022 Product Manager: \u2705 Loaded\n\u2022 UX/UI Designer: \u2705 Loaded  \n\u2022 DevOps Engineer: \u2705 Loaded\n\u2022 Software Architect: \u2705 Loaded\n\u2022 Frontend Engineer: \u2705 Loaded\n\u2022 Backend Engineer: \u2705 Loaded\n\u2022 QA Testing: \u2705 Loaded\n\u2022 Security Analyst: \u2705 Loaded\n\nAll systems operational! \ud83c\udf89\n`;e.write(m+"\r\n");break;default:if(!["ui","agent"].includes(a))return t.emit("terminal:data",{id:X.current,data:o,thinkingMode:r}),i&&z(i),void(s="")}return s="",void e.write("\r\n")}t.emit("terminal:data",{id:X.current,data:o,thinkingMode:r}),i&&(z(i),B(e=>[...e.slice(-19),i]),ce(i)),s="",window.currentCommandBuffer=s}else if(o.charCodeAt(0)>=32){s+=o,window.currentCommandBuffer=s;const n=s.trim(),i="/ui"===n||n.startsWith("/ui "),a="/agent"===n||n.startsWith("/agent ");n.startsWith("/")&&(n.startsWith("/help")||n.startsWith("/clear")||n.startsWith("/status")||n.startsWith("/config")||n.startsWith("/cost")||n.startsWith("/model")||n.startsWith("/init")||n.startsWith("/review")||n.startsWith("/doctor")||i||a)?e.write(o):t.emit("terminal:data",{id:X.current,data:o,thinkingMode:r})}else t.emit("terminal:data",{id:X.current,data:o,thinkingMode:r})}});return()=>{o.dispose()}},[l]),(0,t.useEffect)(()=>{if(!K.current||!Y.current||!Q.current)return;const e=K.current,t=Y.current;Q.current;let n;const r=e.onResize(e=>{let{cols:r,rows:s}=e;clearTimeout(n),n=setTimeout(()=>{X.current&&t.connected&&t.emit("terminal:resize",{id:X.current,cols:r,rows:s})},100)});return()=>{clearTimeout(n),r.dispose()}},[l]);const ie=(0,t.useCallback)((e,t)=>{const n="claude"===e.trim()||e.startsWith("claude "),r=t.includes("Claude Code")||t.includes("What would you like me to help you with?")||t.includes("I can help you with"),s=t.includes("$")&&t.includes("\n$");!n&&!r||j?s&&j&&(N(!1),console.log("\ud83d\udd04 Shell prompt detected - deactivating Claude Code mode")):(N(!0),console.log("\ud83d\udd0d Claude Code detected - activating simplified input mode"))},[j]),ae=()=>{const e=window.currentCommandBuffer||"";return e&&e.trim()?e.trim():D||"Help me build a modern web application with best practices"},le=(0,t.useCallback)(async()=>{try{const e=await dn.getContextualRecommendations();e.length>0&&(de("\x1b[36m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\x1b[0m\r\n"),de("\x1b[33m\ud83e\ude9d Hook Recommendations Available:\x1b[0m\r\n"),e.forEach((e,t)=>{de(`\x1b[36m  ${t+1}. ${e.name}\x1b[0m\r\n`),de(`     ${e.reason}\r\n`)}),de("\x1b[33m\ud83d\udca1 Click the hooks status indicator for quick installation\x1b[0m\r\n"),de("\x1b[36m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\x1b[0m\r\n\r\n"))}catch(e){console.warn("Failed to check hook recommendations:",e)}},[]),ce=(0,t.useCallback)(e=>{const t=e.trim().toLowerCase();let n=[];t.startsWith("git commit")||t.startsWith("git add")?n=["pre-commit-checks","commit-logger"]:t.startsWith("npm install")||t.startsWith("yarn install")?n=["security-scan"]:t.startsWith("npm test")||t.startsWith("yarn test")?n=["test-runner","test-coverage"]:t.includes("eslint")||t.includes("prettier")?n=["eslint-fix","prettier-format"]:(t.startsWith("docker build")||t.includes("dockerfile"))&&(n=["docker-build"]),n.length>0&&setTimeout(()=>{de(`\x1b[33m\ud83d\udca1 Suggested hooks for "${t}": ${n.join(", ")}\x1b[0m\r\n`),de("\x1b[36m   Click \ud83e\ude9d status to install hook automation\x1b[0m\r\n\r\n")},500)},[]),ue=(0,t.useCallback)(()=>{if(K.current)try{const e=K.current.buffer.active;let t="";const n=Math.max(0,e.length-100),r=e.length;for(let s=n;s<r;s++){const n=e.getLine(s);n&&(t+=n.translateToString(!0)+"\n")}return t.trim()}catch(e){return console.warn("Failed to extract terminal history:",e),$}return $},[$]);(0,t.useEffect)(()=>{if(o){const e={terminalHistory:ue(),terminalCommands:M.slice(-20)};o(e)}},[M,$,o,ue]),(0,t.useEffect)(()=>{const e=window,t=e.restoredTerminalData;t&&!e.sessionRestorationApplied&&(console.log("\ud83d\udd04 Restoring terminal session data..."),e.sessionRestorationApplied=!0,t.terminalCommands&&B(t.terminalCommands),t.lastCommand&&z(t.lastCommand),e.terminalBuffer&&K.current&&(K.current.writeln("\x1b[33m\ud83d\udccb Previous session restored\x1b[0m"),K.current.writeln("\x1b[90m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\x1b[0m")),console.log("\u2705 Terminal session restored"))},[]);const de=e=>{K.current&&K.current.write(e)},pe=(0,t.useCallback)(e=>{if(Y.current&&X.current){if(Y.current.connected){const t=e.endsWith("\r")?e:e+"\r";Y.current.emit("terminal:data",{id:X.current,data:t}),de(`\r\n\x1b[36m[Voice Command]\x1b[0m ${t.replace("\r","")}\r\n`)}}else console.warn("Cannot send voice command: no connection")},[]),he=((0,t.useCallback)(e=>{switch(de(`\r\n\x1b[35m\ud83c\udfa4 Voice: "${e}"\x1b[0m\r\n`),!0){case e.toLowerCase().includes("run claude"):de("\x1b[32m\ud83d\ude80 Executing: claude\x1b[0m\r\n"),pe("claude\r");break;case e.toLowerCase().startsWith("type "):const t=e.substring(5);de(`\x1b[32m\u26a1 Executing: ${e}\x1b[0m\r\n`),pe(t+"\r");break;case"clear"===e.toLowerCase():K.current&&(K.current.clear(),de("\x1b[32m\u2728 Terminal cleared via voice command\x1b[0m\r\n\r\n"));break;case"help"===e.toLowerCase():de("\x1b[36m\ud83d\udccb Voice Commands Help:\x1b[0m\r\n"),de('\u2022 "run claude" - Launch Claude Code CLI\r\n'),de('\u2022 "type [command]" - Execute any terminal command\r\n'),de('\u2022 "clear" - Clear terminal screen\r\n'),de('\u2022 "sleep mode" - Toggle sleep mode\r\n'),de('\u2022 "supervision" - Toggle supervision mode\r\n'),de('\u2022 "parallel agents" - Toggle parallel agents\r\n'),de('\u2022 "infinite loop" - Toggle infinite loop mode\r\n'),de('\u2022 "hivemind" - Activate hivemind collaboration\r\n\r\n');break;case e.toLowerCase().includes("emergency stop"):ye();break;case e.toLowerCase().includes("supervision"):de("\x1b[33m\ud83d\udc41\ufe0f Toggling supervision mode...\x1b[0m\r\n");break;case e.toLowerCase().includes("parallel agents"):de("\x1b[36m\ud83e\udd16 Toggling parallel agents...\x1b[0m\r\n");break;case e.toLowerCase().includes("infinite loop"):de("\x1b[33m\u267e\ufe0f Toggling infinite loop...\x1b[0m\r\n");break;case e.toLowerCase().includes("hivemind"):de("\x1b[36m\ud83e\udde0 Activating hivemind...\x1b[0m\r\n");break;default:de(`\x1b[31m\u2753 Unknown voice command: ${e}\x1b[0m\r\n`),de('\x1b[33m\ud83d\udca1 Say "help" for available commands\x1b[0m\r\n\r\n')}},[l]),async()=>{console.log("\ud83d\udd35 [DEBUG] handleSupervisionToggle called"),console.log("\ud83d\udd35 [DEBUG] Current isSupervisionOn state:",u);try{if(u){console.log("\ud83d\udd35 [DEBUG] Stopping supervision mode..."),d(!1),de("\r\n\x1b[32m\u23f9\ufe0f Supervision mode deactivated\x1b[0m\r\n\r\n");const e=Array.from(F.entries());for(const[t,r]of e)if("supervision"===r)try{await Re("/api/claude/session/stop",{method:"POST",body:JSON.stringify({sessionId:t})})}catch(n){console.error("Error stopping session:",n)}}else{var e;console.log("\ud83d\udd35 [DEBUG] Starting supervision mode...");const n=ae(),s=`supervision-${Date.now()}`;console.log("\ud83d\udd35 [DEBUG] Generated prompt:",n),console.log("\ud83d\udd35 [DEBUG] Generated sessionId:",s),de("\r\n\x1b[33m\ud83d\udc41\ufe0f Starting Supervision mode...\x1b[0m\r\n"),console.log("\ud83d\udd35 [DEBUG] Socket ref exists?",!!Y.current),console.log("\ud83d\udd35 [DEBUG] Socket connected?",null===(e=Y.current)||void 0===e?void 0:e.connected),Y.current&&Y.current.connected&&(console.log("\ud83d\udd35 [DEBUG] Emitting claude:button event"),Y.current.emit("claude:button",{action:"supervision",prompt:n,sessionId:s})),console.log("\ud83d\udd35 [DEBUG] About to call authenticatedFetch..."),console.log("\ud83d\udd35 [DEBUG] authenticatedFetch function exists?",typeof Re);const o=await Re("/api/claude/supervision/start",{method:"POST",body:JSON.stringify({prompt:n,sessionId:s,explicit:!0})});if(console.log("\ud83d\udd35 [DEBUG] Response received:",o),console.log("\ud83d\udd35 [DEBUG] Response status:",o.status),console.log("\ud83d\udd35 [DEBUG] Response ok?",o.ok),o.ok){var t;const e=await o.json();console.log("\ud83d\udd35 [DEBUG] Supervision API response data:",e);const n=(null===(t=e.sessionId)||void 0===t?void 0:t.sessionId)||s;console.log("\ud83d\udd35 [DEBUG] Extracted actualSessionId:",n),console.log("\ud83d\udd35 [DEBUG] Updating claudeSessions state..."),L(e=>new Map(e).set(n,"supervision")),console.log("\ud83d\udd35 [DEBUG] Setting isSupervisionOn to true..."),d(!0),Y.current&&Y.current.connected&&(console.log("\ud83d\udd35 [DEBUG] Emitting claude:register event"),Y.current.emit("claude:register",{sessionId:n}),console.log("\ud83d\udd35 [DEBUG] Emitting supervision:start for PTY integration"),console.log("\ud83d\udd35 [DEBUG] Using sessionId:",n),console.log("\ud83d\udd35 [DEBUG] Terminal session ID:",X.current),Y.current.emit("supervision:start",{sessionId:n,terminalId:X.current,mode:"auto"}),Y.current.once("supervision:started",e=>{console.log("\u2705 [DEBUG] PTY Supervision confirmed started:",e),de("\x1b[32m\u2713 PTY Supervision active\x1b[0m\r\n")}),Y.current.once("supervision:error",e=>{console.log("\ud83d\udd34 [DEBUG] PTY Supervision error:",e),de(`\x1b[33m\u26a0 PTY Supervision warning: ${e.message}\x1b[0m\r\n`)})),de(`\x1b[36mSession ID: ${n}\x1b[0m\r\n`),de("\x1b[35m\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\x1b[0m\r\n"),de("\x1b[35m\ud83d\udc41 Supervision Mode Active\x1b[0m\r\n"),de("\x1b[33m\u2022 All Claude tool calls will be displayed\x1b[0m\r\n"),de("\x1b[33m\u2022 Verbose output shows reasoning process\x1b[0m\r\n"),de("\x1b[35m\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\x1b[0m\r\n\r\n"),setTimeout(()=>{le()},1e3)}else{console.log("\ud83d\udd34 [DEBUG] Response not OK!"),console.log("\ud83d\udd34 [DEBUG] Response status:",o.status);let e="Unknown error";try{const t=await o.json();console.log("\ud83d\udd34 [DEBUG] Error response:",t),e=t.error||t.message||"Failed to start supervision"}catch(r){console.log("\ud83d\udd34 [DEBUG] Failed to parse error response:",r)}de(`\x1b[31m\u274c Failed to start supervision: ${e}\x1b[0m\r\n\r\n`)}}}catch(s){console.error("\ud83d\udd34 [DEBUG] CAUGHT ERROR in handleSupervisionToggle:",s),console.error("\ud83d\udd34 [DEBUG] Error type:",typeof s),console.error("\ud83d\udd34 [DEBUG] Error stack:",null===s||void 0===s?void 0:s.stack),console.error("\ud83d\udd34 [DEBUG] Error message:",null===s||void 0===s?void 0:s.message),de(`\r\n\x1b[31m\u274c Error: ${s}\x1b[0m\r\n\r\n`)}}),me=async()=>{try{if(p){h(!1),de("\r\n\x1b[32m\u23f9\ufe0f Parallel Agents mode deactivated\x1b[0m\r\n\r\n");const e=Array.from(F.entries());for(const[n,r]of e)if("parallel"===r)try{await Re("/api/claude/session/stop",{method:"POST",body:JSON.stringify({sessionId:n})})}catch(t){console.error("Error stopping session:",t)}}else{var e;const t=ae();if("Help me build a modern web application with best practices"===t)return de('\r\n\x1b[33m\u26a0\ufe0f  Workflow Tip: Type "claude" first, then click Parallel Agents\x1b[0m\r\n'),void de("\x1b[36m\ud83d\udca1 This ensures proper sub-agent delegation within your Claude session\x1b[0m\r\n\r\n");const n=`parallel-${Date.now()}`;console.log("\ud83d\udcdd Prompt:",t),console.log("\ud83c\udd94 Session ID:",n),console.log("\ud83d\udd0c Socket connected:",null===(e=Y.current)||void 0===e?void 0:e.connected),de("\r\n\x1b[36m\ud83e\udd16 Starting Parallel Agents...\x1b[0m\r\n"),Y.current&&Y.current.connected&&Y.current.emit("claude:button",{action:"parallel",prompt:t,sessionId:n}),Y.current&&Y.current.connected&&(console.log("\ud83d\udce1 Registering socket for session:",n),Y.current.emit("claude:register",{sessionId:n})),await new Promise(e=>setTimeout(e,100)),console.log("\ud83d\ude80 Calling API: /api/claude/parallel/start");const r=await Re("/api/claude/parallel/start",{method:"POST",body:JSON.stringify({prompt:t,sessionId:n})});if(console.log("\ud83d\udce8 API Response:",r.status,r.ok),r.ok){const e=await r.json();L(t=>new Map(t).set(e.sessionId,"parallel")),h(!0),de(`\x1b[36mSession ID: ${e.sessionId}\x1b[0m\r\n`),de("\x1b[35m\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\x1b[0m\r\n"),de("\x1b[35m\ud83e\udd16 Parallel Agents Active (3 agents)\x1b[0m\r\n"),de("\x1b[36m  \u2022 Agent 1 - Architect: System design and structure\x1b[0m\r\n"),de("\x1b[36m  \u2022 Agent 2 - Implementer: Core implementation\x1b[0m\r\n"),de("\x1b[36m  \u2022 Agent 3 - Optimizer: Performance and best practices\x1b[0m\r\n"),de("\x1b[35m\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\x1b[0m\r\n\r\n"),de("\x1b[33mAgents are working on your task...\x1b[0m\r\n\r\n")}else{const e=await r.json();de(`\x1b[31m\u274c Failed to start parallel agents: ${e.error}\x1b[0m\r\n\r\n`)}}}catch(n){console.error("Parallel agents toggle error:",n),de(`\r\n\x1b[31m\u274c Error: ${n}\x1b[0m\r\n\r\n`)}},fe=async()=>{try{if(m){if(x){k(!0),de("\r\n\x1b[33m\u23f3 Stopping infinite loop...\x1b[0m\r\n");try{(await Re("/api/claude/session/stop",{method:"POST",body:JSON.stringify({sessionId:x})})).ok?de("\r\n\x1b[32m\u2705 Infinite Loop stopped successfully\x1b[0m\r\n\r\n"):de("\r\n\x1b[33m\u26a0\ufe0f Infinite Loop stop request sent\x1b[0m\r\n\r\n")}catch(e){console.error("Error stopping infinite loop:",e),de("\r\n\x1b[33m\u26a0\ufe0f Could not confirm stop status\x1b[0m\r\n\r\n")}finally{k(!1),w(null),L(e=>{const t=new Map(e);return x&&t.delete(x),t})}}f(!1),de("\r\n\x1b[32m\u23f9\ufe0f Infinite Loop mode deactivated\x1b[0m\r\n\r\n")}else{const e=ae(),t=`infinite-${Date.now()}`;de("\r\n\x1b[33m\u267e\ufe0f Starting Infinite Loop mode...\x1b[0m\r\n"),Y.current&&Y.current.connected&&Y.current.emit("claude:button",{action:"infinite",prompt:e,sessionId:t});const n=await Re("/api/claude/infinite/start",{method:"POST",body:JSON.stringify({prompt:e,sessionId:t})});if(n.ok){const e=await n.json();w(e.sessionId),L(t=>new Map(t).set(e.sessionId,"infinite")),f(!0),Y.current&&Y.current.connected&&Y.current.emit("claude:register",{sessionId:e.sessionId}),de(`\x1b[36mSession ID: ${e.sessionId}\x1b[0m\r\n`),de("\x1b[35m\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\x1b[0m\r\n"),de("\x1b[35m\u267e\ufe0f Infinite Loop Mode Active\x1b[0m\r\n"),de("\x1b[33m\u2022 Claude will iteratively improve the solution\x1b[0m\r\n"),de("\x1b[33m\u2022 Each iteration builds on the previous one\x1b[0m\r\n"),de('\x1b[33m\u2022 Click "Stop Loop" to end the process\x1b[0m\r\n'),de("\x1b[35m\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\x1b[0m\r\n\r\n")}else{const e=await n.json();de(`\x1b[31m\u274c Failed to start infinite loop: ${e.error}\x1b[0m\r\n\r\n`)}}}catch(t){console.error("Infinite loop toggle error:",t),de(`\r\n\x1b[31m\u274c Error: ${t}\x1b[0m\r\n\r\n`)}},ge=async()=>{console.log("\ud83c\udfaf TASK DELEGATION BUTTON CLICKED!");try{if(g)de("\r\n\x1b[33m\ud83d\uded1 Closing Task Delegation Center...\x1b[0m\r\n"),y(!1),i&&i(!1),a&&a(null),de("\x1b[32m\u2705 Task Delegation Center closed\x1b[0m\r\n\r\n");else{de("\r\n\x1b[36m\ud83c\udfaf Opening Task Delegation Center...\x1b[0m\r\n");const e=`task-delegation-${Date.now()}`;y(!0),a&&a(e),i&&i(!0),de("\x1b[35m\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\x1b[0m\r\n"),de("\x1b[35m\ud83c\udfaf Task Delegation Center Active\x1b[0m\r\n"),de("\x1b[36m\u2022 Choose your task and AI agent team\x1b[0m\r\n"),de("\x1b[36m\u2022 Watch real-time progress and collaboration\x1b[0m\r\n"),de("\x1b[36m\u2022 Get results delivered to your terminal\x1b[0m\r\n"),de("\x1b[35m\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\x1b[0m\r\n\r\n")}}catch(e){console.error("Hivemind error:",e),de(`\r\n\x1b[31m\u274c Error: ${e}\x1b[0m\r\n\r\n`)}},ye=async()=>{try{b(!0),de("\r\n\x1b[31m\ud83d\uded1 EMERGENCY STOP - Terminating all AI operations...\x1b[0m\r\n"),u&&await he(),p&&await me(),m&&await fe(),g&&await ge(),L(new Map),de("\x1b[32m\u2713 All AI operations have been terminated\x1b[0m\r\n"),de("\x1b[33m\ud83d\udca1 You can restart any AI mode using the buttons above\x1b[0m\r\n\r\n")}catch(e){console.error("Emergency stop error:",e),de(`\r\n\x1b[31m\u274c Error during emergency stop: ${e}\x1b[0m\r\n\r\n`)}finally{b(!1)}};return(0,Ee.jsxs)("div",{className:"terminal",children:[(0,Ee.jsxs)("div",{className:"terminal-header",children:[(0,Ee.jsx)("div",{className:"terminal-header-left",children:(0,Ee.jsx)(nn,{onVoiceCommand:pe,disabled:!1})}),(0,Ee.jsxs)("div",{className:"terminal-header-center",children:[(0,Ee.jsx)(an,{value:r||"normal",onChange:s,compact:!0}),E&&(0,Ee.jsxs)("div",{className:"thinking-indicator",style:{display:"inline-flex",alignItems:"center",marginLeft:"12px",padding:"4px 8px",backgroundColor:"rgba(251, 191, 36, 0.1)",borderRadius:"4px",border:"1px solid rgba(251, 191, 36, 0.3)",animation:"pulse 2s infinite"},children:[(0,Ee.jsx)("span",{style:{marginRight:"6px",animation:"spin 1s linear infinite",display:"inline-block"},children:"\ud83e\udde0"}),(0,Ee.jsx)("span",{style:{fontSize:"12px",color:"#fbbf24",fontWeight:"500"},children:"Thinking..."})]})]}),(0,Ee.jsxs)("div",{className:"terminal-header-right",children:[(()=>{const e=ee||Y.current,t=te||X.current,n=l;console.log("\ud83d\udd27 [TMUX DEBUG] Simplified rendering conditions:"),console.log("\ud83d\udd27 TMUX_CONTROLS_ENABLED:",S),console.log("\ud83d\udd27 isTerminalConnected:",l),console.log("\ud83d\udd27 safeSocket:",!!e,e?"connected:"+e.connected:"null"),console.log("\ud83d\udd27 safeSessionId:",t),console.log("\ud83d\udd27 shouldShowTmux:",n);l&&e&&e.connected;return(0,Ee.jsx)(Ee.Fragment,{children:n&&(0,Ee.jsx)(cn,{socket:e,sessionId:t,enabled:!0})})})(),(0,Ee.jsx)("button",{className:"terminal-control-btn "+(u||p||m||g?"active":""),onClick:ye,disabled:v||!u&&!p&&!m&&!g,onMouseEnter:e=>!v&&ne("emergency-stop",e),onMouseLeave:re,style:{zIndex:9999,position:"relative",pointerEvents:"auto",backgroundColor:u||p||m||g?"#ef4444":void 0},children:v?"Stopping...":"\ud83d\uded1 Stop"}),(0,Ee.jsx)("button",{className:"terminal-control-btn "+(u?"active":""),onClick:()=>{console.log("\ud83d\udfe2 [BUTTON] Supervision button CLICKED!"),he()},onMouseEnter:e=>ne("supervision",e),onMouseLeave:re,style:{zIndex:9999,position:"relative",pointerEvents:"auto"},children:u?"Stop Supervision":"Supervision"}),(0,Ee.jsx)("button",{className:"terminal-control-btn "+(p?"active":""),onClick:me,onMouseEnter:e=>ne("parallel-agents",e),onMouseLeave:re,style:{zIndex:9999,position:"relative",pointerEvents:"auto"},children:p?"Stop Agents":"Parallel Agents"}),(0,Ee.jsx)("button",{className:"terminal-control-btn "+(m?"active":""),onClick:fe,disabled:C,onMouseEnter:e=>ne("infinite-loop",e),onMouseLeave:re,style:{zIndex:9999,position:"relative",pointerEvents:"auto"},children:C?"Stopping...":m?"Stop Loop":"Infinite Loop"}),(0,Ee.jsx)("button",{className:"terminal-control-btn "+(g?"active":""),onClick:ge,onMouseEnter:e=>ne("task-delegation",e),onMouseLeave:re,style:{zIndex:9999,position:"relative",pointerEvents:"auto"},children:g?"Close Delegation":"Task Delegation"}),(0,Ee.jsx)("button",{className:"terminal-control-btn",onClick:e=>{console.log("\ud83e\ude9d Hooks button clicked - opening menu");const t=e.target.getBoundingClientRect();G({x:t.left+t.width/2-140,y:t.bottom+8}),W(!0)},onMouseEnter:e=>ne("manage-hooks",e),onMouseLeave:re,style:{zIndex:9999,position:"relative",pointerEvents:"auto"},children:"hooks"})]})]}),(0,Ee.jsx)("div",{className:"terminal-container",ref:q}),(0,Ee.jsx)(ln,{socket:Y.current,terminalId:X.current,onApplyFix:e=>{console.log("\ud83d\udd27 Terminal: Error Doctor applied fix:",e)}}),A&&(console.log("\ud83c\udfaf Rendering tooltip for:",A,"Message:",se(A)),(0,Ee.jsxs)("div",{style:{position:"fixed",left:O.x,top:O.y,transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:"8px 12px",borderRadius:"4px",fontSize:"12px",fontWeight:"normal",whiteSpace:"nowrap",zIndex:99999,pointerEvents:"none",opacity:1},children:[se(A),(0,Ee.jsx)("div",{style:{position:"absolute",top:"-6px",left:"50%",transform:"translateX(-50%)",borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderBottom:"6px solid rgba(0, 0, 0, 0.9)",width:0,height:0}})]})),(0,Ee.jsx)(pn,{isOpen:H,onClose:()=>W(!1),position:V})]})};class gn{constructor(){this.apiBaseUrl="http://localhost:3000/api/files"}static getInstance(){return gn.instance||(gn.instance=new gn),gn.instance}async getProjectFiles(){try{const e=await fetch(`${this.apiBaseUrl}/tree`);if(!e.ok)throw new Error("Failed to fetch file tree");const t=await e.json();if(t.success&&t.tree)return t.tree.children||[];throw new Error("Invalid response format")}catch(e){return console.error("Error fetching project files:",e),[{name:"Error loading files",path:"/",type:"file",children:[]}]}}async readFile(e){try{const t=await fetch(`${this.apiBaseUrl}/read?path=${encodeURIComponent(e)}`);if(!t.ok)throw new Error("Failed to read file");const n=await t.json();if(n.success&&void 0!==n.content)return n.content;throw new Error("Invalid response format")}catch(t){return console.error("Error reading file:",t),`// Error loading file: ${e}\n// ${t instanceof Error?t.message:"Unknown error"}`}}async writeFile(e,t){try{const n=await fetch(`${this.apiBaseUrl}/write`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e,content:t})});if(!n.ok)throw new Error("Failed to write file");return!0===(await n.json()).success}catch(n){return console.error("Error writing file:",n),!1}}getFileIcon(e){var t;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return"\ud83d\udcc1";return{tsx:"\u269b\ufe0f",ts:"\ud83d\udcd8",js:"\ud83d\udcc4",jsx:"\u269b\ufe0f",json:"\ud83d\udccb",html:"\ud83c\udf10",css:"\ud83c\udfa8",scss:"\ud83c\udfa8",md:"\ud83d\udcdd",png:"\ud83d\uddbc\ufe0f",jpg:"\ud83d\uddbc\ufe0f",svg:"\ud83d\uddbc\ufe0f",ico:"\ud83d\uddbc\ufe0f",txt:"\ud83d\udcc4"}[(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase())||""]||"\ud83d\udcc4"}}gn.instance=void 0;const yn=gn.getInstance(),vn=e=>{let{node:n,level:r,onFileSelect:s}=e;const[o,i]=(0,t.useState)(r<2);return(0,Ee.jsxs)("div",{className:"file-tree-item",children:[(0,Ee.jsxs)("div",{className:`file-item ${n.type}`,style:{paddingLeft:16*r+8+"px"},onClick:e=>{e.preventDefault(),e.stopPropagation(),"directory"===n.type?i(!o):s(n.path,n.name)},role:"button",tabIndex:0,children:["directory"===n.type&&(0,Ee.jsx)("span",{className:"expand-icon "+(o?"expanded":""),onClick:e=>{e.stopPropagation(),i(!o)},children:"\u25b6"}),(0,Ee.jsx)("span",{className:"file-icon",children:yn.getFileIcon(n.name,"directory"===n.type)}),(0,Ee.jsx)("span",{className:"file-name",children:n.name})]}),"directory"===n.type&&o&&n.children&&(0,Ee.jsx)("div",{className:"file-children",children:n.children.map((e,t)=>(0,Ee.jsx)(vn,{node:e,level:r+1,onFileSelect:s},`${e.path}-${t}`))})]})},bn=e=>{let{onFileSelect:n,onSearchClick:r}=e;const[s,o]=(0,t.useState)([]),[i,a]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{const e=await yn.getProjectFiles();o(e)}catch(e){console.error("Failed to load project files:",e)}finally{a(!1)}})()},[]),i?(0,Ee.jsx)("div",{className:"file-explorer loading",children:(0,Ee.jsx)("div",{className:"loading-message",children:"Loading project files..."})}):(0,Ee.jsxs)("div",{className:"file-explorer",style:{pointerEvents:"auto"},children:[(0,Ee.jsxs)("div",{className:"file-explorer-header",children:[(0,Ee.jsx)("span",{className:"explorer-title",children:"Search"}),r&&(0,Ee.jsx)("button",{className:"search-button",onClick:r,title:"Search files (Cmd+Shift+F)",children:"\ud83d\udd0d"})]}),(0,Ee.jsx)("div",{className:"file-tree",style:{pointerEvents:"auto"},children:s.map((e,t)=>(0,Ee.jsx)(vn,{node:e,level:0,onFileSelect:n},`${e.path}-${t}`))})]})};class xn extends t.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Preview component error:",e,t),window.parent!==window&&window.parent.postMessage({type:"PREVIEW_ERROR",error:e.message,stack:e.stack},"*")}render(){return this.state.hasError?this.props.fallback:this.props.children}}const wn=e=>{let{error:t}=e;return(0,Ee.jsxs)("div",{className:"preview-error",children:[(0,Ee.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,Ee.jsx)("h4",{children:"Preview Error"}),(0,Ee.jsx)("p",{children:"Something went wrong while rendering the component."}),t&&(0,Ee.jsxs)("details",{children:[(0,Ee.jsx)("summary",{children:"Error Details"}),(0,Ee.jsx)("pre",{children:t})]}),(0,Ee.jsx)("button",{className:"error-button",onClick:()=>window.location.reload(),children:"Reload Preview"})]})},Cn=()=>(0,Ee.jsxs)("div",{className:"preview-placeholder",children:[(0,Ee.jsx)("div",{className:"placeholder-icon",children:"\ud83d\udc41\ufe0f"}),(0,Ee.jsx)("h4",{children:"Live Preview"}),(0,Ee.jsx)("p",{children:"Open a JavaScript, TypeScript, or React file to see live preview"}),(0,Ee.jsxs)("div",{className:"example-commands",children:[(0,Ee.jsx)("p",{children:(0,Ee.jsx)("strong",{children:"Features:"})}),(0,Ee.jsxs)("ul",{children:[(0,Ee.jsx)("li",{children:"\ud83d\udccb Console output capture"}),(0,Ee.jsx)("li",{children:"\ud83c\udf9b\ufe0f Props playground for React components"}),(0,Ee.jsx)("li",{children:"\u23f0 Time travel debugging"}),(0,Ee.jsx)("li",{children:"\ud83d\udd04 Hot reload on code changes"})]})]})]}),kn=(0,t.forwardRef)((e,n)=>{let{component:r,onError:s,onReady:o}=e;const[i,a]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=e=>{var t;if(console.log("ComponentSandbox: Received message:",e.data,"from:",e.source),!e.data||"string"!==typeof e.data.type)return void console.log("ComponentSandbox: Invalid message structure, ignoring");const r=null===n||void 0===n||null===(t=n.current)||void 0===t?void 0:t.contentWindow;switch(r&&e.source!==r&&console.log("ComponentSandbox: Message source mismatch, but processing anyway for debugging"),console.log("ComponentSandbox: Processing message type:",e.data.type),e.data.type){case"SANDBOX_READY":console.log("ComponentSandbox: SANDBOX_READY received, setting sandboxReady to true"),a(!0),null===o||void 0===o||o();break;case"SANDBOX_ERROR":console.log("ComponentSandbox: SANDBOX_ERROR received:",e.data.error),s(e.data.error);break;case"COMPONENT_RENDERED":console.log("ComponentSandbox: Component rendered successfully:",e.data)}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[s,o,n]),(0,t.useEffect)(()=>{var e;if(console.log("ComponentSandbox: Effect triggered",{sandboxReady:i,hasComponent:!!r,componentData:r,hasRef:!!n,refCurrent:null===n||void 0===n?void 0:n.current,hasContentWindow:!(null===n||void 0===n||null===(e=n.current)||void 0===e||!e.contentWindow)}),i&&r&&n&&n.current){const e=setTimeout(()=>{console.log("ComponentSandbox: About to send component to iframe");const e=n.current;if(console.log("ComponentSandbox: iframe element:",e),console.log("ComponentSandbox: iframe.contentWindow:",null===e||void 0===e?void 0:e.contentWindow),console.log("ComponentSandbox: Component to send:",JSON.stringify(r,null,2)),e&&e.contentWindow)try{const t={type:"RENDER_COMPONENT",component:r};console.log("ComponentSandbox: Sending message:",t),e.contentWindow.postMessage(t,"*"),console.log("ComponentSandbox: Component message sent successfully")}catch(ks){console.error("ComponentSandbox: Failed to send message to iframe:",ks),s("Failed to communicate with preview sandbox")}else console.error("ComponentSandbox: iframe or contentWindow not available"),console.error("iframe:",e),console.error("contentWindow:",null===e||void 0===e?void 0:e.contentWindow)},500);return()=>clearTimeout(e)}console.log("ComponentSandbox: Not ready to send - conditions not met")},[i,r,n,s]);return(0,Ee.jsx)("iframe",{ref:n,className:"component-sandbox",src:"/ide/sandbox.html",sandbox:"allow-scripts",width:"100%",height:"400px",style:{border:"1px solid #e1e5e9",borderRadius:"6px",background:"white"},title:"Live Preview"})});kn.displayName="ComponentSandbox";const Sn=kn;const jn=(0,t.memo)(e=>{let{code:n="",fileName:r=null,history:s=[],consoleOutput:o=[],onConsoleOutput:i,onClearConsole:a}=e;const[l,c]=(0,t.useState)(!0),[u,d]=(0,t.useState)(!1),[p,h]=(0,t.useState)(!1),[m,f]=(0,t.useState)(null),[g,y]=(0,t.useState)({}),[v,b]=(0,t.useState)(null),[x,w]=(0,t.useState)(!1),[C,k]=(0,t.useState)(""),S=(0,t.useRef)(null),j=(0,t.useRef)(null),N=(0,t.useMemo)(()=>{if(n&&(null!==r&&void 0!==r&&r.endsWith(".jsx")||null!==r&&void 0!==r&&r.endsWith(".tsx")||null!==r&&void 0!==r&&r.endsWith(".js"))){var e;const t=function(e){try{const t=e.match(/(?:function|const|class)\s+(\w+)/),n=(null===t||void 0===t?void 0:t[1])||"Component",r=[],s=e.match(/\({\s*([^}]+)\s*}\s*(?::\s*\w+)?\)/);if(s){s[1].split(",").map(e=>e.trim()).forEach(e=>{if(e){const[t,n]=e.split("=").map(e=>e.trim()),s=t.replace(/['"]/g,""),o=n?n.replace(/['"]/g,""):void 0;let i="string";"true"===o||"false"===o?i="boolean":isNaN(Number(o))||(i="number"),r.push({name:s,type:i,defaultValue:o,required:!n})}})}const o=/useState|useReducer|this\.state/.test(e),i=[],a=/import\s+(?:{[^}]+}|\w+)\s+from\s+['"]([^'"]+)['"]/g;let l;for(;null!==(l=a.exec(e));)i.push(l[1]);return{name:n,props:r,hasState:o,imports:i}}catch(v){return console.error("Error analyzing component:",v),null}}(n);return console.log("Preview: componentInfo analysis result:",t),console.log("Preview: Detected props:",(null===t||void 0===t?void 0:t.props)||"none"),console.log("Preview: Props count:",(null===t||void 0===t||null===(e=t.props)||void 0===e?void 0:e.length)||0),t}return console.log("Preview: No componentInfo - code:",!!n,"fileName:",r),null},[n,r]);(0,t.useMemo)(()=>function(e){return e.includes("React.")||e.includes("useState")||e.includes("jsx")||/<\w+\s/.test(e)?"react":e.includes("<!DOCTYPE")||e.includes("<html")||e.includes("<body")?"html":e.includes("{")&&e.includes(":")&&e.includes(";")&&!e.includes("function")?"css":"javascript"}(n),[n]);(0,t.useEffect)(()=>{l&&j.current&&j.current.scrollIntoView({behavior:"smooth"})},[o,l]),(0,t.useEffect)(()=>()=>{0},[]);const E=(0,t.useMemo)(()=>{const e=null!==m&&s[m]?s[m].code:n;if(!e)return null;const t=function(e,t){const n=(null===t||void 0===t?void 0:t.name)||"Component";return e.includes("export default")||e.includes("module.exports")?e:`\n${e}\n\n// Auto-render for preview\nif (typeof ${n} !== 'undefined' && typeof ReactDOM !== 'undefined') {\n  const container = document.getElementById('root');\n  if (container) {\n    const root = ReactDOM.createRoot(container);\n    root.render(React.createElement(${n}, {}));\n  }\n}\n  `}(e,N);return{id:`preview-${Date.now()}`,name:(null===N||void 0===N?void 0:N.name)||(null===r||void 0===r?void 0:r.replace(/\.[^.]+$/,""))||"Component",code:t,props:g,dependencies:(null===N||void 0===N?void 0:N.imports)||[],generatedAt:Date.now()}},[n,m,s,g,N,r]),T=(0,t.useCallback)(()=>{var e;a&&a(),null!==(e=S.current)&&void 0!==e&&e.contentWindow&&S.current.contentWindow.postMessage({type:"CLEAR_CONSOLE"},"*")},[a]),_=((0,t.useCallback)(()=>c(e=>!e),[]),(0,t.useCallback)(()=>d(e=>!e),[]),(0,t.useCallback)(()=>h(e=>!e),[]),(0,t.useCallback)(e=>{"CONSOLE_OUTPUT"===e.data.type&&i&&i(e.data.data)},[i]));(0,t.useEffect)(()=>(window.addEventListener("message",_),()=>window.removeEventListener("message",_)),[_]);const P=(0,t.useCallback)((e,t)=>{var n;const r={...g,[e]:t};y(r),null!==(n=S.current)&&void 0!==n&&n.contentWindow&&S.current.contentWindow.postMessage({type:"UPDATE_PROPS",props:r},"*")},[g]),A=(0,t.useCallback)(e=>{f(e)},[]);return n?(0,Ee.jsxs)("div",{className:"preview",children:[(0,Ee.jsxs)("div",{className:"preview-header",children:[(0,Ee.jsxs)("h3",{children:["Live Preview ",r&&`- ${r}`]}),(0,Ee.jsxs)("div",{className:"preview-controls",children:[(0,Ee.jsx)("button",{className:"preview-control-btn",onClick:()=>{window.parent&&window.parent!==window&&window.parent.postMessage({type:"CLEAR_PREVIEW"},"*"),k(""),b(null)},title:"Clear Preview",children:"\ud83d\uddd1\ufe0f"}),(0,Ee.jsx)("button",{className:"preview-control-btn",onClick:async()=>{const e=x?C:null!==m&&s[m]?s[m].code:n;try{await navigator.clipboard.writeText(e),console.log("Code copied to clipboard!")}catch(ks){console.error("Failed to copy code:",ks)}},title:"Copy Code",children:"\ud83d\udccb"}),(0,Ee.jsx)("button",{className:"preview-control-btn "+(x?"active":""),onClick:()=>{x||k(null!==m&&s[m]?s[m].code:n),w(!x)},title:"Edit Mode",children:"\u270f\ufe0f"}),(0,Ee.jsx)("button",{className:"preview-control-btn "+(l?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("Preview: Console button clicked, showConsole:",l),c(!l)},onMouseDown:e=>{console.log("Preview: Console button mouse down"),e.preventDefault()},style:{zIndex:100,position:"relative"},title:"Toggle Console",children:"\ud83d\udda5\ufe0f"}),N?(0,Ee.jsx)("button",{className:"preview-control-btn "+(u?"active":""),onClick:e=>{var t;e.preventDefault(),e.stopPropagation(),console.log("Preview: Props button clicked, showProps:",u),console.log("Preview: componentInfo:",N),console.log("Preview: componentInfo.props.length:",null===N||void 0===N||null===(t=N.props)||void 0===t?void 0:t.length),console.log("Preview: Will show Props UI?",!u&&N&&N.props.length>0),d(!u)},style:{zIndex:100,position:"relative"},title:"Props Playground",children:"\ud83c\udf9b\ufe0f"}):(0,Ee.jsx)("button",{className:"preview-control-btn",disabled:!0,style:{zIndex:100,position:"relative"},title:"Props Playground (No React component detected)",children:"\ud83c\udf9b\ufe0f"}),s.length>0?(0,Ee.jsx)("button",{className:"preview-control-btn "+(p?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("Preview: Timeline button clicked, showTimeline:",p),h(!p)},style:{zIndex:100,position:"relative"},title:"Time Travel",children:"\u23f0"}):(0,Ee.jsx)("button",{className:"preview-control-btn",disabled:!0,style:{zIndex:100,position:"relative"},title:"Time Travel (No history available)",children:"\u23f0"})]})]}),(0,Ee.jsx)("div",{className:"preview-content",children:(0,Ee.jsxs)(xn,{fallback:(0,Ee.jsx)(wn,{}),children:[p&&s.length>0&&(0,Ee.jsxs)("div",{className:"preview-timeline",children:[(0,Ee.jsxs)("div",{className:"timeline-header",children:[(0,Ee.jsx)("h4",{children:"Time Travel Debugging"}),(0,Ee.jsx)("button",{onClick:()=>f(null),children:"Current"})]}),(0,Ee.jsx)("div",{className:"timeline-items",children:s.map((e,t)=>(0,Ee.jsxs)("div",{className:"timeline-item "+(m===t?"selected":""),onClick:()=>A(t),children:[(0,Ee.jsx)("span",{className:"timeline-time",children:new Date(e.timestamp).toLocaleTimeString()}),(0,Ee.jsxs)("span",{className:"timeline-preview",children:[e.code.substring(0,50),"..."]})]},t))})]}),u&&N&&N.props.length>0&&(0,Ee.jsxs)("div",{className:"preview-props",children:[(0,Ee.jsx)("h4",{children:"Props Playground"}),N.props.map(e=>(0,Ee.jsxs)("div",{className:"prop-control",children:[(0,Ee.jsx)("label",{children:e.name}),(0,Ee.jsx)("input",{type:"boolean"===e.type?"checkbox":"text",defaultValue:e.defaultValue,onChange:t=>{const n="checkbox"===t.target.type?t.target.checked:t.target.value;P(e.name,n)}})]},e.name))]}),(0,Ee.jsx)("div",{className:"preview-iframe-container",children:(0,Ee.jsx)(Sn,{ref:S,component:E,onError:b})}),l&&(0,Ee.jsxs)("div",{className:"preview-console",children:[(0,Ee.jsxs)("div",{className:"console-header",children:[(0,Ee.jsx)("span",{children:"Console Output"}),(0,Ee.jsx)("button",{onClick:T,children:"Clear"})]}),(0,Ee.jsxs)("div",{className:"console-messages",children:[0===o.length?(0,Ee.jsx)("div",{className:"console-empty",children:"Console output will appear here..."}):o.map((e,t)=>(0,Ee.jsxs)("div",{className:`console-message console-${e.type}`,children:[(0,Ee.jsxs)("span",{className:"console-type",children:["[",e.type,"]"]}),(0,Ee.jsx)("span",{className:"console-text",children:e.message})]},t)),(0,Ee.jsx)("div",{ref:j})]})]}),v&&(0,Ee.jsx)(wn,{error:v})]})})]}):(0,Ee.jsxs)("div",{className:"preview",children:[(0,Ee.jsx)("div",{className:"preview-header",children:(0,Ee.jsx)("h3",{children:"Live Preview"})}),(0,Ee.jsx)("div",{className:"preview-content",children:(0,Ee.jsx)(Cn,{})})]})},(e,t)=>{var n,r,s,o;return e.code===t.code&&e.fileName===t.fileName&&(null===(n=e.history)||void 0===n?void 0:n.length)===(null===(r=t.history)||void 0===r?void 0:r.length)&&(null===(s=e.consoleOutput)||void 0===s?void 0:s.length)===(null===(o=t.consoleOutput)||void 0===o?void 0:o.length)}),Nn=jn,En=e=>{var n;let{onClose:r,sessionId:s}=e;const[o,i]=(0,t.useState)(null),[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)("default"),[d,p]=(0,t.useState)(!1),[h,m]=(0,t.useState)([]),[f,g]=(0,t.useState)("demo"),[y,v]=(0,t.useState)(!1),b=[{id:"frontend-trio",name:"Frontend Trio",description:"UI/UX specialists for React, styling, and user experience",agents:["frontend-specialist","architect","optimizer"],icon:"\ud83c\udfa8"},{id:"backend-squad",name:"Backend Squad",description:"Server-side specialists for APIs, databases, and infrastructure",agents:["backend-specialist","architect","optimizer"],icon:"\u2699\ufe0f"},{id:"full-stack",name:"Full Stack Team",description:"Complete development team for end-to-end features",agents:["architect","frontend-specialist","backend-specialist"],icon:"\ud83d\ude80"},{id:"debug-force",name:"Debug Force",description:"Problem-solving specialists for bugs and optimization",agents:["debugger","implementer","optimizer"],icon:"\ud83d\udd0d"},{id:"default",name:"Default Agents",description:"General-purpose development team",agents:["architect","implementer","optimizer"],icon:"\ud83e\udd16"}];(0,t.useEffect)(()=>{x()},[]);const x=async()=>{try{const e=await fetch("/api/task-delegation/check-availability");if(e.ok){const t=await e.json();g(t.mode),v(t.available),console.log("\ud83c\udfaf Task Delegation Mode:",t.mode,"Real:",t.available)}}catch(e){console.error("Failed to check Claude availability:",e),g("demo"),v(!1)}};(0,t.useEffect)(()=>{if(a){const e=w(a);m(e);const t=C(e);t&&u(t)}},[a]);const w=e=>{const t=[],n=e.toLowerCase();return(n.includes("ui")||n.includes("component")||n.includes("react")||n.includes("style"))&&t.push("Frontend Development"),(n.includes("api")||n.includes("backend")||n.includes("database")||n.includes("server"))&&t.push("Backend Development"),(n.includes("bug")||n.includes("fix")||n.includes("debug")||n.includes("error"))&&t.push("Debugging"),(n.includes("optimize")||n.includes("performance")||n.includes("refactor"))&&t.push("Optimization"),(n.includes("test")||n.includes("testing"))&&t.push("Testing"),t},C=e=>e.includes("Frontend Development")&&!e.includes("Backend Development")?"frontend-trio":e.includes("Backend Development")&&!e.includes("Frontend Development")?"backend-squad":e.includes("Frontend Development")&&e.includes("Backend Development")?"full-stack":e.includes("Debugging")||e.includes("Optimization")?"debug-force":null,k=e=>{let t=0;const n=setInterval(()=>{i(e=>{if(!e||"active"!==e.status)return clearInterval(n),e;const t=e.agents.map((e,t)=>{const n=Math.min(e.progress+15*Math.random(),100);let r=e.status,s=e.currentTask;return n>90&&"working"===e.status?(r="completed",s="Task completed successfully"):n>25&&"idle"===e.status&&(r="working",s=N(e.specialization)),{...e,progress:n,status:r,currentTask:s,tasksCompleted:"completed"===r?e.tasksCompleted+1:e.tasksCompleted}}),r=t.reduce((e,t)=>e+t.progress,0)/t.length,s=t.every(e=>"completed"===e.status);return{...e,agents:t,progress:r,status:s?"completed":"active",estimatedTimeRemaining:Math.max(0,e.estimatedTimeRemaining-30)}}),t++,t>20&&clearInterval(n)},3e3)},S=e=>({"frontend-specialist":"React, TypeScript, and UI/UX expert","backend-specialist":"Server, API, and database expert",architect:"System design and architecture expert",optimizer:"Performance and code quality expert",debugger:"Problem diagnosis and debugging expert",implementer:"Code implementation and development expert"}[e]||"Development specialist"),j=e=>({"frontend-specialist":"Frontend Development","backend-specialist":"Backend Development",architect:"System Architecture",optimizer:"Performance Optimization",debugger:"Debugging & Troubleshooting",implementer:"Code Implementation"}[e]||"General Development"),N=e=>{const t={"Frontend Development":["Building React components","Styling with CSS","Implementing user interactions"],"Backend Development":["Creating API endpoints","Database schema design","Server configuration"],"System Architecture":["Designing system structure","Planning component relationships","Defining interfaces"],"Performance Optimization":["Analyzing performance bottlenecks","Optimizing code efficiency","Memory usage optimization"],"Debugging & Troubleshooting":["Investigating error logs","Testing edge cases","Code review and validation"],"Code Implementation":["Writing core functionality","Implementing business logic","Adding error handling"]},n=t[e]||t["Code Implementation"];return n[Math.floor(Math.random()*n.length)]},E=e=>{switch(e){case"working":return"#4CAF50";case"completed":return"#2196F3";case"error":return"#F44336";case"idle":return"#9E9E9E";default:return"#FFC107"}};return(0,Ee.jsxs)("div",{className:"task-delegation-panel",children:[(0,Ee.jsxs)("div",{className:"panel-header",children:[(0,Ee.jsx)("button",{className:"back-to-terminal-button",onClick:r,title:"Back to Terminal",children:"\u2190 Terminal"}),(0,Ee.jsxs)("div",{className:"header-center",children:[(0,Ee.jsx)("h2",{children:"\ud83c\udfaf Task Delegation Center"}),(0,Ee.jsx)("div",{className:"mode-indicator",children:y?(0,Ee.jsxs)("span",{className:"mode-badge real",children:["\u2705 Claude Code ","cli"===f?"CLI":"API"," Active"]}):(0,Ee.jsx)("span",{className:"mode-badge demo",children:"\ud83c\udfad Demo Mode (Claude Code not configured)"})})]}),(0,Ee.jsx)("button",{className:"close-button",onClick:r,children:"\xd7"})]}),o?(0,Ee.jsxs)("div",{className:"active-session",children:[(0,Ee.jsxs)("div",{className:"session-header",children:[(0,Ee.jsxs)("div",{className:"session-info",children:[(0,Ee.jsx)("h3",{children:o.taskDescription}),(0,Ee.jsxs)("div",{className:"session-meta",children:[(0,Ee.jsxs)("span",{children:["Team: ",null===(n=b.find(e=>e.id===o.selectedPreset))||void 0===n?void 0:n.name]}),(0,Ee.jsxs)("span",{children:["Progress: ",Math.round(o.progress),"%"]}),(0,Ee.jsxs)("span",{children:["Status: ",o.status]})]})]}),(0,Ee.jsx)("button",{className:"stop-button",onClick:()=>{i(null),l(""),m([])},children:"Stop Session"})]}),(0,Ee.jsx)("div",{className:"progress-bar-container",children:(0,Ee.jsx)("div",{className:"progress-bar",style:{width:`${o.progress}%`}})}),(0,Ee.jsxs)("div",{className:"agents-container",children:[(0,Ee.jsx)("h4",{children:"AI Agents Progress"}),(0,Ee.jsx)("div",{className:"agents-grid",children:o.agents.map(e=>(0,Ee.jsxs)("div",{className:"agent-card",children:[(0,Ee.jsxs)("div",{className:"agent-header",children:[(0,Ee.jsx)("h5",{children:e.name}),(0,Ee.jsx)("div",{className:"status-dot",style:{backgroundColor:E(e.status)}})]}),(0,Ee.jsx)("div",{className:"agent-specialization",children:e.specialization}),(0,Ee.jsxs)("div",{className:"agent-progress",children:[(0,Ee.jsx)("div",{className:"progress-container",children:(0,Ee.jsx)("div",{className:"progress-fill",style:{width:`${e.progress}%`}})}),(0,Ee.jsxs)("span",{className:"progress-text",children:[Math.round(e.progress),"%"]})]}),(0,Ee.jsx)("div",{className:"agent-task",children:e.currentTask?(0,Ee.jsx)("span",{className:"current-task",children:e.currentTask}):(0,Ee.jsx)("span",{className:"idle-text",children:"Waiting for task..."})}),(0,Ee.jsxs)("div",{className:"agent-stats",children:["Tasks completed: ",e.tasksCompleted]})]},e.id))})]}),"completed"===o.status&&(0,Ee.jsxs)("div",{className:"completion-summary",children:[(0,Ee.jsx)("h4",{children:"\u2705 Task Delegation Complete!"}),(0,Ee.jsx)("p",{children:"All agents have finished their work. Check the terminal for detailed results."})]})]}):(0,Ee.jsxs)("div",{className:"task-setup",children:[(0,Ee.jsxs)("div",{className:"task-input-section",children:[(0,Ee.jsx)("h3",{children:"What would you like to accomplish?"}),(0,Ee.jsx)("textarea",{className:"task-input",value:a,onChange:e=>l(e.target.value),placeholder:"Describe your task... (e.g., 'Refactor the authentication system', 'Build a responsive header component', 'Debug the API connection issues')",rows:4}),h.length>0&&(0,Ee.jsxs)("div",{className:"context-detection",children:[(0,Ee.jsx)("span",{className:"context-label",children:"Detected context:"}),h.map((e,t)=>(0,Ee.jsx)("span",{className:"context-tag",children:e},t))]})]}),(0,Ee.jsxs)("div",{className:"preset-selection",children:[(0,Ee.jsx)("h3",{children:"Choose AI Agent Team"}),(0,Ee.jsx)("div",{className:"presets-grid",children:b.map(e=>(0,Ee.jsxs)("div",{className:"preset-card "+(c===e.id?"selected":""),onClick:()=>u(e.id),children:[(0,Ee.jsx)("div",{className:"preset-icon",children:e.icon}),(0,Ee.jsx)("div",{className:"preset-name",children:e.name}),(0,Ee.jsx)("div",{className:"preset-description",children:e.description}),(0,Ee.jsx)("div",{className:"preset-agents",children:e.agents.map((e,t)=>(0,Ee.jsx)("span",{className:"agent-badge",children:e},t))})]},e.id))})]}),(0,Ee.jsxs)("div",{className:"start-section",children:[(0,Ee.jsx)("button",{className:"start-delegation-button",onClick:async()=>{if(a.trim()){p(!0);try{const t=await fetch("/api/task-delegation/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskDescription:a,preset:c,context:h})});if(t.ok){var e;const n={id:(await t.json()).sessionId||`task_${Date.now()}`,status:"active",taskDescription:a,selectedPreset:c,startTime:Date.now(),progress:0,estimatedTimeRemaining:300,agents:(null===(e=b.find(e=>e.id===c))||void 0===e?void 0:e.agents.map((e,t)=>({id:`agent_${t}`,name:e.charAt(0).toUpperCase()+e.slice(1).replace("-"," "),description:S(e),specialization:j(e),status:0===t?"working":"idle",progress:0===t?25:0,currentTask:0===t?"Analyzing task requirements":null,tasksCompleted:0})))||[]};i(n),k(n)}else console.error("Failed to start task delegation")}catch(t){console.error("Task delegation error:",t)}finally{p(!1)}}},disabled:d||!a.trim(),children:d?"Delegating Task...":y?"\ud83d\ude80 Start Real Task Delegation":"\ud83c\udfad Start Demo Delegation"}),y&&(0,Ee.jsxs)("p",{className:"execution-note",children:["Using Claude Code ","cli"===f?"CLI":"API"," for real agent execution"]})]})]})]})},Tn={FILES:{LIST:"/api/files/list",PREVIEW:"/api/files/preview",SEARCH:"/api/files/search"},SESSIONS:{CREATE:"/api/sessions",LIST:"/api/sessions",GET:e=>`/api/sessions/${e}`,UPDATE:e=>`/api/sessions/${e}`,DELETE:e=>`/api/sessions/${e}`,CHECKPOINT:e=>`/api/sessions/${e}/checkpoint`,RESTORE:(e,t)=>`/api/sessions/${e}/checkpoints/${t}/restore`},AI:{ANTHROPIC:"/api/anthropic",OPENAI:"/api/openai",AGENT:"/api/agent"},TOOLS:{STATUS:"/api/tools/status",EXECUTE:"/api/tools/execute",LIST:"/api/tools/list"},HIVEMIND:{CREATE:"/api/hivemind",STATUS:e=>`/api/hivemind/${e}`,AGENTS:e=>`/api/hivemind/${e}/agents`},VOICE:{PROCESS:"/api/voice",STATUS:"/api/voice/status"},HEALTH:"/health"},_n={timeout:3e4,retries:3,retryDelay:1e3};async function Pn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_n.retries;const{timeout:r,retryDelay:s}=_n,o=new AbortController,i=setTimeout(()=>o.abort(),r);try{const n=await fetch(e,{...t,signal:o.signal,headers:{"Content-Type":"application/json",...t.headers}});if(clearTimeout(i),!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return await n.json()}catch(a){if(clearTimeout(i),n>0&&function(e){var t;return"AbortError"!==e.name&&(null===(t=e.message)||void 0===t||!t.includes("HTTP 4"))}(a))return await new Promise(e=>setTimeout(e,s)),Pn(e,t,n-1);throw a}}const An=e=>{let{onFileSelect:n,onClose:r,triggerPosition:s}=e;const[o,i]=(0,t.useState)(""),[a,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,p]=(0,t.useState)(0),[h,m]=(0,t.useState)(!0),[f,g]=(0,t.useState)(""),[y,v]=(0,t.useState)(null),[b,x]=(0,t.useState)(0),w=(0,t.useRef)(null),C=(0,t.useRef)(null);(0,t.useEffect)(()=>{var e;k(),null===(e=w.current)||void 0===e||e.focus()},[]),(0,t.useEffect)(()=>{if(o){const e=j(a,o);u(e),p(0)}else u(a)},[o,a]),(0,t.useEffect)(()=>{const e=c[d];"file"===(null===e||void 0===e?void 0:e.type)&&e.path?S(e.path):g("")},[d,c]);const k=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{v(null),e||m(!0);const t=await Pn(Tn.FILES.LIST);if(!t.success)throw new Error(t.error||"Failed to fetch files");l(t.files||[]),m(!1),x(0)}catch(y){console.error("Failed to fetch file list:",y),m(!1);const t=y instanceof Error?y.message:"Unknown error occurred";t.includes("Failed to fetch")||t.includes("NetworkError")?v("Unable to connect to server. Please check your connection."):t.includes("HTTP 404")?v("File API not found. Please ensure the server is running."):t.includes("HTTP 500")?v("Server error occurred. Please try again."):v(`Error: ${t}`),l([])}},S=async e=>{try{const t=function(e,t){if(!t||0===Object.keys(t).length)return e;const n=new URL(e,window.location.origin);return Object.entries(t).forEach(e=>{let[t,r]=e;n.searchParams.set(t,String(r))}),n.toString()}(Tn.FILES.PREVIEW,{path:e}),n=await Pn(t);if(!n.success)return void g(n.error||"[Preview unavailable]");g(n.preview||"[Empty file]")}catch(y){console.error("Failed to load file preview:",y);const t=y instanceof Error?y.message:"Unknown error";t.includes("HTTP 404")?g("[File not found]"):t.includes("Failed to fetch")?g("[Preview unavailable - server error]"):g(`[Error: ${t}]`)}},j=(e,t)=>{const n=t.toLowerCase();return e.map(e=>{const r=e.name.toLowerCase(),s=e.path.toLowerCase();let o=0;r.includes(n)&&(o+=10),r.startsWith(n)&&(o+=5),s.includes(n)&&(o+=3);let i=0;for(let a=0;a<e.name.length&&i<t.length;a++)r[a]===n[i]&&(o+=1,i++);return{file:e,score:o}}).filter(e=>e.score>0).sort((e,t)=>t.score-e.score).map(e=>e.file)},N=(0,t.useCallback)(e=>{if(c&&0!==c.length)switch(e.key){case"ArrowDown":e.preventDefault(),p(e=>Math.min(e+1,c.length-1));break;case"ArrowUp":e.preventDefault(),p(e=>Math.max(e-1,0));break;case"Enter":e.preventDefault();const t=c[d];t&&t.path&&E(t);break;case"Escape":e.preventDefault(),null===r||void 0===r||r()}},[c,d,r]);(0,t.useEffect)(()=>(document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)),[N]),(0,t.useEffect)(()=>{const e=e=>{C.current&&!C.current.contains(e.target)&&r()};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[r]);const E=e=>{null!==e&&void 0!==e&&e.path&&(null===n||void 0===n||n(e.path),null===r||void 0===r||r())},T=(e,t)=>{if(!e||!t)return e;try{const n=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=e.split(new RegExp(`(${n})`,"gi"));return(0,Ee.jsx)(Ee.Fragment,{children:r.map((e,n)=>e.toLowerCase()===t.toLowerCase()?(0,Ee.jsx)("span",{className:"highlight",children:e},n):e)})}catch(y){return e}},_=s||{x:window.innerWidth/2-300,y:100};return(0,Ee.jsx)("div",{className:"file-search-overlay",children:(0,Ee.jsxs)("div",{ref:C,className:"file-search-container",style:{left:`${_.x}px`,top:`${_.y}px`,maxHeight:window.innerHeight-_.y-50+"px"},children:[(0,Ee.jsxs)("div",{className:"file-search-header",children:[(0,Ee.jsx)("span",{className:"file-search-icon",children:"@"}),(0,Ee.jsx)("input",{ref:w,type:"text",value:o,onChange:e=>i(e.target.value),placeholder:"Search files...",className:"file-search-input"})]}),(0,Ee.jsx)("div",{className:"file-search-content",children:h?(0,Ee.jsxs)("div",{className:"file-search-loading",children:[(0,Ee.jsx)("div",{className:"loading-spinner"}),(0,Ee.jsx)("div",{children:"Loading files..."})]}):y?(0,Ee.jsxs)("div",{className:"file-search-error",children:[(0,Ee.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,Ee.jsx)("div",{className:"error-message",children:y}),(0,Ee.jsx)("button",{className:"retry-button",onClick:()=>{x(e=>e+1),k(!0)},disabled:h,children:b>0?`Retry (${b})`:"Retry"})]}):(0,Ee.jsxs)("div",{className:"file-search-split",children:[(0,Ee.jsx)("div",{className:"file-search-list",children:0===c.length?(0,Ee.jsx)("div",{className:"file-search-empty",children:0===a.length?(0,Ee.jsxs)("div",{children:[(0,Ee.jsx)("div",{children:"No files available"}),(0,Ee.jsx)("div",{className:"empty-subtitle",children:"The project might be empty or the server might be down."})]}):(0,Ee.jsxs)("div",{children:[(0,Ee.jsxs)("div",{children:['No files match "',o,'"']}),(0,Ee.jsx)("div",{className:"empty-subtitle",children:"Try a different search term"})]})}):c.map((e,t)=>(0,Ee.jsxs)("div",{className:"file-search-item "+(t===d?"selected":""),onClick:()=>E(e),onMouseEnter:()=>p(t),children:[(0,Ee.jsx)("span",{className:"file-icon",children:"directory"===e.type?"\ud83d\udcc1":"\ud83d\udcc4"}),(0,Ee.jsxs)("div",{className:"file-info",children:[(0,Ee.jsx)("div",{className:"file-name",children:T(e.name,o)}),(0,Ee.jsx)("div",{className:"file-path",children:e.path})]})]},e.path))}),f&&(0,Ee.jsxs)("div",{className:"file-search-preview",children:[(0,Ee.jsx)("div",{className:"preview-header",children:"Preview"}),(0,Ee.jsx)("pre",{className:"preview-content",children:f})]})]})}),(0,Ee.jsxs)("div",{className:"file-search-footer",children:[(0,Ee.jsx)("span",{className:"shortcut",children:"\u2191\u2193 Navigate"}),(0,Ee.jsx)("span",{className:"shortcut",children:"\u21b5 Select"}),(0,Ee.jsx)("span",{className:"shortcut",children:"ESC Close"})]})]})})};const Rn=new class{constructor(){this.LOCAL_STORAGE_KEY="coder1-checkpoints",this.MAX_LOCAL_CHECKPOINTS=50}async createCheckpoint(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];const o={id:this.generateId(),sessionId:e,name:t,description:r,timestamp:Date.now(),data:n,metadata:{version:"1.0",userAgent:navigator.userAgent,timestamp:Date.now(),size:this.calculateSize(n),hash:await this.calculateHash(n),tags:s,autoGenerated:!1}};try{await Pn(Tn.SESSIONS.CHECKPOINT(e),{method:"POST",body:JSON.stringify(o)})}catch(i){console.warn("Failed to save checkpoint to backend, using local storage:",i)}return this.saveToLocalStorage(o),o}async getCheckpoints(e){try{const t=await Pn(`${Tn.SESSIONS.GET(e)}/checkpoints`);if(t.success)return t.checkpoints||[]}catch(t){console.warn("Failed to fetch checkpoints from backend, using local storage:",t)}return this.getFromLocalStorage().filter(t=>t.sessionId===e)}async getCheckpoint(e,t){try{const n=await Pn(`${Tn.SESSIONS.GET(e)}/checkpoints/${t}`);if(n.success)return n.checkpoint}catch(n){console.warn("Failed to fetch checkpoint from backend, using local storage:",n)}return this.getFromLocalStorage().find(n=>n.id===t&&n.sessionId===e)||null}async deleteCheckpoint(e,t){try{await Pn(`${Tn.SESSIONS.GET(e)}/checkpoints/${t}`,{method:"DELETE"})}catch(r){console.warn("Failed to delete checkpoint from backend:",r)}const n=this.getFromLocalStorage().filter(e=>e.id!==t);this.saveAllToLocalStorage(n)}async createAutoCheckpoint(e,t){const n=(new Date).toLocaleTimeString(),r=await this.createCheckpoint(e,`Auto Checkpoint ${n}`,t,"Automatically generated checkpoint",["auto"]);return r.metadata.autoGenerated=!0,r}compareCheckpoints(e,t){return{messages:this.compareArrays(e.data.messages,t.data.messages),files:this.compareArrays(e.data.activeFiles,t.data.activeFiles),editorChanges:this.compareObjects(e.data.editorContent||{},t.data.editorContent||{}),settingsChanges:{thinkingMode:e.data.thinkingMode!==t.data.thinkingMode,activeView:e.data.activeView!==t.data.activeView},timestamp:{from:e.timestamp,to:t.timestamp,duration:t.timestamp-e.timestamp}}}async exportCheckpoints(e){const t=await this.getCheckpoints(e);return JSON.stringify({version:"1.0",sessionId:e,exportedAt:Date.now(),checkpoints:t},null,2)}async importCheckpoints(e){try{const t=JSON.parse(e).checkpoints||[],n=[];for(const e of t)this.validateCheckpoint(e)&&(e.id=this.generateId(),e.timestamp=Date.now(),this.saveToLocalStorage(e),n.push(e));return n}catch(t){throw new Error("Invalid checkpoint data format")}}generateId(){return`checkpoint_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}calculateSize(e){return new Blob([JSON.stringify(e)]).size}async calculateHash(e){const t=JSON.stringify(e),n=(new TextEncoder).encode(t),r=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(r)).map(e=>e.toString(16).padStart(2,"0")).join("")}getFromLocalStorage(){try{const e=localStorage.getItem(this.LOCAL_STORAGE_KEY);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load checkpoints from local storage:",e),[]}}saveToLocalStorage(e){const t=this.getFromLocalStorage();t.push(e),t.length>this.MAX_LOCAL_CHECKPOINTS&&(t.sort((e,t)=>t.timestamp-e.timestamp),t.splice(this.MAX_LOCAL_CHECKPOINTS)),this.saveAllToLocalStorage(t)}saveAllToLocalStorage(e){try{localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(e))}catch(t){console.error("Failed to save checkpoints to local storage:",t)}}validateCheckpoint(e){return e&&"string"===typeof e.id&&"string"===typeof e.sessionId&&"string"===typeof e.name&&"number"===typeof e.timestamp&&e.data&&e.metadata}compareArrays(e,t){const n=new Set(e),r=new Set(t);return{added:t.filter(e=>!n.has(e)),removed:e.filter(e=>!r.has(e)),unchanged:e.filter(e=>r.has(e))}}compareObjects(e,t){const n={},r=Object.keys(e),s=Object.keys(t),o=Array.from(new Set([...r,...s]));for(let i=0;i<o.length;i++){const r=o[i];r in e?r in t?e[r]!==t[r]&&(n[r]="changed"):n[r]="removed":n[r]="added"}return n}},On=e=>{let{sessionId:n,onCheckpointSelect:r,onCheckpointRestore:s,onClose:o,compact:i=!1}=e;const[a,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(null),[d,p]=(0,t.useState)([]),[h,m]=(0,t.useState)(!0),[f,g]=(0,t.useState)(null),[y,v]=(0,t.useState)(!1),[b,x]=(0,t.useState)(null),[w,C]=(0,t.useState)("timeline"),k=(0,t.useRef)(null),S=(0,t.useRef)(null),j=sn("SESSION_CHECKPOINTS");(0,t.useEffect)(()=>{j&&n&&N()},[n,j]),(0,t.useEffect)(()=>{a.length>0&&E()},[a,w]);const N=async()=>{try{m(!0),g(null);const e=await Rn.getCheckpoints(n);l(e.sort((e,t)=>e.timestamp-t.timestamp))}catch(f){console.error("Failed to load checkpoints:",f),g("Failed to load checkpoints")}finally{m(!1)}},E=()=>{if(!a.length)return;const e=[],t=[...a].sort((e,t)=>e.timestamp-t.timestamp);t.forEach((n,r)=>{const s=r/Math.max(t.length-1,1);let o,i,a=0;if("timeline"===w){o=700*s+50,i=200;const e=t.filter(e=>Math.abs(e.timestamp-n.timestamp)<6e4);if(e.length>1){const t=e.indexOf(n);a=t,i+=60*(t-(e.length-1)/2)}}else if("grid"===w){const e=Math.ceil(Math.sqrt(t.length));o=100*(r%e)+50,i=100*Math.floor(r/e)+50}else o=50,i=60*r+30;e.push({checkpoint:n,x:o,y:i,branch:a,selected:(null===c||void 0===c?void 0:c.id)===n.id,diff:b?Rn.compareCheckpoints(b,n):void 0})}),p(e)},T=e=>new Date(e).toLocaleString();return j?h?(0,Ee.jsxs)("div",{className:"checkpoint-timeline-loading",children:[(0,Ee.jsx)("div",{className:"loading-spinner"}),(0,Ee.jsx)("div",{children:"Loading checkpoints..."})]}):f?(0,Ee.jsxs)("div",{className:"checkpoint-timeline-error",children:[(0,Ee.jsxs)("div",{children:["Error: ",f]}),(0,Ee.jsx)("button",{onClick:N,children:"Retry"})]}):(0,Ee.jsxs)("div",{className:"checkpoint-timeline "+(i?"compact":""),children:[(0,Ee.jsxs)("div",{className:"timeline-header",children:[(0,Ee.jsxs)("div",{className:"timeline-title",children:[(0,Ee.jsx)("span",{className:"timeline-icon",children:"\u23f1\ufe0f"}),"Session Checkpoints",(0,Ee.jsxs)("span",{className:"checkpoint-count",children:["(",a.length,")"]})]}),(0,Ee.jsxs)("div",{className:"timeline-controls",children:[(0,Ee.jsxs)("div",{className:"view-mode-selector",children:[(0,Ee.jsx)("button",{className:"timeline"===w?"active":"",onClick:()=>C("timeline"),title:"Timeline view",children:"\ud83d\udcc8"}),(0,Ee.jsx)("button",{className:"list"===w?"active":"",onClick:()=>C("list"),title:"List view",children:"\ud83d\udccb"}),(0,Ee.jsx)("button",{className:"grid"===w?"active":"",onClick:()=>C("grid"),title:"Grid view",children:"\u268f"})]}),o&&(0,Ee.jsx)("button",{className:"close-button",onClick:o,children:"\u2715"})]})]}),0===a.length?(0,Ee.jsxs)("div",{className:"timeline-empty",children:[(0,Ee.jsx)("div",{className:"empty-icon",children:"\ud83d\udcf8"}),(0,Ee.jsx)("div",{children:"No checkpoints yet"}),(0,Ee.jsx)("div",{className:"empty-subtitle",children:"Create checkpoints to save session states"})]}):(0,Ee.jsx)("div",{className:"timeline-container",ref:k,children:(0,Ee.jsxs)("svg",{ref:S,className:"timeline-svg",viewBox:"0 0 800 400",preserveAspectRatio:"xMidYMid meet",children:[d.map((e,t)=>{const n=d[t+1];return n&&"timeline"===w?(0,Ee.jsx)("line",{x1:e.x,y1:e.y,x2:n.x,y2:n.y,stroke:"#444",strokeWidth:"2",strokeDasharray:e.branch!==n.branch?"5,5":"none"},`connection-${e.checkpoint.id}`):null}),d.map(e=>{return(0,Ee.jsxs)("g",{children:[(0,Ee.jsx)("circle",{cx:e.x,cy:e.y,r:e.selected?12:8,fill:(t=e.checkpoint,t.metadata.autoGenerated?"#666":t.metadata.tags.includes("milestone")?"#00ff00":t.metadata.tags.includes("backup")?"#ffaa00":"#007acc"),stroke:e.selected?"#fff":"none",strokeWidth:"2",className:"checkpoint-node",onClick:()=>(e=>{u(e),null===r||void 0===r||r(e)})(e.checkpoint)}),(null===b||void 0===b?void 0:b.id)===e.checkpoint.id&&(0,Ee.jsx)("circle",{cx:e.x,cy:e.y,r:"16",fill:"none",stroke:"#ff6b35",strokeWidth:"2",strokeDasharray:"3,3"}),e.checkpoint.metadata.autoGenerated&&(0,Ee.jsx)("text",{x:e.x,y:e.y-20,textAnchor:"middle",className:"auto-indicator",fontSize:"10",children:"\ud83e\udd16"})]},e.checkpoint.id);var t})]})}),c&&(0,Ee.jsxs)("div",{className:"checkpoint-details",children:[(0,Ee.jsxs)("div",{className:"details-header",children:[(0,Ee.jsx)("div",{className:"checkpoint-name",children:c.name}),(0,Ee.jsx)("div",{className:"checkpoint-timestamp",children:T(c.timestamp)})]}),c.description&&(0,Ee.jsx)("div",{className:"checkpoint-description",children:c.description}),(0,Ee.jsxs)("div",{className:"checkpoint-metadata",children:[(0,Ee.jsxs)("div",{className:"metadata-item",children:[(0,Ee.jsx)("span",{children:"Size:"})," ",(c.metadata.size/1024).toFixed(1)," KB"]}),(0,Ee.jsxs)("div",{className:"metadata-item",children:[(0,Ee.jsx)("span",{children:"Messages:"})," ",c.data.messages.length]}),(0,Ee.jsxs)("div",{className:"metadata-item",children:[(0,Ee.jsx)("span",{children:"Files:"})," ",c.data.activeFiles.length]}),(0,Ee.jsxs)("div",{className:"metadata-item",children:[(0,Ee.jsx)("span",{children:"Mode:"})," ",c.data.thinkingMode]})]}),c.metadata.tags.length>0&&(0,Ee.jsx)("div",{className:"checkpoint-tags",children:c.metadata.tags.map(e=>(0,Ee.jsx)("span",{className:"tag",children:e},e))}),(0,Ee.jsxs)("div",{className:"checkpoint-actions",children:[(0,Ee.jsx)("button",{onClick:()=>{return e=c,void(window.confirm(`Are you sure you want to restore to "${e.name}"? This will replace your current session state.`)&&(null===s||void 0===s||s(e)));var e},className:"restore-button",children:"\ud83d\udd04 Restore"}),(0,Ee.jsxs)("button",{onClick:()=>{return e=c,void((null===b||void 0===b?void 0:b.id)===e.id?(x(null),v(!1)):b?v(!0):x(e));var e},className:"compare-button",children:["\ud83d\udcca ",b?"Compare":"Select for Compare"]}),!c.metadata.autoGenerated&&(0,Ee.jsx)("button",{onClick:()=>(async e=>{if(window.confirm(`Delete checkpoint "${e.name}"?`))try{await Rn.deleteCheckpoint(n,e.id),await N()}catch(f){console.error("Failed to delete checkpoint:",f)}})(c),className:"delete-button",children:"\ud83d\uddd1\ufe0f Delete"})]})]}),y&&b&&c&&(0,Ee.jsxs)("div",{className:"checkpoint-comparison",children:[(0,Ee.jsxs)("div",{className:"comparison-header",children:[(0,Ee.jsx)("h3",{children:"Comparing Checkpoints"}),(0,Ee.jsx)("button",{onClick:()=>v(!1),children:"\u2715"})]}),(0,Ee.jsxs)("div",{className:"comparison-content",children:[(0,Ee.jsxs)("div",{className:"checkpoint-info",children:[(0,Ee.jsxs)("div",{className:"from-checkpoint",children:[(0,Ee.jsx)("h4",{children:b.name}),(0,Ee.jsx)("div",{children:T(b.timestamp)})]}),(0,Ee.jsx)("div",{className:"comparison-arrow",children:"\u2192"}),(0,Ee.jsxs)("div",{className:"to-checkpoint",children:[(0,Ee.jsx)("h4",{children:c.name}),(0,Ee.jsx)("div",{children:T(c.timestamp)})]})]}),(0,Ee.jsx)("div",{className:"diff-summary",children:(0,Ee.jsxs)("div",{children:["Duration: ",(e=>{const t=Math.floor(e/6e4),n=Math.floor(t/60);return n>0?`${n}h ${t%60}m`:t>0?`${t}m`:`${Math.floor(e/1e3)}s`})(c.timestamp-b.timestamp)]})})]})]})]}):null};function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach(function(t){In(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Dn(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(n),!0).forEach(function(t){Mn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Un(e){return function t(){for(var n=this,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return s.length>=e.length?e.apply(this,s):function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(n,[].concat(s,r))}}}function Hn(e){return{}.toString.call(e).includes("Object")}function Wn(e){return"function"===typeof e}var Vn=Un(function(e,t){throw new Error(e[t]||e.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),Gn={changes:function(e,t){return Hn(t)||Vn("changeType"),Object.keys(t).some(function(t){return n=e,r=t,!Object.prototype.hasOwnProperty.call(n,r);var n,r})&&Vn("changeField"),t},selector:function(e){Wn(e)||Vn("selectorType")},handler:function(e){Wn(e)||Hn(e)||Vn("handlerType"),Hn(e)&&Object.values(e).some(function(e){return!Wn(e)})&&Vn("handlersType")},initial:function(e){var t;e||Vn("initialIsRequired"),Hn(e)||Vn("initialType"),t=e,Object.keys(t).length||Vn("initialContent")}};function qn(e,t){return Wn(t)?t(e.current):t}function Kn(e,t){return e.current=$n($n({},e.current),t),t}function Yn(e,t,n){return Wn(t)?t(e.current):Object.keys(n).forEach(function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])}),n}const Qn={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Gn.initial(e),Gn.handler(t);var n={current:e},r=Un(Yn)(n,t),s=Un(Kn)(n),o=Un(Gn.changes)(e),i=Un(qn)(n);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return Gn.selector(e),e(n.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}}(r,s,o,i)(e)}]}};const Xn={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};const Jn=function(e){return{}.toString.call(e).includes("Object")};var Zn={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},er=function(e){return function t(){for(var n=this,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return s.length>=e.length?e.apply(this,s):function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(n,[].concat(s,r))}}}(function(e,t){throw new Error(e[t]||e.default)})(Zn),tr={config:function(e){return e||er("configIsRequired"),Jn(e)||er("configType"),e.urls?(console.warn(Zn.deprecation),{paths:{vs:e.urls.monacoBase}}):e}};const nr=tr;const rr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}};const sr=function e(t,n){return Object.keys(n).forEach(function(r){n[r]instanceof Object&&t[r]&&Object.assign(n[r],e(t[r],n[r]))}),Ln(Ln({},t),n)};var or={type:"cancelation",msg:"operation is manually canceled"};const ir=function(e){var t=!1,n=new Promise(function(n,r){e.then(function(e){return t?r(or):n(e)}),e.catch(r)});return n.cancel=function(){return t=!0},n};var ar,lr,cr=Qn.create({config:Xn,isInitialized:!1,resolve:null,reject:null,monaco:null}),ur=(lr=2,function(e){if(Array.isArray(e))return e}(ar=cr)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,s=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(ks){s=!0,o=ks}finally{try{r||null==a.return||a.return()}finally{if(s)throw o}}return n}}(ar,lr)||function(e,t){if(e){if("string"===typeof e)return zn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zn(e,t):void 0}}(ar,lr)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),dr=ur[0],pr=ur[1];function hr(e){return document.body.appendChild(e)}function mr(e){var t=dr(function(e){return{config:e.config,reject:e.reject}}),n=function(e){var t=document.createElement("script");return e&&(t.src=e),t}("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function fr(){var e=dr(function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(t){gr(t),e.resolve(t)},function(t){e.reject(t)})}function gr(e){dr().monaco||pr({monaco:e})}var yr=new Promise(function(e,t){return pr({resolve:e,reject:t})}),vr={config:function(e){var t=nr.config(e),n=t.monaco,r=Dn(t,["monaco"]);pr(function(e){return{config:sr(e.config,r),monaco:n}})},init:function(){var e=dr(function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}});if(!e.isInitialized){if(pr({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),ir(yr);if(window.monaco&&window.monaco.editor)return gr(window.monaco),e.resolve(window.monaco),ir(yr);rr(hr,mr)(fr)}return ir(yr)},__getMonacoInstance:function(){return dr(function(e){return e.monaco})}};const br=vr;var xr={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},wr={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}};var Cr=function(e){let{children:n}=e;return t.createElement("div",{style:wr.container},n)};var kr=function(e){let{width:n,height:r,isEditorReady:s,loading:o,_ref:i,className:a,wrapperProps:l}=e;return t.createElement("section",{style:{...xr.wrapper,width:n,height:r},...l},!s&&t.createElement(Cr,null,o),t.createElement("div",{ref:i,style:{...xr.fullWidth,...!s&&xr.hide},className:a}))},Sr=(0,t.memo)(kr);var jr=function(e){(0,t.useEffect)(e,[])};var Nr=function(e,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=(0,t.useRef)(!0);(0,t.useEffect)(s.current||!r?()=>{s.current=!1}:e,n)};function Er(){}function Tr(e,t,n,r){return function(e,t){return e.editor.getModel(_r(e,t))}(e,r)||function(e,t,n,r){return e.editor.createModel(t,n,r?_r(e,r):void 0)}(e,t,n,r)}function _r(e,t){return e.Uri.parse(t)}var Pr=function(e){let{original:n,modified:r,language:s,originalLanguage:o,modifiedLanguage:i,originalModelPath:a,modifiedModelPath:l,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:u=!1,theme:d="light",loading:p="Loading...",options:h={},height:m="100%",width:f="100%",className:g,wrapperProps:y={},beforeMount:v=Er,onMount:b=Er}=e,[x,w]=(0,t.useState)(!1),[C,k]=(0,t.useState)(!0),S=(0,t.useRef)(null),j=(0,t.useRef)(null),N=(0,t.useRef)(null),E=(0,t.useRef)(b),T=(0,t.useRef)(v),_=(0,t.useRef)(!1);jr(()=>{let e=br.init();return e.then(e=>(j.current=e)&&k(!1)).catch(e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e)),()=>S.current?function(){let e=S.current?.getModel();c||e?.original?.dispose(),u||e?.modified?.dispose(),S.current?.dispose()}():e.cancel()}),Nr(()=>{if(S.current&&j.current){let e=S.current.getOriginalEditor(),t=Tr(j.current,n||"",o||s||"text",a||"");t!==e.getModel()&&e.setModel(t)}},[a],x),Nr(()=>{if(S.current&&j.current){let e=S.current.getModifiedEditor(),t=Tr(j.current,r||"",i||s||"text",l||"");t!==e.getModel()&&e.setModel(t)}},[l],x),Nr(()=>{let e=S.current.getModifiedEditor();e.getOption(j.current.editor.EditorOption.readOnly)?e.setValue(r||""):r!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),e.pushUndoStop())},[r],x),Nr(()=>{S.current?.getModel()?.original.setValue(n||"")},[n],x),Nr(()=>{let{original:e,modified:t}=S.current.getModel();j.current.editor.setModelLanguage(e,o||s||"text"),j.current.editor.setModelLanguage(t,i||s||"text")},[s,o,i],x),Nr(()=>{j.current?.editor.setTheme(d)},[d],x),Nr(()=>{S.current?.updateOptions(h)},[h],x);let P=(0,t.useCallback)(()=>{if(!j.current)return;T.current(j.current);let e=Tr(j.current,n||"",o||s||"text",a||""),t=Tr(j.current,r||"",i||s||"text",l||"");S.current?.setModel({original:e,modified:t})},[s,r,i,n,o,a,l]),A=(0,t.useCallback)(()=>{!_.current&&N.current&&(S.current=j.current.editor.createDiffEditor(N.current,{automaticLayout:!0,...h}),P(),j.current?.editor.setTheme(d),w(!0),_.current=!0)},[h,d,P]);return(0,t.useEffect)(()=>{x&&E.current(S.current,j.current)},[x]),(0,t.useEffect)(()=>{!C&&!x&&A()},[C,x,A]),t.createElement(Sr,{width:f,height:m,isEditorReady:x,loading:p,_ref:N,className:g,wrapperProps:y})};(0,t.memo)(Pr);var Ar=function(e){let n=(0,t.useRef)();return(0,t.useEffect)(()=>{n.current=e},[e]),n.current},Rr=new Map;var Or=function(e){let{defaultValue:n,defaultLanguage:r,defaultPath:s,value:o,language:i,path:a,theme:l="light",line:c,loading:u="Loading...",options:d={},overrideServices:p={},saveViewState:h=!0,keepCurrentModel:m=!1,width:f="100%",height:g="100%",className:y,wrapperProps:v={},beforeMount:b=Er,onMount:x=Er,onChange:w,onValidate:C=Er}=e,[k,S]=(0,t.useState)(!1),[j,N]=(0,t.useState)(!0),E=(0,t.useRef)(null),T=(0,t.useRef)(null),_=(0,t.useRef)(null),P=(0,t.useRef)(x),A=(0,t.useRef)(b),R=(0,t.useRef)(),O=(0,t.useRef)(o),I=Ar(a),F=(0,t.useRef)(!1),L=(0,t.useRef)(!1);jr(()=>{let e=br.init();return e.then(e=>(E.current=e)&&N(!1)).catch(e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e)),()=>T.current?(R.current?.dispose(),m?h&&Rr.set(a,T.current.saveViewState()):T.current.getModel()?.dispose(),void T.current.dispose()):e.cancel()}),Nr(()=>{let e=Tr(E.current,n||o||"",r||i||"",a||s||"");e!==T.current?.getModel()&&(h&&Rr.set(I,T.current?.saveViewState()),T.current?.setModel(e),h&&T.current?.restoreViewState(Rr.get(a)))},[a],k),Nr(()=>{T.current?.updateOptions(d)},[d],k),Nr(()=>{!T.current||void 0===o||(T.current.getOption(E.current.editor.EditorOption.readOnly)?T.current.setValue(o):o!==T.current.getValue()&&(L.current=!0,T.current.executeEdits("",[{range:T.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),T.current.pushUndoStop(),L.current=!1))},[o],k),Nr(()=>{let e=T.current?.getModel();e&&i&&E.current?.editor.setModelLanguage(e,i)},[i],k),Nr(()=>{void 0!==c&&T.current?.revealLine(c)},[c],k),Nr(()=>{E.current?.editor.setTheme(l)},[l],k);let D=(0,t.useCallback)(()=>{if(_.current&&E.current&&!F.current){A.current(E.current);let e=a||s,t=Tr(E.current,o||n||"",r||i||"",e||"");T.current=E.current?.editor.create(_.current,{model:t,automaticLayout:!0,...d},p),h&&T.current.restoreViewState(Rr.get(e)),E.current.editor.setTheme(l),void 0!==c&&T.current.revealLine(c),S(!0),F.current=!0}},[n,r,s,o,i,a,d,p,h,l,c]);return(0,t.useEffect)(()=>{k&&P.current(T.current,E.current)},[k]),(0,t.useEffect)(()=>{!j&&!k&&D()},[j,k,D]),O.current=o,(0,t.useEffect)(()=>{k&&w&&(R.current?.dispose(),R.current=T.current?.onDidChangeModelContent(e=>{L.current||w(T.current.getValue(),e)}))},[k,w]),(0,t.useEffect)(()=>{if(k){let e=E.current.editor.onDidChangeMarkers(e=>{let t=T.current.getModel()?.uri;if(t&&e.find(e=>e.path===t.path)){let e=E.current.editor.getModelMarkers({resource:t});C?.(e)}});return()=>{e?.dispose()}}return()=>{}},[k,C]),t.createElement(Sr,{width:f,height:g,isEditorReady:k,loading:u,_ref:_,className:y,wrapperProps:v})},Ir=(0,t.memo)(Or);const Fr=new class{constructor(){this.prettier=null,this.plugins={},this.isLoaded=!1,this.defaultConfig={tabWidth:2,useTabs:!1,semi:!0,singleQuote:!1,trailingComma:"es5",bracketSpacing:!0,jsxBracketSameLine:!1,arrowParens:"always",printWidth:80,endOfLine:"lf"},this.userConfig={},this.loadPrettier(),this.loadUserConfig()}async loadPrettier(){if(!this.isLoaded)try{const[e,t,r,s,o]=await Promise.all([n.e(743).then(n.bind(n,3743)),n.e(219).then(n.bind(n,5219)),n.e(452).then(n.bind(n,7452)),n.e(204).then(n.bind(n,3204)),n.e(378).then(n.bind(n,8378))]);this.prettier=e.default||e,this.plugins={babel:t.default||t,typescript:r.default||r,postcss:s.default||s,html:o.default||o},this.isLoaded=!0,console.log("Prettier loaded successfully from node_modules")}catch(e){console.warn("Failed to load Prettier from node_modules, trying CDN fallback",e),await this.loadFromCDN()}}async loadFromCDN(){try{const e=["https://unpkg.com/prettier@3.3.3/standalone.js","https://unpkg.com/prettier@3.3.3/plugins/babel.js","https://unpkg.com/prettier@3.3.3/plugins/typescript.js","https://unpkg.com/prettier@3.3.3/plugins/postcss.js","https://unpkg.com/prettier@3.3.3/plugins/html.js"];for(const t of e)await this.loadScript(t);this.prettier=window.prettier,this.plugins={babel:window.prettierPlugins.babel,typescript:window.prettierPlugins.typescript,postcss:window.prettierPlugins.postcss,html:window.prettierPlugins.html},this.isLoaded=!0,console.log("Prettier loaded successfully from CDN")}catch(e){console.error("Failed to load Prettier from CDN",e),this.isLoaded=!1}}loadScript(e){return new Promise((t,n)=>{const r=document.createElement("script");r.src=e,r.onload=()=>t(),r.onerror=n,document.head.appendChild(r)})}async loadUserConfig(){try{const e=await fetch("/api/user/prettier-config");if(e.ok){const t=await e.json();this.userConfig=t}}catch(e){console.log("Using default Prettier config")}}async saveUserConfig(e){try{await fetch("/api/user/prettier-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),this.userConfig=e}catch(t){console.error("Failed to save Prettier config:",t)}}getConfig(){return{...this.defaultConfig,...this.userConfig}}detectParser(e){var t;return{js:"babel",jsx:"babel",ts:"typescript",tsx:"typescript",json:"json",html:"html",css:"css",scss:"scss",sass:"scss",less:"less",md:"markdown",mdx:"mdx",yaml:"yaml",yml:"yaml"}[(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase())||""]||"babel"}async formatCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"untitled.js";if(this.isLoaded||await this.loadPrettier(),!this.isLoaded||!this.prettier)return{success:!1,error:"Prettier is not loaded. Please refresh the page."};try{const n=this.detectParser(t),r=this.getConfig(),s=[];"babel"===n||"typescript"===n?s.push(this.plugins.babel,this.plugins.typescript):"css"===n||"scss"===n||"less"===n?s.push(this.plugins.postcss):"html"===n&&s.push(this.plugins.html);return{success:!0,formatted:await this.prettier.format(e,{...r,parser:n,plugins:s})}}catch(n){return this.handleFormatError(n,e)}}handleFormatError(e,t){const n=e.message||"Unknown formatting error",r=[];n.includes("Unexpected token")&&(r.push("Check for missing semicolons or brackets"),r.push("Verify that all parentheses and braces are balanced")),n.includes("Unterminated")&&r.push("Check for unclosed strings, comments, or JSX tags"),n.includes("Expected")&&(r.push("Check syntax around the error location"),r.push("Ensure proper use of commas and semicolons"));const s=this.attemptAutoFix(t,n);return s&&s!==t?(r.push("Auto-fix available: Click to apply suggested fix"),{success:!1,error:n,suggestions:r,formatted:s}):{success:!1,error:n,suggestions:r}}attemptAutoFix(e,t){let n=e;t.includes("Missing semicolon")&&(n=n.replace(/([^;])\s*\n/g,"$1;\n")),t.includes("Trailing comma")&&(n=n.replace(/,(\s*[}\]])/g,"$1"));(n.match(/"/g)||[]).length%2!==0&&(n+='"');(n.match(/'/g)||[]).length%2!==0&&(n+="'");const r=(n.match(/{/g)||[]).length,s=(n.match(/}/g)||[]).length;r>s&&(n+="}".repeat(r-s));const o=(n.match(/\[/g)||[]).length,i=(n.match(/\]/g)||[]).length;o>i&&(n+="]".repeat(o-i));const a=(n.match(/\(/g)||[]).length,l=(n.match(/\)/g)||[]).length;return a>l&&(n+=")".repeat(a-l)),n!==e?n:null}async formatOnClaudeGenerate(e,t){const n=`generated.${this.getExtensionForLanguage(t)}`,r=await this.formatCode(e,n);return r.success&&r.formatted?(console.log("Successfully formatted Claude-generated code"),r.formatted):!r.success&&r.formatted?(console.log("Applied auto-fix to Claude-generated code"),r.formatted):(console.warn("Could not format Claude-generated code:",r.error),e)}getExtensionForLanguage(e){return{javascript:"js",typescript:"ts",jsx:"jsx",tsx:"tsx",css:"css",scss:"scss",html:"html",json:"json",markdown:"md",yaml:"yaml"}[e.toLowerCase()]||"txt"}async batchFormat(e){return await Promise.all(e.map(async e=>({path:e.path,result:await this.formatCode(e.content,e.path)})))}},Lr=Fr;function Dr(e){const t=document.createElement("div");t.className="prettier-notification",t.textContent=e,t.style.cssText="\n    position: fixed;\n    bottom: 20px;\n    right: 20px;\n    background: #1a1b26;\n    color: #9ece6a;\n    padding: 12px 20px;\n    border-radius: 8px;\n    border: 1px solid #9ece6a;\n    font-size: 14px;\n    z-index: 10000;\n    animation: slideIn 0.3s ease-out;\n  ",document.body.appendChild(t),setTimeout(()=>{t.style.animation="slideOut 0.3s ease-out",setTimeout(()=>{document.body.removeChild(t)},300)},3e3)}const zr=document.createElement("style");zr.textContent="\n  @keyframes slideIn {\n    from {\n      transform: translateX(100%);\n      opacity: 0;\n    }\n    to {\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n  \n  @keyframes slideOut {\n    from {\n      transform: translateX(0);\n      opacity: 1;\n    }\n    to {\n      transform: translateX(100%);\n      opacity: 0;\n    }\n  }\n",document.head.appendChild(zr);const Mr=new class{constructor(){this.activeRepository=null,this.suggestionCache=new Map,this.monaco=null,this.disposables=[]}initialize(e){if(this.monaco)return;this.monaco=e,console.log("\ud83e\udde0 Repository IntelliSense Service initialized");["javascript","typescript","javascriptreact","typescriptreact","python","java","go"].forEach(e=>{const t=this.monaco.languages.registerCompletionItemProvider(e,{provideCompletionItems:this.provideCompletionItems.bind(this)});this.disposables.push(t)}),this.checkForActiveRepository()}async checkForActiveRepository(){try{const t=localStorage.getItem("activeRepository");var e;if(t)this.activeRepository=JSON.parse(t),console.log("\ud83d\udcda Active repository detected:",null===(e=this.activeRepository)||void 0===e?void 0:e.name);const n=await fetch("/api/repository/status");if(n.ok){const e=await n.json();e.activeRepository&&(this.activeRepository=e.activeRepository,localStorage.setItem("activeRepository",JSON.stringify(this.activeRepository)))}}catch(t){console.warn("Could not check for active repository:",t)}}async provideCompletionItems(e,t,n,r){const s=[];if(!this.activeRepository)return{suggestions:s};try{const n=e.getLineContent(t.lineNumber),r=e.getWordUntilPosition(t),o={startLineNumber:t.lineNumber,startColumn:r.startColumn,endLineNumber:t.lineNumber,endColumn:r.endColumn},i=`${this.activeRepository.id}_${n}_${t.column}`;if(this.suggestionCache.has(i)){const e=this.suggestionCache.get(i);return{suggestions:this.convertToMonacoSuggestions(e,o)}}const a=await fetch("/api/repository/suggestions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({repoId:this.activeRepository.id,currentCode:e.getValue(),cursorPosition:e.getOffsetAt(t),lineContent:n,language:e.getLanguageId()})});if(a.ok){const e=await a.json();if(e.suggestions&&e.suggestions.length>0){this.suggestionCache.set(i,e.suggestions);const t=this.convertToMonacoSuggestions(e.suggestions,o);s.push(...t)}}}catch(o){console.warn("Failed to get repository suggestions:",o)}return this.activeRepository&&s.push(...this.getDefaultRepositorySuggestions(e,t)),{suggestions:s}}convertToMonacoSuggestions(e,t){return e.map((e,n)=>{var r;return{label:e.label,kind:this.monaco.languages.CompletionItemKind.Function,documentation:{value:`**From ${null===(r=this.activeRepository)||void 0===r?void 0:r.name}**\n\n${e.documentation||""}`,isTrusted:!0},insertText:e.insertText,insertTextRules:this.monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:e.detail||`Repository pattern (${Math.round(100*(e.confidence||.8))}% confidence)`,range:t,sortText:`0${n}`,preselect:0===n}})}getDefaultRepositorySuggestions(e,t){var n,r;const s=[],o=e.getLineContent(t.lineNumber),i=e.getWordUntilPosition(t),a={startLineNumber:t.lineNumber,startColumn:i.startColumn,endLineNumber:t.lineNumber,endColumn:i.endColumn};return null!==(n=this.activeRepository)&&void 0!==n&&null!==(r=n.name)&&void 0!==r&&r.includes("react")&&o.includes("use")&&(s.push({label:"useState",kind:this.monaco.languages.CompletionItemKind.Function,documentation:"React state hook from repository patterns",insertText:"const [$1, set$2] = useState($3);",insertTextRules:this.monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:`From ${this.activeRepository.name}`,range:a,sortText:"00"}),s.push({label:"useEffect",kind:this.monaco.languages.CompletionItemKind.Function,documentation:"React effect hook from repository patterns",insertText:"useEffect(() => {\n  $1\n}, [$2]);",insertTextRules:this.monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:`From ${this.activeRepository.name}`,range:a,sortText:"01"})),s}setActiveRepository(e){this.activeRepository=e,this.suggestionCache.clear(),localStorage.setItem("activeRepository",JSON.stringify(e)),console.log("\ud83c\udfaf Repository IntelliSense activated for:",e.name)}getActiveRepository(){return this.activeRepository}clearActiveRepository(){this.activeRepository=null,this.suggestionCache.clear(),localStorage.removeItem("activeRepository")}dispose(){this.disposables.forEach(e=>e.dispose()),this.disposables=[],this.suggestionCache.clear(),this.monaco=null}},Br=Mr,$r=e=>{let{value:n="",language:r="typescript",theme:s="tokyo-night",onChange:o,onSave:i,readOnly:a=!1,fileName:l="untitled",onEditorMount:c}=e;const u=(0,t.useRef)(null),d=(0,t.useRef)(null),p=(0,t.useRef)(null),[h,m]=(0,t.useState)(null),[f,g]=(0,t.useState)(null),{formatCurrentDocument:y}=((e,n)=>{const r=(0,t.useRef)("");return(0,t.useEffect)(()=>{const t=async t=>{const{type:s,code:o,language:i,files:a}=t.detail;switch(s){case"code-generated":if(o&&i){const t=await Lr.formatOnClaudeGenerate(o,i);t!==o&&e.current&&(r.current=t,e.current.setValue(t),Dr("Code formatted with Prettier \u2728"))}break;case"file-modified":if(o&&t.detail.fileName===n){const t=await Lr.formatOnClaudeGenerate(o,function(e){var t;return{js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",json:"json",html:"html",css:"css",scss:"scss",md:"markdown",yaml:"yaml",yml:"yaml"}[(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase())||""]||"javascript"}(n));t!==o&&e.current&&(r.current=t,e.current.setValue(t),Dr("File formatted after Claude modification \u2728"))}break;case"batch-refactor":if(a&&a.length>0){const t=await Lr.batchFormat(a);Dr(`Formatted ${t.filter(e=>e.result.success).length}/${a.length} files \u2728`);const r=t.find(e=>e.path===n);null!==r&&void 0!==r&&r.result.success&&r.result.formatted&&e.current&&e.current.setValue(r.result.formatted)}}};window.addEventListener("claude-code-event",t);const s=async e=>{var n,r;"claude-code"===(null===(n=e.data)||void 0===n?void 0:n.source)&&null!==(r=e.data)&&void 0!==r&&r.type&&t(new CustomEvent("claude-code-event",{detail:e.data}))};return window.addEventListener("message",s),()=>{window.removeEventListener("claude-code-event",t),window.removeEventListener("message",s)}},[e,n]),{formatCurrentDocument:async()=>{if(!e.current)return;const t=e.current.getValue(),s=await Lr.formatCode(t,n);return s.success&&s.formatted?(e.current.setValue(s.formatted),r.current=s.formatted,Dr("Document formatted with Prettier \u2728"),{success:!0}):{success:!1,error:s.error,suggestions:s.suggestions,autoFix:s.formatted}},lastFormattedCode:r.current}})(u,l),v=(0,t.useCallback)((e,t)=>{u.current=e,d.current=t,p.current=e.getModel();try{Br.initialize(t),console.log("\u2705 Repository IntelliSense activated")}catch(n){console.warn("Repository IntelliSense initialization failed:",n)}c&&c(e),e.addCommand(t.KeyMod.CtrlCmd|t.KeyCode.KeyS,()=>{i&&i()}),e.addAction({id:"prettier.formatDocument",label:"Format Document with Prettier",keybindings:[t.KeyMod.Alt|t.KeyMod.Shift|t.KeyCode.KeyF],contextMenuGroupId:"format",contextMenuOrder:1.5,run:async e=>{await x()}}),e.focus(),t.editor.setTheme("tokyo-night")},[c,i]),b=(0,t.useCallback)(e=>{o&&o(e),h&&(m(null),g(null))},[o,h]),x=(0,t.useCallback)(async()=>{if(!u.current)return;const e=u.current.getValue(),t=await Lr.formatCode(e,l);t.success&&t.formatted?(u.current.setValue(t.formatted),m(null),g(null)):t.error&&(m(t.error),t.formatted&&g(t.formatted))},[l]),w=(0,t.useCallback)(()=>{f&&u.current&&(u.current.setValue(f),m(null),g(null))},[f]);(0,t.useEffect)(()=>()=>{if(u.current)try{u.current.dispose()}catch(e){console.warn("Error disposing editor:",e)}if(p.current)try{p.current.dispose()}catch(e){console.warn("Error disposing model:",e)}u.current=null,d.current=null,p.current=null},[]);const C=(e=>{var t;return{js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",json:"json",html:"html",css:"css",scss:"scss",sass:"sass",less:"less",py:"python",java:"java",cpp:"cpp",c:"c",cs:"csharp",php:"php",rb:"ruby",go:"go",rs:"rust",kt:"kotlin",swift:"swift",md:"markdown",yaml:"yaml",yml:"yaml",xml:"xml",sh:"shell",bash:"shell",ps1:"powershell",sql:"sql"}[(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase())||""]||"plaintext"})(l);return(0,Ee.jsxs)("div",{className:"code-editor",children:[h&&(0,Ee.jsxs)("div",{className:"format-error-banner",children:[(0,Ee.jsxs)("span",{className:"error-message",children:["Format Error: ",h]}),f&&(0,Ee.jsx)("button",{className:"auto-fix-button",onClick:w,children:"Apply Auto-Fix"}),(0,Ee.jsx)("button",{className:"dismiss-button",onClick:()=>m(null),children:"\xd7"})]}),(0,Ee.jsx)(Ir,{height:"100%",defaultLanguage:C,language:C,value:n||"",theme:"tokyo-night",onChange:b,beforeMount:e=>{e.editor.defineTheme("tokyo-night",{base:"vs-dark",inherit:!0,rules:[{token:"comment",foreground:"565f89",fontStyle:"italic"},{token:"keyword",foreground:"bb9af7"},{token:"string",foreground:"9ece6a"},{token:"number",foreground:"ff9e64"},{token:"type",foreground:"7aa2f7"},{token:"function",foreground:"7dcfff"},{token:"variable",foreground:"c0caf5"},{token:"constant",foreground:"ff9e64"},{token:"parameter",foreground:"e0af68"},{token:"property",foreground:"73daca"},{token:"punctuation",foreground:"9abdf5"},{token:"operator",foreground:"89ddff"}],colors:{"editor.background":"#1a1b26","editor.foreground":"#c0caf5","editor.lineHighlightBackground":"#24283b","editor.selectionBackground":"#364a82","editor.inactiveSelectionBackground":"#2a2e48","editorCursor.foreground":"#c0caf5","editorLineNumber.foreground":"#565f89","editorLineNumber.activeForeground":"#737aa2","editorIndentGuide.background":"#24283b","editorIndentGuide.activeBackground":"#3b4261","editor.wordHighlightBackground":"#364a82","editor.wordHighlightStrongBackground":"#364a82","editorBracketMatch.background":"#3b4261","editorBracketMatch.border":"#7aa2f7","editorGutter.background":"#1a1b26","scrollbar.shadow":"#00000030","scrollbarSlider.background":"#565f8930","scrollbarSlider.hoverBackground":"#565f8950","scrollbarSlider.activeBackground":"#565f8970"}})},onMount:v,loading:(0,Ee.jsx)("div",{style:{padding:"20px",color:"#c0caf5"},children:"Loading editor..."}),options:{minimap:{enabled:!1},fontSize:14,fontFamily:'"JetBrains Mono", Monaco, Menlo, "Courier New", monospace',fontLigatures:!0,automaticLayout:!0,formatOnPaste:!0,formatOnType:!0,readOnly:a,cursorStyle:"line",cursorBlinking:"smooth",smoothScrolling:!0,scrollBeyondLastLine:!1,renderWhitespace:"selection",bracketPairColorization:{enabled:!0},guides:{bracketPairs:!0,indentation:!0},suggestOnTriggerCharacters:!0,quickSuggestions:{other:!0,comments:!1,strings:!1},wordWrap:"on",lineNumbers:"on",rulers:[],folding:!0,showFoldingControls:"mouseover"}})]})},Ur=(0,t.memo)(e=>{let{tabs:n,activeTab:r,onTabClick:s,onTabClose:o}=e;const i=(0,t.useMemo)(()=>({js:"\ud83d\udcc4",jsx:"\u269b\ufe0f",ts:"\ud83d\udcd8",tsx:"\u269b\ufe0f",json:"\ud83d\udccb",html:"\ud83c\udf10",css:"\ud83c\udfa8",scss:"\ud83c\udfa8",py:"\ud83d\udc0d",java:"\u2615",cpp:"\u2699\ufe0f",c:"\u2699\ufe0f",cs:"\ud83d\udd37",go:"\ud83d\udc39",rs:"\ud83e\udd80",md:"\ud83d\udcdd",txt:"\ud83d\udcc4",yml:"\u2699\ufe0f",yaml:"\u2699\ufe0f",xml:"\ud83d\udcc4",sh:"\ud83d\udda5\ufe0f",env:"\ud83d\udd10"}),[]),a=(0,t.useCallback)(e=>{var t;const n=null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase();return i[n||""]||"\ud83d\udcc4"},[i]);return 0===n.length?(0,Ee.jsx)("div",{className:"file-tabs empty",children:(0,Ee.jsx)("div",{className:"empty-message",children:"No files open"})}):(0,Ee.jsxs)("div",{className:"file-tabs",children:[(0,Ee.jsx)("div",{className:"tabs-container",children:n.map(e=>(0,Ee.jsxs)("div",{className:`file-tab ${r===e.path?"active":""} ${e.isDirty?"dirty":""}`,onClick:()=>s(e.path),children:[(0,Ee.jsx)("span",{className:"tab-icon",children:a(e.name)}),(0,Ee.jsx)("span",{className:"tab-name",children:e.name}),e.isDirty&&(0,Ee.jsx)("span",{className:"dirty-indicator",children:"\u25cf"}),(0,Ee.jsx)("button",{className:"tab-close",onClick:t=>{t.stopPropagation(),o(e.path)},title:"Close",children:"\xd7"})]},e.path))}),(0,Ee.jsx)("div",{className:"tabs-actions",children:(0,Ee.jsx)("button",{className:"tab-action",title:"New File",children:"+"})})]})},(e,t)=>{if(e.tabs.length!==t.tabs.length)return!1;if(e.activeTab!==t.activeTab)return!1;for(let n=0;n<e.tabs.length;n++){const r=e.tabs[n],s=t.tabs[n];if(r.path!==s.path||r.name!==s.name||r.isDirty!==s.isDirty)return!1}return!0}),Hr=Ur,Wr=e=>{const[n,r]=(0,t.useState)(null),s=(0,t.useRef)(null),o={File:[{label:"New File",action:e.onNewFile,shortcut:"Ctrl+N"},{label:"Open File...",action:e.onOpenFile,shortcut:"Ctrl+O"},{separator:!0},{label:"Save",action:e.onSave,shortcut:"Ctrl+S"},{label:"Save As...",action:e.onSaveAs,shortcut:"Ctrl+Shift+S"},{separator:!0},{label:"Close Editor",action:()=>console.log("Close editor"),shortcut:"Ctrl+W"},{label:"Exit",action:()=>window.close()}],Edit:[{label:"Undo",action:e.onUndo,shortcut:"Ctrl+Z"},{label:"Redo",action:e.onRedo,shortcut:"Ctrl+Y"},{separator:!0},{label:"Cut",action:e.onCut,shortcut:"Ctrl+X"},{label:"Copy",action:e.onCopy,shortcut:"Ctrl+C"},{label:"Paste",action:e.onPaste,shortcut:"Ctrl+V"},{separator:!0},{label:"Find",action:e.onFind,shortcut:"Ctrl+F"},{label:"Replace",action:e.onReplace,shortcut:"Ctrl+H"}],View:[{label:"Explorer",action:e.onToggleExplorer,shortcut:"Ctrl+Shift+E"},{label:"Terminal",action:e.onToggleTerminal,shortcut:"Ctrl+`"},{label:"Output",action:e.onToggleOutput,shortcut:"Ctrl+Shift+U"},{separator:!0},{label:"Hooks Manager",action:e.onOpenHooksManager,shortcut:"Ctrl+Shift+H"},{separator:!0},{label:"Zoom In",action:()=>document.body.style.zoom="110%",shortcut:"Ctrl+="},{label:"Zoom Out",action:()=>document.body.style.zoom="90%",shortcut:"Ctrl+-"},{label:"Reset Zoom",action:()=>document.body.style.zoom="100%",shortcut:"Ctrl+0"}],Run:[{label:"Run Code",action:e.onRunCode,shortcut:"F5"},{label:"Debug",action:e.onDebug,shortcut:"F9"},{separator:!0},{label:"Stop",action:e.onStop,shortcut:"Shift+F5"}],Help:[{label:"About Coder1",action:e.onAbout},{label:"Documentation",action:e.onDocumentation},{separator:!0},{label:"Keyboard Shortcuts",action:e.onKeyboardShortcuts,shortcut:"Ctrl+K Ctrl+S"},{label:"Report Issue",action:()=>window.open("https://github.com","_blank")}]};(0,t.useEffect)(()=>{const e=e=>{s.current&&!s.current.contains(e.target)&&r(null)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return(0,Ee.jsx)("nav",{className:"menu-bar",ref:s,children:Object.keys(o).map(e=>(0,Ee.jsxs)("div",{className:"menu-container",children:[(0,Ee.jsx)("button",{className:"menu-button "+(n===e?"active":""),onClick:()=>(e=>{r(n===e?null:e)})(e),children:e}),n===e&&(0,Ee.jsx)("div",{className:"menu-dropdown",children:o[e].map((e,t)=>e.separator?(0,Ee.jsx)("div",{className:"menu-separator"},`sep-${t}`):(0,Ee.jsxs)("div",{className:"menu-item",onClick:()=>(e=>{e.action&&e.action(),r(null)})(e),children:[(0,Ee.jsx)("span",{className:"menu-label",children:e.label||""}),e.shortcut&&(0,Ee.jsx)("span",{className:"menu-shortcut",children:e.shortcut})]},`item-${t}`))})]},e))})},Vr=[{id:"thinking-modes",title:"Thinking Modes",icon:"\ud83e\udde0",category:"AI Control",description:"Control how deeply Claude thinks about your requests",details:["\u26a1 Normal - Standard response speed (~5s)","\ud83e\udd14 Think - More thoughtful responses (~15s)","\ud83e\udde0 Think Hard - Deep analysis and reasoning (~30s)","\ud83d\udcad Ultrathink - Maximum reasoning depth (~60s)"],usage:"Click the thinking mode button in the terminal header to cycle through modes. Higher modes use more tokens but provide more thorough analysis.",status:"active"},{id:"supervision",title:"Supervision Mode",icon:"\ud83d\udc41\ufe0f",category:"AI Control",description:"AI asks for confirmation before making changes",details:["Review all AI-suggested changes before applying","Provides explanations for each modification","Approve or reject changes individually","Learn from AI decision-making process"],usage:"Enable Supervision when working on critical code or when you want to understand AI's reasoning.",status:"active"},{id:"infinite-loop",title:"Infinite Loop",icon:"\u267e\ufe0f",category:"Advanced Features",description:"Continuous AI-driven development workflow",details:["AI continuously improves code","Automatic testing and refinement","Iterative enhancement cycles","Stop anytime with results preserved"],usage:"Start Infinite Loop for autonomous code improvement. AI will refactor, optimize, and enhance until you're satisfied.",status:"experimental"},{id:"parallel-agents",title:"Parallel Agents",icon:"\ud83d\udc65",category:"Advanced Features",description:"Multiple AI agents working simultaneously",details:["Spawn multiple specialized agents","Each focuses on different aspects","Coordinate results automatically","Faster completion of complex tasks"],usage:"Enable for large refactoring or when multiple files need different types of changes simultaneously.",status:"active"},{id:"hivemind",title:"Hivemind Dashboard",icon:"\ud83d\udc1d",category:"Advanced Features",description:"Coordinate multiple AI agents with specialized roles",details:["\ud83d\udc51 Queen Agent - Orchestrates and assigns tasks","\ud83c\udfd7\ufe0f Alpha Agent - Architecture and design decisions","\u2699\ufe0f Beta Agent - Implementation and coding","\ud83d\udd0d Gamma Agent - Testing and analysis","Real-time progress tracking","Shared knowledge between agents"],usage:"Launch Hivemind for complex projects requiring multiple perspectives. Agents collaborate to deliver comprehensive solutions.",status:"experimental"},{id:"github-deployment",title:"GitHub Deployment Dashboard",icon:"\ud83d\ude80",category:"Session Management",description:"Deploy your projects directly to GitHub with educational guidance",details:["\ud83d\udcda Learn Git fundamentals with interactive tutorials","\ud83c\udf93 Beginner-friendly explanations for every Git operation","\u2705 Safe deployment with pre-flight checks","\ud83d\udcca Visual commit history and branch management","\ud83d\udd04 One-click push to GitHub repositories","\ud83d\udcdd Automatic commit message generation","\ud83d\udee1\ufe0f Protection against common Git mistakes"],usage:"Access the GitHub deployment dashboard to learn Git while deploying your code. Perfect for beginners with step-by-step guidance and educational tooltips.",status:"active"},{id:"checkpoint",title:"Checkpoint",icon:"\ud83d\udcf8",category:"Session Management",description:"Save snapshots of your entire IDE state",details:["Captures all open files and content","Saves conversation history with AI","Preserves UI configuration","Includes git state and modifications","Auto-checkpoint every 10 minutes"],usage:"Create checkpoints before major changes or experiments. Restore anytime if things go wrong.",shortcut:"Cmd/Ctrl+Shift+S",status:"active"},{id:"timeline",title:"Timeline",icon:"\u23f0",category:"Session Management",description:"Visual history of all your checkpoints",details:["Interactive timeline visualization","Compare different checkpoints","One-click restore to any point","Filter by tags and timestamps","Export/import checkpoint sets"],usage:"Open Timeline to see your development journey. Perfect for tracking progress or recovering lost work.",shortcut:"Cmd/Ctrl+Shift+T",status:"active"}],Gr=[{keys:"Cmd/Ctrl+Shift+S",action:"Create checkpoint"},{keys:"Cmd/Ctrl+Shift+R",action:"Restore last checkpoint"},{keys:"Cmd/Ctrl+Shift+T",action:"Open timeline"},{keys:"Cmd/Ctrl+Shift+V",action:"Toggle voice mode"},{keys:"Cmd/Ctrl+Shift+H",action:"Toggle Hivemind"},{keys:"F1",action:"Open documentation"},{keys:"Cmd/Ctrl+K",action:"Clear terminal"},{keys:"Cmd/Ctrl+/",action:"Toggle comment"},{keys:"Esc",action:"Close dialogs"}],qr=e=>{let{onClose:n}=e;const[r,s]=(0,t.useState)(""),[o,i]=(0,t.useState)("all"),[a,l]=(0,t.useState)(null),c=["all",...Array.from(new Set(Vr.map(e=>e.category)))],u=Vr.filter(e=>{const t=""===r||e.title.toLowerCase().includes(r.toLowerCase())||e.description.toLowerCase().includes(r.toLowerCase())||e.details.some(e=>e.toLowerCase().includes(r.toLowerCase())),n="all"===o||e.category===o;return t&&n});(0,t.useEffect)(()=>{const e=e=>{"Escape"===e.key&&n&&n(),"F1"===e.key&&e.preventDefault()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]);const d=e=>{switch(e){case"active":return(0,Ee.jsx)("span",{className:"status-badge active",children:"Active"});case"experimental":return(0,Ee.jsx)("span",{className:"status-badge experimental",children:"Experimental"});case"coming-soon":return(0,Ee.jsx)("span",{className:"status-badge coming-soon",children:"Coming Soon"});default:return null}};return(0,Ee.jsxs)("div",{className:"documentation-container",children:[(0,Ee.jsx)("div",{className:"documentation-header",children:(0,Ee.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[(0,Ee.jsx)("button",{className:"back-to-ide-button",onClick:n,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",background:"rgba(139, 92, 246, 0.1)",border:"1px solid #8b5cf6",borderRadius:"8px",color:"white",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(139, 92, 246, 0.2)",e.currentTarget.style.transform="translateX(-2px)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(139, 92, 246, 0.1)",e.currentTarget.style.transform="translateX(0)"},children:"\u2190 Back to IDE"}),(0,Ee.jsxs)("div",{className:"header-content",style:{flex:1,textAlign:"center"},children:[(0,Ee.jsxs)("h1",{children:[(0,Ee.jsx)("span",{className:"header-icon",children:"\ud83d\udcda"}),"Coder1 IDE Documentation"]}),(0,Ee.jsx)("p",{className:"header-subtitle",children:"Master the power of AI-enhanced development"})]}),n&&(0,Ee.jsx)("button",{className:"close-button",onClick:n,title:"Close (Esc)",children:"\u2715"})]})}),(0,Ee.jsxs)("div",{className:"documentation-controls",children:[(0,Ee.jsxs)("div",{className:"search-container",children:[(0,Ee.jsx)("span",{className:"search-icon",children:"\ud83d\udd0d"}),(0,Ee.jsx)("input",{type:"text",placeholder:"Search features...",value:r,onChange:e=>s(e.target.value),className:"search-input"})]}),(0,Ee.jsx)("div",{className:"category-filters",children:c.map(e=>(0,Ee.jsx)("button",{className:"category-button "+(o===e?"active":""),onClick:()=>i(e),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,Ee.jsxs)("div",{className:"documentation-content",children:[(0,Ee.jsx)("div",{className:"features-grid",children:u.map(e=>(0,Ee.jsxs)("div",{className:"feature-card "+(a===e.id?"expanded":""),onClick:()=>l(a===e.id?null:e.id),children:[(0,Ee.jsxs)("div",{className:"feature-header",children:[(0,Ee.jsxs)("div",{className:"feature-title-row",children:[(0,Ee.jsx)("span",{className:"feature-icon",children:e.icon}),(0,Ee.jsx)("h3",{className:"feature-title",children:e.title})]}),d(e.status)]}),(0,Ee.jsx)("p",{className:"feature-description",children:e.description}),a===e.id&&(0,Ee.jsxs)("div",{className:"feature-details",children:[(0,Ee.jsxs)("div",{className:"details-section",children:[(0,Ee.jsx)("h4",{children:"Features"}),(0,Ee.jsx)("ul",{className:"details-list",children:e.details.map((e,t)=>(0,Ee.jsx)("li",{children:e},t))})]}),(0,Ee.jsxs)("div",{className:"usage-section",children:[(0,Ee.jsx)("h4",{children:"How to Use"}),(0,Ee.jsx)("p",{children:e.usage})]}),e.shortcut&&(0,Ee.jsxs)("div",{className:"shortcut-section",children:[(0,Ee.jsx)("h4",{children:"Keyboard Shortcut"}),(0,Ee.jsx)("kbd",{className:"shortcut-key",children:e.shortcut})]})]})]},e.id))}),(0,Ee.jsxs)("div",{className:"shortcuts-section",children:[(0,Ee.jsxs)("h2",{children:[(0,Ee.jsx)("span",{className:"section-icon",children:"\u2328\ufe0f"}),"Keyboard Shortcuts"]}),(0,Ee.jsx)("div",{className:"shortcuts-grid",children:Gr.map((e,t)=>(0,Ee.jsxs)("div",{className:"shortcut-item",children:[(0,Ee.jsx)("kbd",{className:"shortcut-keys",children:e.keys}),(0,Ee.jsx)("span",{className:"shortcut-action",children:e.action})]},t))})]}),(0,Ee.jsxs)("div",{className:"tips-section",children:[(0,Ee.jsxs)("h2",{children:[(0,Ee.jsx)("span",{className:"section-icon",children:"\ud83d\udca1"}),"Pro Tips"]}),(0,Ee.jsxs)("div",{className:"tips-grid",children:[(0,Ee.jsxs)("div",{className:"tip-card",children:[(0,Ee.jsx)("h4",{children:"\ud83c\udfaf Start Simple"}),(0,Ee.jsx)("p",{children:"Begin with Normal thinking mode and increase as needed. Higher modes provide better results but take more time."})]}),(0,Ee.jsxs)("div",{className:"tip-card",children:[(0,Ee.jsx)("h4",{children:"\ud83d\udcf8 Checkpoint Often"}),(0,Ee.jsx)("p",{children:"Create manual checkpoints before risky operations. Auto-checkpoints happen every 10 minutes."})]}),(0,Ee.jsxs)("div",{className:"tip-card",children:[(0,Ee.jsx)("h4",{children:"\ud83d\udc1d Hivemind for Complex Tasks"}),(0,Ee.jsx)("p",{children:"Use Hivemind when you need multiple perspectives or are tackling architecture-level changes."})]}),(0,Ee.jsxs)("div",{className:"tip-card",children:[(0,Ee.jsx)("h4",{children:"\u267e\ufe0f Infinite Loop Magic"}),(0,Ee.jsx)("p",{children:"Let AI continuously improve your code. Great for optimization, refactoring, and polish."})]})]})]})]})]})};class Kr{constructor(){this.baseURL=void 0,this.baseURL=window.location.origin}static getInstance(){return Kr.instance||(Kr.instance=new Kr),Kr.instance}collectSessionData(e,t,n,r){const s=sessionStorage.getItem("session_start_time"),o=s?parseInt(s):Date.now(),i=Math.floor((Date.now()-o)/1e3/60);return{openFiles:e.map(e=>({path:e.path,name:e.name,content:e.content.substring(0,2e3),isDirty:e.isDirty})),activeFile:t,terminalHistory:n.substring(-3e3),terminalCommands:r.slice(-20),sessionDuration:i,projectStructure:[],checkpoints:[]}}async generateSessionSummary(e){try{const t=this.buildSessionSummaryPrompt(e),n=await fetch(`${this.baseURL}/api/claude/session-summary`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionData:e,prompt:t})});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return{success:!0,summary:(await n.json()).summary}}catch(t){console.error("Failed to generate session summary:",t);return{success:!1,summary:this.generateFallbackSummary(e),error:t instanceof Error?t.message:"Unknown error"}}}buildSessionSummaryPrompt(e){const t=e.openFiles.filter(e=>e.content.trim().length>0),n=e.openFiles.filter(e=>e.isDirty);return`Please do an in-depth summarization of the session we just had. Explain:\n\n**Session Context:**\n- Session Duration: ${e.sessionDuration} minutes\n- Active Files (${t.length}): ${t.map(e=>e.name).join(", ")}\n- Modified Files (${n.length}): ${n.map(e=>e.name).join(", ")}\n- Current Focus: ${e.activeFile||"No active file"}\n\n**File Contents:**\n${t.map(e=>`\n### ${e.name} ${e.isDirty?"(modified)":""}\n\`\`\`\n${e.content}\n\`\`\`\n`).join("\n")}\n\n**Terminal Activity:**\nRecent Commands: ${e.terminalCommands.join(", ")}\n\nTerminal Output:\n\`\`\`\n${e.terminalHistory}\n\`\`\`\n\n**Analysis Required:**\n- What we did (completed tasks, changes made)\n- What went wrong (errors, issues encountered)  \n- What went right (successful implementations, breakthroughs)\n- What we're working on now (current focus, active development)\n- What needs to be completed (remaining tasks, TODO items)\n- How to do it moving forward (next steps, recommendations)\n\nPlease provide a comprehensive summary that will help the next agent understand the project state and continue development effectively. Format as a structured document with clear sections and actionable insights.`}generateFallbackSummary(e){const t=e.openFiles.filter(e=>e.content.trim().length>0),n=e.openFiles.filter(e=>e.isDirty);return`# Session Summary (Generated Locally)\n\n## Session Overview\n- **Duration**: ${e.sessionDuration} minutes\n- **Files Worked On**: ${t.length} files\n- **Modified Files**: ${n.length} files\n- **Current Focus**: ${e.activeFile||"No active file"}\n\n## Active Files\n${t.map(e=>`- **${e.name}** ${e.isDirty?"(modified)":""}`).join("\n")}\n\n## Recent Terminal Commands\n${e.terminalCommands.map(e=>`- \`${e}\``).join("\n")}\n\n## Modified Files Details\n${n.map(e=>`\n### ${e.name}\n\`\`\`\n${e.content.substring(0,500)}${e.content.length>500?"...":""}\n\`\`\`\n`).join("\n")}\n\n## Notes\n- This summary was generated locally as Claude Code API was unavailable\n- For detailed analysis, please run the session summary again when connected\n- Consider saving your work and reviewing recent changes\n\n## Next Steps\n1. Review modified files for any unsaved changes\n2. Test recent terminal commands and implementations\n3. Consider creating a checkpoint before continuing\n4. Document any issues or breakthroughs for future reference`}}Kr.instance=void 0;const Yr=Kr.getInstance(),Qr=()=>{const[e,n]=(0,t.useState)({isGenerating:!1,summary:null,error:null,hasGenerated:!1}),r=(0,t.useCallback)(async e=>{n(e=>({...e,isGenerating:!0,error:null,summary:null}));try{sessionStorage.getItem("session_start_time")||sessionStorage.setItem("session_start_time",Date.now().toString());const t=Yr.collectSessionData(e.openFiles,e.activeFile,e.terminalHistory,e.terminalCommands),r=await Yr.generateSessionSummary(t);n(e=>({...e,isGenerating:!1,summary:r.summary||null,error:r.success?null:r.error||"Failed to generate summary",hasGenerated:!0})),r.success?console.log("\u2705 Session summary generated successfully"):console.warn("\u26a0\ufe0f Session summary generated with fallback:",r.error)}catch(t){console.error("\u274c Failed to generate session summary:",t),n(e=>({...e,isGenerating:!1,error:t instanceof Error?t.message:"Unknown error occurred",summary:null,hasGenerated:!0}))}},[]),s=(0,t.useCallback)(()=>{n({isGenerating:!1,summary:null,error:null,hasGenerated:!1})},[]),o=(0,t.useCallback)(async()=>{if(!e.summary)return console.warn("No summary available to copy"),!1;try{return await navigator.clipboard.writeText(e.summary),console.log("\ud83d\udccb Summary copied to clipboard"),!0}catch(t){console.error("Failed to copy summary to clipboard:",t);try{const t=document.createElement("textarea");return t.value=e.summary,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),console.log("\ud83d\udccb Summary copied using fallback method"),!0}catch(n){return console.error("Fallback copy method also failed:",n),!1}}},[e.summary]);return{isGenerating:e.isGenerating,summary:e.summary,error:e.error,hasGenerated:e.hasGenerated,generateSummary:r,clearSummary:s,copySummaryToClipboard:o}},Xr=e=>{let{openFiles:n,activeFile:r,terminalHistory:s,terminalCommands:o,disabled:i=!1}=e;const[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),{isGenerating:d,summary:p,error:h,hasGenerated:m,generateSummary:f,clearSummary:g,copySummaryToClipboard:y}=Qr(),v=async()=>{await y()&&(u(!0),setTimeout(()=>u(!1),2e3))},b=()=>{l(!1),u(!1)};return(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsx)("button",{className:"session-summary-button status-button "+(i?"disabled":""),onClick:async()=>{l(!0),u(!1),m&&g(),await f({openFiles:n,activeFile:r,terminalHistory:s,terminalCommands:o})},disabled:i||d,title:"Generate session summary for context handoff to other agents",children:d?"\u23f3 Generating...":"Session Summary"}),a&&(0,Ee.jsx)("div",{className:"session-summary-modal-overlay",onClick:b,children:(0,Ee.jsxs)("div",{className:"session-summary-modal",onClick:e=>e.stopPropagation(),children:[(0,Ee.jsx)("button",{className:"modal-close-x",onClick:b,title:"Close",children:"\xd7"}),d?(0,Ee.jsxs)("div",{className:"summary-modal-loading",children:[(0,Ee.jsx)("div",{className:"loading-spinner"}),(0,Ee.jsx)("h3",{children:"Generating Session Summary..."}),(0,Ee.jsx)("p",{children:"Analyzing your development session with Claude Code"}),(0,Ee.jsxs)("div",{className:"loading-progress",children:[(0,Ee.jsx)("div",{className:"progress-item",children:"\ud83d\udcc1 Collecting file changes"}),(0,Ee.jsx)("div",{className:"progress-item",children:"\ud83d\udda5\ufe0f Processing terminal history"}),(0,Ee.jsx)("div",{className:"progress-item",children:"\ud83e\udd16 Requesting Claude Code analysis"}),(0,Ee.jsx)("div",{className:"progress-item",children:"\ud83d\udcdd Formatting summary"})]})]}):h&&!p?(0,Ee.jsxs)("div",{className:"summary-modal-error",children:[(0,Ee.jsx)("h3",{children:"\u274c Summary Generation Failed"}),(0,Ee.jsx)("p",{className:"error-message",children:h}),(0,Ee.jsxs)("div",{className:"error-actions",children:[(0,Ee.jsx)("button",{className:"retry-button",onClick:()=>f({openFiles:n,activeFile:r,terminalHistory:s,terminalCommands:o}),children:"\ud83d\udd04 Retry"}),(0,Ee.jsx)("button",{className:"close-button",onClick:b,children:"Close"})]})]}):p?(0,Ee.jsxs)("div",{className:"summary-modal-content",children:[(0,Ee.jsxs)("div",{className:"summary-header",children:[(0,Ee.jsx)("h3",{children:"\ud83d\udccb Session Summary"}),h&&(0,Ee.jsx)("div",{className:"warning-badge",title:`Generated with fallback: ${h}`,children:"\u26a0\ufe0f Offline Mode"})]}),(0,Ee.jsx)("div",{className:"summary-text",children:(0,Ee.jsx)("pre",{children:p})}),(0,Ee.jsxs)("div",{className:"summary-actions",children:[(0,Ee.jsx)("button",{className:"copy-button "+(c?"success":""),onClick:v,disabled:c,children:c?"\u2705 Copied!":"\ud83d\udccb Copy to Clipboard"}),(0,Ee.jsx)("button",{className:"regenerate-button",onClick:()=>f({openFiles:n,activeFile:r,terminalHistory:s,terminalCommands:o}),disabled:d,children:"\ud83d\udd04 Regenerate"}),(0,Ee.jsx)("button",{className:"close-button",onClick:b,children:"Close"})]})]}):null]})})]})},Jr=e=>{let{onGenerate:n,onClose:r,isVisible:s,onShowContextInsights:o,onShowPageBuilder:i,onShowComponentLibrary:a,onShowIntegrations:l}=e;const[c,u]=(0,t.useState)(""),[d,p]=(0,t.useState)(!1),[h,m]=(0,t.useState)([]),[f,g]=(0,t.useState)({status:"idle"}),y=(0,t.useRef)(null);(0,t.useEffect)(()=>{console.log("\ud83c\udfa8 MagicCommandBar isVisible:",s),s&&y.current&&(console.log("\ud83c\udfa8 Focusing input..."),y.current.focus())},[s]),(0,t.useEffect)(()=>{if(c.length>2){const e=v(c);m(e)}else m([])},[c]);const v=e=>{const t=e.toLowerCase();return[{id:"1",text:"gradient button with hover effects",icon:"\ud83d\udd18"},{id:"2",text:"pricing card like Stripe",icon:"\ud83d\udcb3"},{id:"3",text:"login form with social buttons",icon:"\ud83d\udd10"},{id:"4",text:"hero section with glassmorphism",icon:"\u2728"},{id:"5",text:"navigation bar with dropdown",icon:"\ud83d\udcf1"},{id:"6",text:"testimonial card with avatar",icon:"\ud83d\udcac"},{id:"7",text:"feature grid with icons",icon:"\ud83d\udcca"},{id:"8",text:"contact form with validation",icon:"\ud83d\udce7"},{id:"9",text:"dashboard sidebar",icon:"\ud83d\udccb"},{id:"10",text:"modal dialog with overlay",icon:"\ud83e\ude9f"}].filter(e=>e.text.includes(t)||t.includes(e.text.split(" ")[0])).slice(0,5)},b=async e=>{if(e.trim()&&!d){p(!0),g({status:"generating",message:"\u2728 Starting Magic generation..."});try{await n(e,e=>{g(e)}),g({status:"complete",message:"\ud83c\udf89 Component generated successfully!"}),u(""),setTimeout(()=>{r(),g({status:"idle"})},2e3)}catch(t){console.error("Magic generation failed:",t);const e=t instanceof Error?t.message:"Unknown error occurred";g({status:"error",message:`\u274c Generation failed: ${e}`})}finally{p(!1)}}};return s?(0,Ee.jsx)("div",{className:"magic-command-overlay",children:(0,Ee.jsxs)("div",{className:"magic-command-bar",children:[(0,Ee.jsxs)("div",{className:"magic-input-container",children:[(0,Ee.jsx)("span",{className:"magic-icon",children:"\u2728"}),(0,Ee.jsx)("input",{ref:y,type:"text",value:c,onChange:e=>u(e.target.value),onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),b(c)):"Escape"===e.key?r():"ArrowDown"===e.key&&h.length>0&&e.preventDefault()},placeholder:"Describe a component... (e.g., 'gradient button with hover effects')",className:"magic-input",disabled:d}),(0,Ee.jsx)("button",{onClick:()=>b(c),disabled:!c.trim()||d,className:"magic-generate-btn",title:"Generate component",children:d?"\u27f3":"\u2192"}),o&&(0,Ee.jsx)("button",{onClick:o,className:"magic-context-btn",title:"View project context insights",children:"\ud83e\udde0"}),i&&(0,Ee.jsx)("button",{onClick:i,className:"magic-page-btn",title:"Open Page Builder (Cmd+Shift+P)",children:"\ud83c\udfd7\ufe0f"}),a&&(0,Ee.jsx)("button",{onClick:a,className:"magic-library-btn",title:"Open Component Library (Cmd+Shift+L)",children:"\ud83d\udcda"}),l&&(0,Ee.jsx)("button",{onClick:l,className:"magic-integrations-btn",title:"Open Integrations (Figma, Testing, Docs)",children:"\ud83d\udd27"}),(0,Ee.jsx)("button",{onClick:r,className:"magic-close-btn",title:"Close (Esc)",children:"\xd7"})]}),"idle"!==f.status&&(0,Ee.jsx)("div",{className:`magic-progress ${f.status}`,children:(0,Ee.jsxs)("div",{className:"progress-content",children:[(0,Ee.jsx)("span",{className:"progress-message",children:f.message}),"generating"===f.status&&(0,Ee.jsx)("div",{className:"progress-spinner",children:(0,Ee.jsx)("div",{className:"spinner"})})]})}),h.length>0&&"idle"===f.status&&(0,Ee.jsxs)("div",{className:"magic-suggestions",children:[(0,Ee.jsx)("div",{className:"suggestions-header",children:(0,Ee.jsx)("span",{children:"\u2728 Suggestions"})}),h.map(e=>(0,Ee.jsxs)("div",{className:"magic-suggestion",onClick:()=>b(e.text),children:[(0,Ee.jsx)("span",{className:"suggestion-icon",children:e.icon}),(0,Ee.jsx)("span",{className:"suggestion-text",children:e.text}),(0,Ee.jsx)("span",{className:"suggestion-arrow",children:"\u2192"})]},e.id))]}),0===c.length&&"idle"===f.status&&(0,Ee.jsxs)("div",{className:"magic-tips",children:[(0,Ee.jsx)("div",{className:"tips-header",children:"\ud83d\udca1 Quick Tips"}),(0,Ee.jsx)("div",{className:"tips-content",children:(0,Ee.jsx)("span",{children:'Try: "pricing table", "login form", "hero section", "navigation bar"'})})]})]})}):null},Zr=e=>{let{onActivate:n,position:r="bottom-right",visible:s=!0}=e;const[o,i]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1),c=(0,t.useRef)(null);if((0,t.useEffect)(()=>{const e=c.current;if(e&&n){const t=e=>{e.preventDefault(),e.stopPropagation(),n()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}},[n]),!s)return null;const u={position:"static"===r?"relative":"fixed",width:"static"===r?"44px":"56px",height:"static"===r?"44px":"56px",background:"linear-gradient(135deg, #8b5cf6 0%, #a855f7 25%, #c084fc 50%, #fb7185 75%, #f97316 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",border:"none",outline:"none",padding:0,boxShadow:"0 4px 14px rgba(139, 92, 246, 0.4), 0 2px 4px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease",pointerEvents:"auto",zIndex:"static"===r?"auto":99999,..."static"!==r&&{bottom:r.includes("bottom")?"24px":"auto",top:r.includes("top")?"24px":"auto",left:r.includes("left")?"24px":"auto",right:r.includes("right")?"24px":"auto"}};return(0,Ee.jsxs)("button",{ref:c,className:`magic-floating-wand ${r} ${o?"hovered":""} ${a?"pressed":""}`,onClick:e=>{console.log("\ud83c\udfaf React onClick fired!"),e.preventDefault(),l(!0),n(),setTimeout(()=>l(!1),200)},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),title:"Open Magic Command Bar (Cmd+K)",style:u,type:"button","aria-label":"Open Magic Command Bar",children:[(0,Ee.jsx)("span",{className:"wand-emoji",style:{fontSize:"static"===r?"20px":"24px",pointerEvents:"none"},children:"\u2728"}),o&&(0,Ee.jsxs)("div",{className:"wand-tooltip",style:{pointerEvents:"none"},children:[(0,Ee.jsx)("span",{children:"Magic AI"}),(0,Ee.jsx)("div",{className:"tooltip-shortcut",children:"\u2318K"})]})]})},es=e=>{let{code:r,isVisible:s,onClose:o,onApplyOptimizations:i}=e;const[a,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),[d,p]=(0,t.useState)(""),[h,m]=(0,t.useState)("accessibility");(0,t.useEffect)(()=>{s&&r&&f()},[s,r]);const f=async()=>{u(!0);const{default:e}=await n.e(106).then(n.bind(n,106));try{const t=e.analyzeAccessibility(r),n=e.analyzePerformance(r),s=await e.optimizeComponent(r);l({accessibility:t.score,performance:n.score,issues:{accessibility:t.issues,performance:n.issues},improvements:s.improvements}),p(s.optimizedCode)}catch(t){console.error("Failed to analyze code:",t)}finally{u(!1)}},g=e=>e>=90?"#10b981":e>=70?"#f59e0b":"#ef4444",y=e=>{switch(e){case"high":case"error":return"\ud83d\udd34";case"medium":case"warning":return"\ud83d\udfe1";case"low":case"info":return"\ud83d\udfe2";default:return"\u26aa"}};return s?(0,Ee.jsx)("div",{className:"optimization-panel-overlay",children:(0,Ee.jsxs)("div",{className:"optimization-panel",children:[(0,Ee.jsxs)("div",{className:"optimization-header",children:[(0,Ee.jsxs)("div",{className:"header-left",children:[(0,Ee.jsx)("h3",{children:"\ud83d\udd27 Component Optimization"}),(0,Ee.jsx)("p",{children:"AI-powered accessibility and performance analysis"})]}),(0,Ee.jsx)("button",{onClick:o,className:"close-btn",children:"\xd7"})]}),c?(0,Ee.jsxs)("div",{className:"optimization-loading",children:[(0,Ee.jsx)("div",{className:"loading-spinner"}),(0,Ee.jsx)("p",{children:"Analyzing component..."})]}):a?(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsxs)("div",{className:"scores-container",children:[(0,Ee.jsxs)("div",{className:"score-card",children:[(0,Ee.jsx)("div",{className:"score-icon",children:"\u267f"}),(0,Ee.jsxs)("div",{className:"score-content",children:[(0,Ee.jsx)("div",{className:"score-label",children:"Accessibility"}),(0,Ee.jsxs)("div",{className:"score-value",style:{color:g(a.accessibility)},children:[a.accessibility,"/100"]})]}),(0,Ee.jsx)("div",{className:"score-bar",style:{background:`linear-gradient(to right, ${g(a.accessibility)} ${a.accessibility}%, #e5e7eb ${a.accessibility}%)`}})]}),(0,Ee.jsxs)("div",{className:"score-card",children:[(0,Ee.jsx)("div",{className:"score-icon",children:"\u26a1"}),(0,Ee.jsxs)("div",{className:"score-content",children:[(0,Ee.jsx)("div",{className:"score-label",children:"Performance"}),(0,Ee.jsxs)("div",{className:"score-value",style:{color:g(a.performance)},children:[a.performance,"/100"]})]}),(0,Ee.jsx)("div",{className:"score-bar",style:{background:`linear-gradient(to right, ${g(a.performance)} ${a.performance}%, #e5e7eb ${a.performance}%)`}})]})]}),(0,Ee.jsxs)("div",{className:"optimization-tabs",children:[(0,Ee.jsxs)("button",{className:"tab-btn "+("accessibility"===h?"active":""),onClick:()=>m("accessibility"),children:["\u267f Accessibility (",a.issues.accessibility.length,")"]}),(0,Ee.jsxs)("button",{className:"tab-btn "+("performance"===h?"active":""),onClick:()=>m("performance"),children:["\u26a1 Performance (",a.issues.performance.length,")"]})]}),(0,Ee.jsx)("div",{className:"issues-container",children:"accessibility"===h?(0,Ee.jsx)("div",{className:"issues-list",children:0===a.issues.accessibility.length?(0,Ee.jsxs)("div",{className:"no-issues",children:[(0,Ee.jsx)("span",{className:"success-icon",children:"\u2705"}),(0,Ee.jsx)("p",{children:"No accessibility issues found!"})]}):a.issues.accessibility.map((e,t)=>(0,Ee.jsxs)("div",{className:"issue-card",children:[(0,Ee.jsxs)("div",{className:"issue-header",children:[(0,Ee.jsx)("span",{className:"issue-icon",children:y(e.type)}),(0,Ee.jsx)("span",{className:"issue-rule",children:e.rule})]}),(0,Ee.jsx)("p",{className:"issue-description",children:e.description}),(0,Ee.jsxs)("div",{className:"issue-fix",children:[(0,Ee.jsx)("span",{className:"fix-icon",children:"\ud83d\udca1"}),(0,Ee.jsx)("span",{children:e.fix})]})]},t))}):(0,Ee.jsx)("div",{className:"issues-list",children:0===a.issues.performance.length?(0,Ee.jsxs)("div",{className:"no-issues",children:[(0,Ee.jsx)("span",{className:"success-icon",children:"\u2705"}),(0,Ee.jsx)("p",{children:"No performance issues found!"})]}):a.issues.performance.map((e,t)=>(0,Ee.jsxs)("div",{className:"issue-card",children:[(0,Ee.jsxs)("div",{className:"issue-header",children:[(0,Ee.jsx)("span",{className:"issue-icon",children:y(e.severity)}),(0,Ee.jsx)("span",{className:"issue-severity",children:e.severity.toUpperCase()})]}),(0,Ee.jsx)("p",{className:"issue-description",children:e.description}),(0,Ee.jsxs)("div",{className:"issue-fix",children:[(0,Ee.jsx)("span",{className:"fix-icon",children:"\ud83d\udca1"}),(0,Ee.jsx)("span",{children:e.suggestion})]})]},t))})}),a.improvements.length>0&&(0,Ee.jsxs)("div",{className:"improvements-section",children:[(0,Ee.jsx)("h4",{children:"\u2728 Auto-applied Improvements"}),(0,Ee.jsx)("ul",{className:"improvements-list",children:a.improvements.map((e,t)=>(0,Ee.jsxs)("li",{children:[(0,Ee.jsx)("span",{className:"improvement-icon",children:"\u2713"}),e]},t))})]}),(0,Ee.jsxs)("div",{className:"optimization-actions",children:[(0,Ee.jsx)("button",{className:"action-btn secondary",onClick:o,children:"Cancel"}),(0,Ee.jsx)("button",{className:"action-btn primary",onClick:()=>{i(d),o()},disabled:!d||d===r,children:"Apply Optimizations"})]})]}):null]})}):null},ts=e=>{let{componentCode:n,componentName:r="PreviewComponent",isVisible:s,onClose:o,onAccept:i,onRegenerate:a,onCustomizeTheme:l,isGenerating:c=!1}=e;const[u,d]=(0,t.useState)("preview"),[p,h]=(0,t.useState)("desktop"),[m,f]=(0,t.useState)(!1),[g,y]=(0,t.useState)(null),v=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(console.log("\ud83d\udea8 MagicPreview: useEffect triggered with:",{hasComponentCode:!!n,codeLength:(null===n||void 0===n?void 0:n.length)||0,hasPreviewRef:!!v.current,componentName:r}),n&&v.current){console.log("\ud83c\udfa8 MagicPreview: Generating preview for component:",r),console.log("\ud83c\udfa8 MagicPreview: Component code:",n),console.log("\ud83c\udfa8 MagicPreview: Component code length:",n.length);const t=v.current,s=n.replace(/interface\s+\w+\s*{[^{}]*(?:{[^{}]*}[^{}]*)*}/gm,"").replace(/type\s+\w+\s*=\s*[^;\n]+;/gm,"").replace(/:\s*(string|number|boolean|any|void|null|undefined|object|\w+(?:\[\])?|{[^}]*}|\([^)]*\)\s*=>\s*\w+)\s*([,);=\n])/g,"$2").replace(/<[^>]+>/g,"").replace(/\s+as\s+\w+/g,"").replace(/:\s*(?:React\.)?FC(?:<[^>]*>)?/g,"").replace(/^import\s+.*?from\s+['"].*?['"];?\s*$/gm,"").replace(/^import\s+['"].*?['"];?\s*$/gm,"").replace(/^export\s+default\s+/gm,"").replace(/^export\s+/gm,"").replace(/^\s*[\r\n]/gm,"");console.log("\ud83e\uddea MagicPreview: Cleaned code length:",s.length),console.log("\ud83d\udd27 MagicPreview: Building HTML with string concatenation..."),console.log("\ud83d\udd27 MagicPreview: Component name for injection:",r),console.log("\ud83d\udd27 MagicPreview: Cleaned code preview:",s.substring(0,200)+"...");const o='<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>Component Preview</title>    <script src="https://unpkg.com/react@18/umd/react.development.js"><\/script>    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"><\/script>    <script src="https://unpkg.com/@babel/standalone/babel.min.js"><\/script>    <script src="https://cdn.tailwindcss.com"><\/script>    <style>        body {             margin: 0;             padding: 20px;             font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);            min-height: 100vh;            display: flex;            align-items: center;            justify-content: center;        }        .preview-container {            width: 100%;            max-width: 100%;            display: flex;            justify-content: center;            align-items: center;        }        .error-container {            background: #fee2e2;            border: 1px solid #fecaca;            border-radius: 8px;            padding: 20px;            margin: 20px;            color: #dc2626;        }    </style></head><body>    <div id="root"></div>    <div id="error" style="display: none;"></div>        <script>        window.addEventListener("error", function(e) {            console.error("\ud83d\udea8 Window Error:", e.error);            const errorDiv = document.getElementById("error");            errorDiv.style.display = "block";            errorDiv.innerHTML = "<div class=\\"error-container\\"><h3>Preview Error</h3><p>" + e.error.message + "</p></div>";        });        console.log("\ud83c\udfaf Magic Preview iframe loaded successfully");    <\/script>        <script type="text/babel">        // Ensure React is available globally in the iframe context        window.React = React;        window.ReactDOM = ReactDOM;        const { useState, useEffect, useRef } = React;                console.log("\ud83c\udfa8 Starting component rendering...");        console.log("\ud83d\udd27 Component name:", "'+r+'");        console.log("\ud83d\udd27 React available:", typeof React);        console.log("\ud83d\udd27 ReactDOM available:", typeof ReactDOM);        console.log("\ud83d\udd27 About to inject component code...");                try {            // Component code injected safely with proper escaping            const componentCodeString = '+JSON.stringify(s)+';            console.log("\ud83d\udcdd Evaluating component code...");            eval(componentCodeString);                        console.log("\u2705 Component code executed");            console.log("\ud83d\udd0d Available component:", typeof '+r+");                        if (typeof "+r+' === "undefined") {                throw new Error("Component \\"'+r+'\\" is not defined");            }                        // Create wrapper app            const App = () => {                return React.createElement(                    "div",                    { className: "preview-container" },                    React.createElement('+r+')                );            };                        // Render the component using React 18 createRoot API            const root = ReactDOM.createRoot(document.getElementById("root"));            root.render(React.createElement(App));            console.log("\u2705 Component rendered successfully: '+r+'");                    } catch (error) {            console.error("\u274c Component render error:", error);            console.error("\u274c Error details:", error.name, error.message);            console.error("\u274c Error stack:", error.stack);            console.error("\u274c Component code that failed:", componentCodeString ? componentCodeString.substring(0, 500) : "No code");            const errorDiv = document.getElementById("error");            errorDiv.style.display = "block";            errorDiv.innerHTML = "<div class=\\"error-container\\"><h3>Component Error: " + error.name + "</h3><p><strong>Message:</strong> " + error.message + "</p><p><strong>Component Name:</strong> '+r+'</p><pre style=\\"font-size: 10px; max-height: 150px; overflow: auto;\\">" + error.stack + "</pre></div>";        }    <\/script></body></html>';try{t.srcdoc=o,console.log("\ud83c\udfaf MagicPreview: Iframe content set using srcdoc attribute")}catch(e){t.src="data:text/html;charset=utf-8,"+encodeURIComponent(o),console.log("\ud83c\udfaf MagicPreview: Fallback - Iframe src set with data URL")}}},[n,r]);return(0,t.useEffect)(()=>{console.log("\ud83c\udfa8 MagicPreview: Props changed:",{isVisible:s,componentName:r,hasComponentCode:!!n,componentCodeLength:(null===n||void 0===n?void 0:n.length)||0,isGenerating:c})},[s,r,n,c]),s?(0,Ee.jsxs)("div",{className:"magic-preview-overlay",children:[(0,Ee.jsxs)("div",{className:"magic-preview-container",children:[(0,Ee.jsxs)("div",{className:"magic-preview-header",children:[(0,Ee.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ee.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["\ud83c\udfa8 Component Preview: ",r]}),c&&(0,Ee.jsxs)("div",{className:"flex items-center space-x-2 text-blue-600",children:[(0,Ee.jsx)("div",{className:"animate-spin w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full"}),(0,Ee.jsx)("span",{className:"text-sm",children:"Generating..."})]})]}),(0,Ee.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ee.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[(0,Ee.jsx)("button",{onClick:()=>h("mobile"),className:"px-3 py-1 rounded text-sm font-medium transition-colors "+("mobile"===p?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),title:"Mobile (375px)",children:"\ud83d\udcf1"}),(0,Ee.jsx)("button",{onClick:()=>h("tablet"),className:"px-3 py-1 rounded text-sm font-medium transition-colors "+("tablet"===p?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),title:"Tablet (768px)",children:"\ud83d\udccb"}),(0,Ee.jsx)("button",{onClick:()=>h("desktop"),className:"px-3 py-1 rounded text-sm font-medium transition-colors "+("desktop"===p?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),title:"Desktop (100%)",children:"\ud83d\udda5\ufe0f"})]}),(0,Ee.jsx)("button",{onClick:o,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Close Preview",children:"\u2715"})]})]}),(0,Ee.jsxs)("div",{className:"magic-preview-tabs",children:[(0,Ee.jsx)("button",{onClick:()=>d("preview"),className:"tab-button "+("preview"===u?"active":""),children:"\ud83d\udc41\ufe0f Preview"}),(0,Ee.jsx)("button",{onClick:()=>d("code"),className:"tab-button "+("code"===u?"active":""),children:"\ud83d\udd27 Code"})]}),(0,Ee.jsx)("div",{className:"magic-preview-content",children:"preview"===u?(0,Ee.jsx)("div",{className:"preview-viewport",style:(()=>{switch(p){case"mobile":return{width:"375px",height:"667px"};case"tablet":return{width:"768px",height:"1024px"};default:return{width:"100%",height:"600px"}}})(),children:n?(0,Ee.jsxs)("div",{className:"relative w-full h-full",children:[c&&(0,Ee.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 rounded-lg",children:(0,Ee.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg text-center",children:[(0,Ee.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-4"}),(0,Ee.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:"Regenerating Component..."}),(0,Ee.jsx)("p",{className:"text-sm text-gray-600",children:"Creating a new variation with different styling"})]})}),(0,Ee.jsx)("iframe",{ref:v,className:"preview-iframe",title:"Component Preview",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-modals"},`preview-${(null===n||void 0===n?void 0:n.length)||0}-${Date.now()}`)]}):(0,Ee.jsx)("div",{className:"preview-placeholder",children:(0,Ee.jsxs)("div",{className:"text-center text-gray-500",children:[(0,Ee.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udfa8"}),(0,Ee.jsx)("p",{className:"text-lg font-medium mb-2",children:"No component to preview"}),(0,Ee.jsx)("p",{className:"text-sm",children:"Generate a component to see it here"})]})})}):(0,Ee.jsxs)("div",{className:"code-viewer",children:[(0,Ee.jsxs)("div",{className:"code-header",children:[(0,Ee.jsxs)("span",{className:"text-sm text-gray-600",children:[r,".tsx"]}),(0,Ee.jsx)("button",{onClick:()=>navigator.clipboard.writeText(n||""),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"\ud83d\udccb Copy"})]}),(0,Ee.jsx)("pre",{className:"code-content",children:(0,Ee.jsx)("code",{children:n||"// No code generated yet"})})]})}),(0,Ee.jsxs)("div",{className:"magic-preview-actions",style:{zIndex:10001,position:"relative"},children:[(0,Ee.jsxs)("div",{className:"flex space-x-3",children:[(0,Ee.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("\ud83d\udd04 REGENERATE BUTTON CLICKED!"),console.log("   Event target:",e.target),console.log("   onRegenerate function exists:",!!a),console.log("   onRegenerate type:",typeof a),console.log("   isGenerating:",c),console.log("   button disabled:",e.currentTarget.disabled),a&&"function"===typeof a?(console.log("\u2705 Calling onRegenerate..."),a()):console.error("\u274c onRegenerate function is missing or invalid!")},onMouseDown:()=>console.log("\ud83d\udd04 Regenerate mousedown"),onMouseUp:()=>console.log("\ud83d\udd04 Regenerate mouseup"),disabled:c,className:"action-button secondary",style:{zIndex:10002,position:"relative",pointerEvents:"auto",minWidth:"120px",backgroundColor:c?"#6b7280":"#4b5563"},title:"Generate a new variation with different design",children:c?"\ud83d\udd04 Generating...":"\ud83d\udd04 Regenerate"}),l&&(0,Ee.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("\ud83c\udfa8 CUSTOMIZE THEME BUTTON CLICKED!"),console.log("   Event target:",e.target),console.log("   onCustomizeTheme function exists:",!!l),console.log("   onCustomizeTheme type:",typeof l),console.log("   componentCode exists:",!!n),console.log("   isGenerating:",c),console.log("   button disabled:",e.currentTarget.disabled),l&&"function"===typeof l?(console.log("\u2705 Calling onCustomizeTheme..."),l()):console.error("\u274c onCustomizeTheme function is missing or invalid!")},onMouseDown:()=>console.log("\ud83c\udfa8 Customize mousedown"),onMouseUp:()=>console.log("\ud83c\udfa8 Customize mouseup"),disabled:!n||c,className:"action-button secondary",style:{zIndex:10002,position:"relative",pointerEvents:"auto",minWidth:"140px",backgroundColor:!n||c?"#6b7280":"#4b5563"},title:"Customize theme and styling",children:"\ud83c\udfa8 Customize Theme"}),(0,Ee.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("\ud83d\udd27 OPTIMIZE BUTTON CLICKED!"),f(!0)},disabled:!n||c,className:"action-button secondary",style:{zIndex:10002,position:"relative",pointerEvents:"auto",minWidth:"120px",backgroundColor:!n||c?"#6b7280":"#4b5563"},title:"Optimize for accessibility and performance",children:"\ud83d\udd27 Optimize"})]}),(0,Ee.jsxs)("div",{className:"flex space-x-3",children:[(0,Ee.jsx)("button",{onClick:o,className:"action-button outline",children:"Cancel"}),(0,Ee.jsx)("button",{onClick:i,disabled:!n||c,className:"action-button primary",children:"\u2705 Accept & Insert"})]})]})]}),m&&n&&(0,Ee.jsx)(es,{code:g||n,isVisible:m,onClose:()=>f(!1),onApplyOptimizations:e=>{y(e);const t=new CustomEvent("magicComponentUpdate",{detail:{code:e}});window.dispatchEvent(t)}})]}):null},ns=e=>{let{isVisible:n,onClose:r,onApplyTheme:s,currentCode:o}=e;const[i,a]=(0,t.useState)({primaryColor:"#3b82f6",secondaryColor:"#10b981",backgroundColor:"#ffffff",textColor:"#1f2937",borderRadius:"8px",fontSize:"16px",spacing:"16px",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}),[l,c]=(0,t.useState)("colors"),u={modern:{primaryColor:"#3b82f6",secondaryColor:"#10b981",backgroundColor:"#ffffff",textColor:"#1f2937",borderRadius:"12px",fontSize:"16px",spacing:"20px",shadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},dark:{primaryColor:"#6366f1",secondaryColor:"#14b8a6",backgroundColor:"#111827",textColor:"#f9fafb",borderRadius:"8px",fontSize:"16px",spacing:"16px",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.3)"},minimal:{primaryColor:"#374151",secondaryColor:"#6b7280",backgroundColor:"#f9fafb",textColor:"#111827",borderRadius:"4px",fontSize:"14px",spacing:"12px",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},vibrant:{primaryColor:"#f59e0b",secondaryColor:"#ef4444",backgroundColor:"#fef3c7",textColor:"#92400e",borderRadius:"16px",fontSize:"18px",spacing:"24px",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"}},d=(e,t)=>{a(n=>({...n,[e]:t}))};return n?(0,Ee.jsx)("div",{className:"theme-customizer-overlay",children:(0,Ee.jsxs)("div",{className:"theme-customizer-container",children:[(0,Ee.jsxs)("div",{className:"theme-customizer-header",children:[(0,Ee.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"\ud83c\udfa8 Theme Customizer"}),(0,Ee.jsx)("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Close Theme Customizer",children:"\u2715"})]}),(0,Ee.jsxs)("div",{className:"theme-presets",children:[(0,Ee.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Quick Presets"}),(0,Ee.jsx)("div",{className:"preset-grid",children:Object.entries(u).map(e=>{let[t,n]=e;return(0,Ee.jsxs)("button",{onClick:()=>{a(u[t])},className:"preset-card",style:{background:`linear-gradient(135deg, ${n.primaryColor}, ${n.secondaryColor})`,color:n.textColor},children:[(0,Ee.jsx)("div",{className:"preset-name",children:t}),(0,Ee.jsx)("div",{className:"preset-preview",children:(0,Ee.jsx)("div",{className:"preset-sample",style:{backgroundColor:n.backgroundColor,borderRadius:n.borderRadius,border:`1px solid ${n.primaryColor}`}})})]},t)})})]}),(0,Ee.jsx)("div",{className:"category-tabs",children:[{key:"colors",label:"\ud83c\udfa8 Colors",icon:"\ud83c\udfa8"},{key:"typography",label:"\ud83d\udcdd Typography",icon:"\ud83d\udcdd"},{key:"layout",label:"\ud83d\udcd0 Layout",icon:"\ud83d\udcd0"},{key:"effects",label:"\u2728 Effects",icon:"\u2728"}].map(e=>(0,Ee.jsxs)("button",{onClick:()=>c(e.key),className:"category-tab "+(l===e.key?"active":""),children:[(0,Ee.jsx)("span",{className:"category-icon",children:e.icon}),(0,Ee.jsx)("span",{className:"category-label",children:e.label.split(" ")[1]})]},e.key))}),(0,Ee.jsxs)("div",{className:"theme-controls",children:["colors"===l&&(0,Ee.jsxs)("div",{className:"control-group",children:[(0,Ee.jsxs)("div",{className:"control-item",children:[(0,Ee.jsx)("label",{className:"control-label",children:"Primary Color"}),(0,Ee.jsxs)("div",{className:"color-input-group",children:[(0,Ee.jsx)("input",{type:"color",value:i.primaryColor,onChange:e=>d("primaryColor",e.target.value),className:"color-picker"}),(0,Ee.jsx)("input",{type:"text",value:i.primaryColor,onChange:e=>d("primaryColor",e.target.value),className:"color-text",placeholder:"#3b82f6"})]})]}),(0,Ee.jsxs)("div",{className:"control-item",children:[(0,Ee.jsx)("label",{className:"control-label",children:"Secondary Color"}),(0,Ee.jsxs)("div",{className:"color-input-group",children:[(0,Ee.jsx)("input",{type:"color",value:i.secondaryColor,onChange:e=>d("secondaryColor",e.target.value),className:"color-picker"}),(0,Ee.jsx)("input",{type:"text",value:i.secondaryColor,onChange:e=>d("secondaryColor",e.target.value),className:"color-text",placeholder:"#10b981"})]})]}),(0,Ee.jsxs)("div",{className:"control-item",children:[(0,Ee.jsx)("label",{className:"control-label",children:"Background"}),(0,Ee.jsxs)("div",{className:"color-input-group",children:[(0,Ee.jsx)("input",{type:"color",value:i.backgroundColor,onChange:e=>d("backgroundColor",e.target.value),className:"color-picker"}),(0,Ee.jsx)("input",{type:"text",value:i.backgroundColor,onChange:e=>d("backgroundColor",e.target.value),className:"color-text",placeholder:"#ffffff"})]})]}),(0,Ee.jsxs)("div",{className:"control-item",children:[(0,Ee.jsx)("label",{className:"control-label",children:"Text Color"}),(0,Ee.jsxs)("div",{className:"color-input-group",children:[(0,Ee.jsx)("input",{type:"color",value:i.textColor,onChange:e=>d("textColor",e.target.value),className:"color-picker"}),(0,Ee.jsx)("input",{type:"text",value:i.textColor,onChange:e=>d("textColor",e.target.value),className:"color-text",placeholder:"#1f2937"})]})]})]}),"typography"===l&&(0,Ee.jsx)("div",{className:"control-group",children:(0,Ee.jsxs)("div",{className:"control-item",children:[(0,Ee.jsx)("label",{className:"control-label",children:"Font Size"}),(0,Ee.jsxs)("div",{className:"slider-input-group",children:[(0,Ee.jsx)("input",{type:"range",min:"12",max:"24",value:parseInt(i.fontSize),onChange:e=>d("fontSize",e.target.value+"px"),className:"slider"}),(0,Ee.jsx)("span",{className:"slider-value",children:i.fontSize})]})]})}),"layout"===l&&(0,Ee.jsxs)("div",{className:"control-group",children:[(0,Ee.jsxs)("div",{className:"control-item",children:[(0,Ee.jsx)("label",{className:"control-label",children:"Border Radius"}),(0,Ee.jsxs)("div",{className:"slider-input-group",children:[(0,Ee.jsx)("input",{type:"range",min:"0",max:"20",value:parseInt(i.borderRadius),onChange:e=>d("borderRadius",e.target.value+"px"),className:"slider"}),(0,Ee.jsx)("span",{className:"slider-value",children:i.borderRadius})]})]}),(0,Ee.jsxs)("div",{className:"control-item",children:[(0,Ee.jsx)("label",{className:"control-label",children:"Spacing"}),(0,Ee.jsxs)("div",{className:"slider-input-group",children:[(0,Ee.jsx)("input",{type:"range",min:"8",max:"32",value:parseInt(i.spacing),onChange:e=>d("spacing",e.target.value+"px"),className:"slider"}),(0,Ee.jsx)("span",{className:"slider-value",children:i.spacing})]})]})]}),"effects"===l&&(0,Ee.jsx)("div",{className:"control-group",children:(0,Ee.jsxs)("div",{className:"control-item",children:[(0,Ee.jsx)("label",{className:"control-label",children:"Shadow Intensity"}),(0,Ee.jsxs)("select",{value:i.shadow,onChange:e=>d("shadow",e.target.value),className:"select-input",children:[(0,Ee.jsx)("option",{value:"none",children:"None"}),(0,Ee.jsx)("option",{value:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",children:"Light"}),(0,Ee.jsx)("option",{value:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",children:"Medium"}),(0,Ee.jsx)("option",{value:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",children:"Heavy"}),(0,Ee.jsx)("option",{value:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",children:"Extra Heavy"})]})]})})]}),(0,Ee.jsxs)("div",{className:"theme-preview",children:[(0,Ee.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Preview"}),(0,Ee.jsxs)("div",{className:"preview-sample",style:{backgroundColor:i.backgroundColor,color:i.textColor,borderRadius:i.borderRadius,padding:i.spacing,boxShadow:i.shadow,fontSize:i.fontSize},children:[(0,Ee.jsx)("div",{className:"sample-button",style:{backgroundColor:i.primaryColor,color:i.backgroundColor,borderRadius:i.borderRadius,padding:`${parseInt(i.spacing)/2}px ${i.spacing}`},children:"Primary Button"}),(0,Ee.jsx)("div",{className:"sample-text",style:{color:i.textColor,marginTop:i.spacing},children:"Sample text with current theme settings"})]})]}),(0,Ee.jsxs)("div",{className:"theme-actions",children:[(0,Ee.jsx)("button",{onClick:r,className:"action-button outline",children:"Cancel"}),(0,Ee.jsx)("button",{onClick:()=>{s(i),r()},className:"action-button primary",children:"\u2705 Apply Theme"})]})]})}):null};const rs=new class{constructor(){this.analysisCache=new Map,this.projectInsights=null,this.lastAnalysisTime=0,this.CACHE_DURATION=3e5,console.log("\ud83d\udd0d ContextAnalyzer initialized for codebase analysis")}async analyzeProjectContext(e){const t=Date.now();if(this.projectInsights&&t-this.lastAnalysisTime<this.CACHE_DURATION)return console.log("\ud83d\udccb Using cached project insights"),this.projectInsights;console.log("\ud83d\udd0d Analyzing project context for component generation...");try{const n=e||"/Users/michaelkraft/autonomous_vibe_interface/coder1-ide/coder1-ide-source/src",r=await this.scanProjectFiles(n);return this.projectInsights=await this.extractInsights(r),this.lastAnalysisTime=t,console.log("\u2705 Project context analysis complete:",{components:Object.keys(this.projectInsights.existingComponents).length,patterns:this.projectInsights.commonPatterns.componentStructure.length,compatibility:this.projectInsights.recommendations.compatibilityScore}),this.projectInsights}catch(n){return console.warn("\u26a0\ufe0f Context analysis failed, using fallback insights:",n),this.getFallbackInsights()}}async scanProjectFiles(e){const t=[];try{const r=["components/Terminal.tsx","components/Editor.tsx","components/magic/MagicPreview.tsx","components/magic/ThemeCustomizer.tsx","components/layout/ThreePanelLayout.tsx","App.tsx","index.css"];for(const s of r)try{const n=await this.analyzeFile(`${e}/${s}`);n&&t.push(n)}catch(n){console.warn(`\u26a0\ufe0f Failed to analyze ${s}:`,n)}return t}catch(n){return console.warn("\u26a0\ufe0f File scanning failed:",n),[]}}async analyzeFile(e){if(this.analysisCache.has(e))return this.analysisCache.get(e);try{const t=e.split("/").pop()||"",n=this.simulateFileAnalysis(t,e);return this.analysisCache.set(e,n),n}catch(t){return console.warn(`\u26a0\ufe0f File analysis failed for ${e}:`,t),null}}simulateFileAnalysis(e,t){const n=e.endsWith(".tsx")||e.endsWith(".ts"),r=e.includes("Component")||e.endsWith(".tsx"),s=e.endsWith(".css")||e.endsWith(".scss"),o={path:t,type:r?"component":s?"style":"utility",language:n?"typescript":s?"css":"javascript",imports:[],exports:[],components:[],patterns:[],styling:[]};return"App.tsx"===e&&(o.imports=["React","useState","useEffect","./components/magic/MagicPreview","./services/magic/MagicUIService"],o.exports=["App"],o.components=["App"],o.patterns=[{type:"function",name:"useState",usage:"State management",frequency:10},{type:"function",name:"useEffect",usage:"Side effects",frequency:5},{type:"interface",name:"Props",usage:"Component props",frequency:8}],o.styling=[{type:"tailwind",classes:["flex","items-center","justify-center","bg-gray-100"],patterns:["responsive","spacing"],themes:["light"]}]),e.includes("MagicPreview")&&(o.imports=["React","useState","useRef","./MagicPreview.css"],o.exports=["MagicPreview"],o.components=["MagicPreview"],o.patterns=[{type:"function",name:"useRef",usage:"DOM references",frequency:3},{type:"interface",name:"MagicPreviewProps",usage:"Component props",frequency:1}],o.styling=[{type:"tailwind",classes:["absolute","inset-0","z-50","bg-black","bg-opacity-50"],patterns:["modal","overlay"],themes:["dark","light"]}]),e.includes("Terminal")&&(o.imports=["React","useEffect","useRef","xterm"],o.exports=["Terminal"],o.components=["Terminal"],o.patterns=[{type:"function",name:"useEffect",usage:"Terminal initialization",frequency:5},{type:"function",name:"useRef",usage:"Terminal DOM ref",frequency:1}],o.styling=[{type:"tailwind",classes:["w-full","h-full","bg-black","text-green-400"],patterns:["terminal","monospace"],themes:["dark"]}]),"index.css"===e&&(o.styling=[{type:"tailwind",classes:["container","mx-auto","px-4","py-8","text-center","font-sans"],patterns:["utility-first","responsive","modern"],themes:["light","blue","purple"]}]),o}async extractInsights(e){const t={frameworkUsage:{react:e.some(e=>e.imports.includes("React")),typescript:e.some(e=>"typescript"===e.language),tailwindcss:e.some(e=>e.styling.some(e=>"tailwind"===e.type)),styledComponents:e.some(e=>e.imports.some(e=>e.includes("styled")))},commonPatterns:{componentStructure:this.extractComponentPatterns(e),propPatterns:this.extractPropPatterns(e),stylingApproach:this.extractStylingApproach(e),stateManagement:this.extractStateManagement(e)},designSystem:{colorPalette:this.extractColorPalette(e),typography:this.extractTypography(e),spacing:this.extractSpacing(e),borderRadius:this.extractBorderRadius(e),shadows:this.extractShadows(e)},existingComponents:{buttons:this.findComponentsByType(e,"button"),cards:this.findComponentsByType(e,"card"),forms:this.findComponentsByType(e,"form"),layouts:this.findComponentsByType(e,"layout"),navigation:this.findComponentsByType(e,"nav")},recommendations:{bestMatches:[],suggestedPatterns:[],compatibilityScore:.85}};return t.recommendations=this.generateRecommendations(t),t}extractComponentPatterns(e){const t=[],n=e.some(e=>"typescript"===e.language),r=e.some(e=>e.imports.includes("React")),s=e.some(e=>e.styling.some(e=>"tailwind"===e.type));return n&&r&&(t.push("React.FC with TypeScript interfaces"),t.push("Functional components with hooks")),s&&(t.push("Tailwind CSS utility classes"),t.push("Responsive design patterns")),t.push("Props destructuring"),t.push("Default props with fallbacks"),t}extractPropPatterns(e){return["className?: string","children?: React.ReactNode","onClick?: () => void","disabled?: boolean","variant?: string","size?: string"]}extractStylingApproach(e){const t=e.some(e=>e.styling.some(e=>"tailwind"===e.type)),n=e.some(e=>e.styling.some(e=>"css"===e.type));return t&&n?"Tailwind CSS with custom CSS for complex components":t?"Tailwind CSS utility-first":"Custom CSS modules"}extractStateManagement(e){const t=e.some(e=>e.patterns.some(e=>"useState"===e.name)),n=e.some(e=>e.patterns.some(e=>"useEffect"===e.name));return t&&n?"React hooks (useState, useEffect)":t?"React useState hook":"Stateless components"}extractColorPalette(e){const t=new Set;return e.forEach(e=>{e.styling.forEach(e=>{e.classes.forEach(e=>{const n=e.match(/(bg|text|border)-(red|blue|green|yellow|purple|pink|gray|indigo|cyan|teal)-(\d+)/);n&&t.add(`${n[2]}-${n[3]}`)})})}),["blue-500","blue-600","blue-700","purple-500","purple-600","purple-700","gray-100","gray-200","gray-300","gray-600","gray-900","green-500","green-600","red-500","red-600","white","black"]}extractTypography(e){return["text-sm","text-base","text-lg","text-xl","text-2xl","text-3xl","font-medium","font-semibold","font-bold","leading-tight","leading-normal","leading-relaxed"]}extractSpacing(e){return["p-2","p-4","p-6","p-8","m-2","m-4","m-6","m-8","px-4","py-2","px-6","py-3","space-x-2","space-x-4","space-y-4","gap-4","gap-6","gap-8"]}extractBorderRadius(e){return["rounded","rounded-md","rounded-lg","rounded-xl","rounded-2xl","rounded-full"]}extractShadows(e){return["shadow-sm","shadow","shadow-md","shadow-lg","shadow-xl","shadow-2xl","drop-shadow-lg"]}findComponentsByType(e,t){const n=[];return e.forEach(e=>{e.components.forEach(e=>{e.toLowerCase().includes(t)&&n.push(e)})}),"button"===t?n.push("MagicButton","ActionButton","TerminalButton"):"layout"===t?n.push("ThreePanelLayout","AppLayout"):"nav"===t&&n.push("NavigationBar","TabNavigation"),n}generateRecommendations(e){const t={bestMatches:[],suggestedPatterns:[],compatibilityScore:.85};return e.frameworkUsage.react&&e.frameworkUsage.typescript&&t.bestMatches.push("TypeScript React functional components"),e.frameworkUsage.tailwindcss&&(t.bestMatches.push("Tailwind CSS utility classes"),t.bestMatches.push("Responsive design patterns")),t.suggestedPatterns.push("Use consistent prop interfaces"),t.suggestedPatterns.push("Follow existing color palette"),t.suggestedPatterns.push("Maintain spacing consistency"),t.suggestedPatterns.push("Include hover and focus states"),t.suggestedPatterns.push("Add proper accessibility attributes"),t}getFallbackInsights(){return{frameworkUsage:{react:!0,typescript:!0,tailwindcss:!0,styledComponents:!1},commonPatterns:{componentStructure:["React.FC with TypeScript","Functional components"],propPatterns:["className?: string","children?: React.ReactNode"],stylingApproach:"Tailwind CSS utility-first",stateManagement:"React hooks"},designSystem:{colorPalette:["blue-500","purple-500","gray-900","white"],typography:["text-base","font-medium","leading-normal"],spacing:["p-4","px-6","py-3","gap-4"],borderRadius:["rounded-lg","rounded-xl"],shadows:["shadow-lg","shadow-xl"]},existingComponents:{buttons:["MagicButton"],cards:["PreviewCard"],forms:["LoginForm"],layouts:["ThreePanelLayout"],navigation:["TabNavigation"]},recommendations:{bestMatches:["TypeScript React components","Tailwind CSS styling"],suggestedPatterns:["Consistent prop interfaces","Responsive design"],compatibilityScore:.75}}}generateContextualSuggestions(e,t){const n={styling:[],patterns:[],compatibility:[]};return t.frameworkUsage.tailwindcss&&(n.styling.push("Use Tailwind utility classes"),n.styling.push(`Colors: ${t.designSystem.colorPalette.slice(0,3).join(", ")}`),n.styling.push(`Spacing: ${t.designSystem.spacing.slice(0,3).join(", ")}`)),t.frameworkUsage.typescript&&(n.patterns.push("Define TypeScript interface for props"),n.patterns.push("Use proper type annotations")),t.commonPatterns.stateManagement.includes("hooks")&&n.patterns.push("Use React hooks for state management"),n.compatibility.push("Framework: React "+(t.frameworkUsage.typescript?"+ TypeScript":"")),n.compatibility.push(`Styling: ${t.commonPatterns.stylingApproach}`),n.compatibility.push(`State: ${t.commonPatterns.stateManagement}`),n}async getOrAnalyzeContext(e){return this.projectInsights?this.projectInsights:await this.analyzeProjectContext(e)}clearCache(){this.analysisCache.clear(),this.projectInsights=null,this.lastAnalysisTime=0,console.log("\ud83d\uddd1\ufe0f Context analysis cache cleared")}},ss=rs;const os=new class{constructor(){this.history=new Map,this.collections=new Map,this.maxHistorySize=100,this.storageKey="magicComponentHistory",this.collectionsKey="magicComponentCollections",this.loadFromStorage()}loadFromStorage(){try{const e=localStorage.getItem(this.storageKey);if(e){JSON.parse(e).forEach(e=>{e.timestamp=new Date(e.timestamp),e.stats.lastUsed&&(e.stats.lastUsed=new Date(e.stats.lastUsed)),this.history.set(e.id,e)})}const t=localStorage.getItem(this.collectionsKey);if(t){JSON.parse(t).forEach(e=>{e.createdAt=new Date(e.createdAt),e.updatedAt=new Date(e.updatedAt),this.collections.set(e.id,e)})}console.log("\u2705 Component history loaded:",{components:this.history.size,collections:this.collections.size})}catch(e){console.error("Failed to load component history:",e)}}saveToStorage(){try{const e=Array.from(this.history.values());localStorage.setItem(this.storageKey,JSON.stringify(e));const t=Array.from(this.collections.values());localStorage.setItem(this.collectionsKey,JSON.stringify(t))}catch(e){console.error("Failed to save component history:",e)}}addComponent(e,t,n){const r=this.generateId(),s=this.extractComponentName(e)||`Component_${r.slice(0,8)}`,o=this.findSimilarComponent(e);let i=1;if(o){i=this.history.get(o).version+1}const a={id:r,name:s,code:e,prompt:t,timestamp:new Date,version:i,metadata:{type:this.detectComponentType(e),framework:"react",category:this.categorizeComponent(t),tags:this.generateTags(t,e),...n},stats:{usageCount:0,favorite:!1}};return this.history.set(r,a),this.pruneHistoryIfNeeded(),this.saveToStorage(),a}getComponent(e){const t=this.history.get(e);return t&&(t.stats.usageCount++,t.stats.lastUsed=new Date,this.saveToStorage()),t}getAllComponents(){return Array.from(this.history.values()).sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime())}searchComponents(e){const t=e.toLowerCase();return this.getAllComponents().filter(e=>e.name.toLowerCase().includes(t)||e.prompt.toLowerCase().includes(t)||e.metadata.tags.some(e=>e.toLowerCase().includes(t))||e.metadata.category.toLowerCase().includes(t))}getComponentsByCategory(e){return this.getAllComponents().filter(t=>t.metadata.category===e)}getFavoriteComponents(){return this.getAllComponents().filter(e=>!0===e.stats.favorite)}toggleFavorite(e){const t=this.history.get(e);return!!t&&(t.stats.favorite=!t.stats.favorite,this.saveToStorage(),t.stats.favorite)}rateComponent(e,t){const n=this.history.get(e);n&&t>=1&&t<=5&&(n.stats.rating=t,this.saveToStorage())}deleteComponent(e){const t=this.history.delete(e);return t&&(this.collections.forEach(t=>{const n=t.components.indexOf(e);-1!==n&&t.components.splice(n,1)}),this.saveToStorage()),t}createCollection(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=this.generateId(),s={id:r,name:e,description:t,components:n,createdAt:new Date,updatedAt:new Date,tags:[],isPublic:!1};return this.collections.set(r,s),this.saveToStorage(),s}addToCollection(e,t){const n=this.collections.get(e),r=this.history.get(t);return!(!n||!r||n.components.includes(t))&&(n.components.push(t),n.updatedAt=new Date,this.saveToStorage(),!0)}getCollection(e){return this.collections.get(e)}getAllCollections(){return Array.from(this.collections.values()).sort((e,t)=>t.updatedAt.getTime()-e.updatedAt.getTime())}exportComponent(e){const t=this.history.get(e);if(!t)return null;const n={name:t.name,code:t.code,prompt:t.prompt,metadata:t.metadata,exportedAt:(new Date).toISOString()};return JSON.stringify(n,null,2)}importComponent(e){try{const t=JSON.parse(e);return this.addComponent(t.code,t.prompt,t.metadata)}catch(t){return console.error("Failed to import component:",t),null}}getStatistics(){const e=this.getAllComponents(),t=new Map,n=new Map;return e.forEach(e=>{const r=e.metadata.category;t.set(r,(t.get(r)||0)+1),e.metadata.tags.forEach(e=>{n.set(e,(n.get(e)||0)+1)})}),{totalComponents:e.length,totalCollections:this.collections.size,favoriteCount:e.filter(e=>e.stats.favorite).length,averageRating:this.calculateAverageRating(e),mostUsedComponent:this.getMostUsedComponent(e),categoriesBreakdown:Object.fromEntries(t),popularTags:Array.from(n.entries()).sort((e,t)=>t[1]-e[1]).slice(0,10).map(e=>{let[t,n]=e;return{tag:t,count:n}})}}clearHistory(){this.history.clear(),this.collections.clear(),this.saveToStorage()}generateId(){return`comp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}extractComponentName(e){const t=[/(?:const|let|var)\s+(\w+)\s*=/,/(?:function)\s+(\w+)\s*\(/,/(?:class)\s+(\w+)\s+extends/];for(const n of t){const t=e.match(n);if(t&&t[1])return t[1]}return null}detectComponentType(e){return e.includes("button")||e.includes("Button")?"button":e.includes("form")||e.includes("Form")?"form":e.includes("card")||e.includes("Card")?"card":e.includes("nav")||e.includes("Nav")?"navigation":e.includes("hero")||e.includes("Hero")?"hero":e.includes("modal")||e.includes("Modal")?"modal":e.includes("table")||e.includes("Table")?"table":e.includes("list")||e.includes("List")?"list":"component"}categorizeComponent(e){const t=e.toLowerCase();return t.includes("button")||t.includes("cta")?"buttons":t.includes("form")||t.includes("input")?"forms":t.includes("card")||t.includes("pricing")?"cards":t.includes("nav")||t.includes("menu")?"navigation":t.includes("hero")||t.includes("header")?"heroes":t.includes("modal")||t.includes("dialog")?"modals":t.includes("dashboard")||t.includes("chart")?"dashboards":t.includes("landing")||t.includes("page")?"pages":"general"}generateTags(e,t){const n=new Set,r=e.toLowerCase().split(/\s+/);return["gradient","animated","responsive","dark","light","modern","minimal"].forEach(e=>{r.includes(e)&&n.add(e)}),t.includes("useState")&&n.add("stateful"),t.includes("useEffect")&&n.add("effects"),(t.includes("async")||t.includes("await"))&&n.add("async"),(t.includes("tailwindcss")||t.includes("className"))&&n.add("tailwind"),t.includes("styled-components")&&n.add("styled-components"),t.includes("framer-motion")&&n.add("animated"),(t.includes("@media")||t.includes("responsive"))&&n.add("responsive"),Array.from(n)}findSimilarComponent(e){const t=e.replace(/\s+/g,"").toLowerCase(),n=Array.from(this.history.entries());for(const[r,s]of n){if(s.code.replace(/\s+/g,"").toLowerCase()===t)return r}return null}pruneHistoryIfNeeded(){if(this.history.size>this.maxHistorySize){this.getAllComponents().filter(e=>!e.stats.favorite).sort((e,t)=>e.timestamp.getTime()-t.timestamp.getTime()).slice(0,this.history.size-this.maxHistorySize).forEach(e=>{this.deleteComponent(e.id)})}}calculateAverageRating(e){const t=e.filter(e=>e.stats.rating);if(0===t.length)return 0;const n=t.reduce((e,t)=>e+(t.stats.rating||0),0);return Math.round(n/t.length*10)/10}getMostUsedComponent(e){return 0===e.length?null:e.reduce((e,t)=>t.stats.usageCount>e.stats.usageCount?t:e)}},is=os;const as=new class{constructor(){this.isInitialized=!1,this.reactBitsComponents=new Map,this.contextInsights=null,this.initializeReactBits(),this.initializeContextAnalysis()}async initializeContextAnalysis(){try{console.log("\ud83d\udd0d Initializing context analysis for smarter component generation..."),this.contextInsights=await ss.analyzeProjectContext(),console.log("\u2705 Context analysis ready:",{frameworks:Object.keys(this.contextInsights.frameworkUsage).filter(e=>this.contextInsights.frameworkUsage[e]),compatibility:this.contextInsights.recommendations.compatibilityScore})}catch(e){console.warn("\u26a0\ufe0f Context analysis initialization failed:",e)}}initializeReactBits(){this.reactBitsComponents.set("button-animated",{name:"Animated Button",keywords:["button","animated","hover","gradient"],code:"const AnimatedButton = ({ children, onClick, variant = 'primary', size = 'md' }) => {\n  const sizeClasses = {\n    sm: 'px-4 py-2 text-sm',\n    md: 'px-6 py-3 text-base',\n    lg: 'px-8 py-4 text-lg'\n  };\n  \n  const variantStyles = {\n    primary: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n    secondary: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',\n    danger: 'linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%)',\n    success: 'linear-gradient(135deg, #00b894 0%, #00a085 100%)'\n  };\n  \n  return (\n    <button \n      onClick={onClick}\n      className={`${sizeClasses[size]} rounded-lg font-medium transition-all duration-300 transform hover:scale-105 hover:shadow-lg text-white`}\n      style={{ background: variantStyles[variant] }}\n    >\n      {children}\n    </button>\n  );\n};"}),this.reactBitsComponents.set("button-glow",{name:"Glow Button",keywords:["button","glow","shadow","float","neon"],code:"const GlowButton = ({ children, onClick, color = 'purple' }) => {\n  const colorClasses = {\n    purple: 'from-purple-500 to-pink-500 hover:shadow-purple-500/50',\n    blue: 'from-blue-500 to-cyan-500 hover:shadow-blue-500/50',\n    green: 'from-green-500 to-emerald-500 hover:shadow-green-500/50'\n  };\n  \n  return (\n    <button \n      onClick={onClick}\n      className={`px-8 py-4 bg-gradient-to-r ${colorClasses[color]} text-white font-bold rounded-full transition-all duration-300 hover:shadow-2xl transform hover:-translate-y-1`}\n    >\n      {children}\n    </button>\n  );\n};"}),this.reactBitsComponents.set("card-glass",{name:"Glass Card",keywords:["card","glass","glassmorphism","blur","transparent"],code:'const GlassCard = ({ title, children, className = \'\' }) => {\n  return (\n    <div className={`relative backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-6 shadow-2xl ${className}`}>\n      <div className="absolute inset-0 bg-gradient-to-br from-white/10 to-transparent rounded-2xl"></div>\n      <div className="relative z-10">\n        {title && (\n          <h3 className="text-2xl font-bold text-white mb-4">{title}</h3>\n        )}\n        <div className="text-white/80">\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n};'}),this.reactBitsComponents.set("hero-gradient",{name:"Hero Section",keywords:["hero","section","landing","header","cta","gradient"],code:'const HeroSection = ({ title, subtitle, ctaText, onCtaClick }) => {\n  return (\n    <section className="relative min-h-screen flex items-center justify-center overflow-hidden">\n      <div className="absolute inset-0 bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400"></div>\n      <div className="absolute inset-0 bg-black/20"></div>\n      \n      <div className="relative z-10 text-center px-6 max-w-4xl mx-auto">\n        <h1 className="text-5xl md:text-7xl font-bold text-white mb-6 animate-fade-in">\n          {title || "Welcome to the Future"}\n        </h1>\n        <p className="text-xl md:text-2xl text-white/90 mb-8 animate-fade-in-delay">\n          {subtitle || "Build amazing things with cutting-edge technology"}\n        </p>\n        <button \n          onClick={onCtaClick}\n          className="px-8 py-4 bg-white text-purple-600 font-bold rounded-full text-lg hover:shadow-2xl transform hover:scale-105 transition-all duration-300"\n        >\n          {ctaText || "Get Started"}\n        </button>\n      </div>\n      \n      <div className="absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-white to-transparent"></div>\n    </section>\n  );\n};'}),this.reactBitsComponents.set("form-login",{name:"Login Form",keywords:["form","login","auth","signin","email","password"],code:'const LoginForm = ({ onSubmit }) => {\n  const [formData, setFormData] = React.useState({ email: \'\', password: \'\' });\n  \n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(formData);\n  };\n  \n  return (\n    <form onSubmit={handleSubmit} className="w-full max-w-md mx-auto p-8 bg-white rounded-2xl shadow-xl">\n      <h2 className="text-3xl font-bold text-gray-900 mb-6">Sign In</h2>\n      \n      <div className="mb-4">\n        <label className="block text-gray-700 text-sm font-medium mb-2">Email</label>\n        <input\n          type="email"\n          value={formData.email}\n          onChange={(e) => setFormData({...formData, email: e.target.value})}\n          className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"\n          required\n        />\n      </div>\n      \n      <div className="mb-6">\n        <label className="block text-gray-700 text-sm font-medium mb-2">Password</label>\n        <input\n          type="password"\n          value={formData.password}\n          onChange={(e) => setFormData({...formData, password: e.target.value})}\n          className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"\n          required\n        />\n      </div>\n      \n      <button \n        type="submit"\n        className="w-full py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold rounded-lg hover:shadow-lg transform hover:scale-105 transition-all duration-300"\n      >\n        Sign In\n      </button>\n    </form>\n  );\n};'}),this.reactBitsComponents.set("navbar-modern",{name:"Modern Navigation Bar",keywords:["nav","navbar","navigation","menu","header"],code:'const NavigationBar = ({ logo, links = [], onLinkClick }) => {\n  const [mobileMenuOpen, setMobileMenuOpen] = React.useState(false);\n  \n  return (\n    <nav className="fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-lg border-b border-gray-200">\n      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n        <div className="flex items-center justify-between h-16">\n          <div className="flex items-center">\n            <div className="text-2xl font-bold text-gray-900">{logo || "Logo"}</div>\n          </div>\n          \n          <div className="hidden md:block">\n            <div className="ml-10 flex items-baseline space-x-4">\n              {links.map((link, index) => (\n                <a\n                  key={index}\n                  href={link.href}\n                  onClick={(e) => { e.preventDefault(); onLinkClick(link); }}\n                  className="px-3 py-2 text-gray-700 hover:text-purple-600 font-medium transition-colors"\n                >\n                  {link.label}\n                </a>\n              ))}\n            </div>\n          </div>\n          \n          <div className="md:hidden">\n            <button\n              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n              className="p-2 rounded-md text-gray-700 hover:text-purple-600"\n            >\n              <svg className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d={mobileMenuOpen ? "M6 18L18 6M6 6l12 12" : "M4 6h16M4 12h16M4 18h16"} />\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n};'}),console.log("\u2705 React Bits components initialized:",this.reactBitsComponents.size)}async initialize(){return this.isInitialized=!0,!0}extractStyleSpecs(e){const t=e.toLowerCase(),n={};t.includes("circular")||t.includes("round")?n.shape="circular":t.includes("square")?n.shape="square":t.includes("rounded")&&(n.shape="rounded");const r=e.match(/\b(red|orange|yellow|green|blue|purple|pink|black|white|gray|grey|teal|cyan|indigo|gradient)\b/gi);return r&&(n.colors=r.map(e=>e.toLowerCase())),t.includes("large")||t.includes("big")?n.size="large":(t.includes("small")||t.includes("tiny"))&&(n.size="small"),n.effects=[],(t.includes("floating")||t.includes("float"))&&n.effects.push("floating"),t.includes("glow")&&n.effects.push("glow"),t.includes("shadow")&&n.effects.push("shadow"),n}findBestComponent(e){const t=e.toLowerCase(),n=t.split(/\s+/);let r=null,s=0;return this.reactBitsComponents.forEach((e,o)=>{let i=0;t.includes("glow")&&"button-glow"===o&&(i+=10),e.keywords.forEach(e=>{n.includes(e)&&(i+=2),t.includes(e)&&(i+=1)}),i>s&&(s=i,r={...e,key:o})}),s>0?r:null}async generateVariations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2?arguments[2]:void 0;try{null===n||void 0===n||n({status:"generating",message:`\ud83c\udfa8 Generating ${t} component variations...`});const r=await fetch("/api/magic/generate-variations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e.message,searchQuery:e.searchQuery,currentFile:e.currentFilePath,count:t})});if(!r.ok)throw new Error("Variations API unavailable");const s=await r.json();return null===n||void 0===n||n({status:"complete",message:`\ud83c\udf89 Generated ${s.total} variations successfully!`}),{success:!0,variations:s.variations.map(e=>({id:e.id,code:e.code,name:e.name,explanation:e.explanation,metadata:e.metadata,variationIndex:e.variationIndex,generatedAt:e.generatedAt,note:e.note})),total:s.total,prompt:s.prompt,generatedAt:s.generatedAt}}catch(r){console.error("Variations generation failed:",r),null===n||void 0===n||n({status:"error",message:`\u274c Variations failed: ${r instanceof Error?r.message:"Unknown error"}`});const t=await this.generateComponent(e,n);return{success:!0,variations:[{id:1,code:t.componentCode,name:t.name,explanation:t.explanation||"Single component fallback",metadata:t.metadata,variationIndex:0,generatedAt:(new Date).toISOString(),note:"Fallback to single component due to variations API error"}],total:1,prompt:e.message,generatedAt:(new Date).toISOString()}}}async generateContextAwareComponent(e,t){try{var n,r,s;null===t||void 0===t||t({status:"generating",message:"\ud83d\udd0d Analyzing project context..."}),this.contextInsights||(this.contextInsights=await ss.getOrAnalyzeContext());const o=ss.generateContextualSuggestions(e.message,this.contextInsights);null===t||void 0===t||t({status:"generating",message:"\ud83c\udfaf Applying project-specific patterns..."});const i=await this.generateEnhancedComponent(e,this.contextInsights,o,t);return i.metadata={source:(null===(n=i.metadata)||void 0===n?void 0:n.source)||"Context-Aware Generator",timestamp:(null===(r=i.metadata)||void 0===r?void 0:r.timestamp)||(new Date).toISOString(),searchQuery:(null===(s=i.metadata)||void 0===s?void 0:s.searchQuery)||e.message,...i.metadata,contextAware:!0,frameworkUsage:this.contextInsights.frameworkUsage,stylingApproach:this.contextInsights.commonPatterns.stylingApproach,compatibilityScore:this.contextInsights.recommendations.compatibilityScore,appliedSuggestions:o},i}catch(o){return console.warn("\u26a0\ufe0f Context-aware generation failed, falling back to standard generation:",o),this.generateComponent(e,t)}}async generateEnhancedComponent(e,t,n,r){const s=this.findBestComponentWithContext(e.message,t);if(s){null===r||void 0===r||r({status:"generating",message:`\u2728 Enhancing ${s.name} with project context...`});const o=this.applyContextEnhancements(s.code,t,e.message);return is.addComponent(o,e.message,{type:s.name.toLowerCase(),category:this.categorizeComponent(e.message),customizations:{contextAware:!0,frameworkUsage:t.frameworkUsage,compatibilityScore:t.recommendations.compatibilityScore}}),{success:!0,componentCode:o,name:s.name,explanation:`Context-aware ${s.name} optimized for your project`,metadata:{source:"React Bits Library (Context Enhanced)",searchQuery:e.message,timestamp:(new Date).toISOString(),enhancements:n}}}return this.createContextAwareComponent(e,t)}applyContextEnhancements(e,t,n){let r=e;if(t.designSystem.colorPalette.length>0){const e=t.designSystem.colorPalette.find(e=>e.includes("blue"))||t.designSystem.colorPalette[0],n=t.designSystem.colorPalette.find(e=>e.includes("purple"))||t.designSystem.colorPalette[1];r=r.replace(/purple-500/g,e),r=r.replace(/pink-500/g,n)}if(t.designSystem.spacing.length>0){t.designSystem.spacing[0]}if(t.designSystem.borderRadius.length>0){const e=t.designSystem.borderRadius.find(e=>e.includes("lg"))||t.designSystem.borderRadius[0];r=r.replace(/rounded-lg/g,e)}return t.frameworkUsage.typescript&&r.includes("interface"),r}findBestComponentWithContext(e,t){var n;e.toLowerCase();const r=this.findBestComponent(e);if(!r)return null;let s=0;const o=r.key.split("-")[0];return(null===(n=t.existingComponents[o])||void 0===n?void 0:n.length)>0&&(s+=2),t.frameworkUsage.tailwindcss&&r.code.includes("className")&&(s+=1),r}createContextAwareComponent(e,t){const n=this.generateComponentName(e.message),r=this.generateContextAwareCode(n,e.message,t);return is.addComponent(r,e.message,{type:n.toLowerCase(),category:this.categorizeComponent(e.message),customizations:{contextAware:!0,frameworkUsage:t.frameworkUsage,compatibilityScore:t.recommendations.compatibilityScore}}),{success:!0,componentCode:r,name:n,explanation:`Context-aware component optimized for your ${t.frameworkUsage.typescript?"TypeScript ":""}React project`,metadata:{source:"Context-Aware Generator",searchQuery:e.message,timestamp:(new Date).toISOString(),contextScore:t.recommendations.compatibilityScore}}}generateContextAwareCode(e,t,n){const r=t.toLowerCase().includes("button"),s=t.toLowerCase().includes("card"),o=(n.designSystem.colorPalette.find(e=>e.includes("blue")),n.designSystem.colorPalette.find(e=>e.includes("purple")),n.designSystem.colorPalette.find(e=>e.includes("gray-900"))||"gray-900"),i=n.designSystem.spacing.find(e=>e.includes("px-6"))||"px-6 py-3",a=n.designSystem.borderRadius.find(e=>e.includes("lg"))||"rounded-lg";return r?`// React component (no imports needed for preview)\n\nconst ${e} = ({ \n  children = "Click Me", \n  onClick, \n  className = "",\n  variant = 'primary',\n  size = 'md',\n  disabled = false\n}) => {\n  const baseClasses = "font-medium transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2";\n  \n  const sizeClasses = {\n    sm: "px-4 py-2 text-sm",\n    md: "${i} text-base",\n    lg: "px-8 py-4 text-lg"\n  };\n  \n  const variantClasses = {\n    primary: \`bg-\${primaryColor.replace('-', '-')} hover:bg-\${primaryColor.replace(/\\d+/, m => String(Number(m) + 100))} text-white focus:ring-\${primaryColor.split('-')[0]}-500\`,\n    secondary: \`bg-\${secondaryColor.replace('-', '-')} hover:bg-\${secondaryColor.replace(/\\d+/, m => String(Number(m) + 100))} text-white focus:ring-\${secondaryColor.split('-')[0]}-500\`,\n    outline: \`border-2 border-\${primaryColor.replace('-', '-')} text-\${primaryColor.replace('-', '-')} hover:bg-\${primaryColor.replace('-', '-')} hover:text-white focus:ring-\${primaryColor.split('-')[0]}-500\`\n  };\n\n  return (\n    <button\n      onClick={onClick}\n      disabled={disabled}\n      className={\`\${baseClasses} \${sizeClasses[size]} \${variantClasses[variant]} ${a} \${disabled ? 'opacity-50 cursor-not-allowed' : 'hover:shadow-lg transform hover:scale-105'} \${className}\`}\n    >\n      {children}\n    </button>\n  );\n};\n\nexport default ${e};`:s?`// React component (no imports needed for preview)\n\nconst ${e} = ({ \n  title,\n  children,\n  className = "",\n  shadow = 'lg',\n  padding = 'md'\n}) => {\n  const shadowClasses = {\n    sm: 'shadow-sm',\n    md: 'shadow-md', \n    lg: 'shadow-lg',\n    xl: 'shadow-xl'\n  };\n  \n  const paddingClasses = {\n    sm: 'p-4',\n    md: 'p-6',\n    lg: 'p-8'\n  };\n\n  return (\n    <div className={\`bg-white ${a} border border-gray-200 \${shadowClasses[shadow]} \${paddingClasses[padding]} \${className}\`}>\n      {title && (\n        <h3 className="text-xl font-semibold text-${o} mb-4">\n          {title}\n        </h3>\n      )}\n      <div className="text-gray-600">\n        {children || "Card content goes here"}\n      </div>\n    </div>\n  );\n};\n\nexport default ${e};`:this.generateBasicComponentCode(e,t)}async generateComponent(e,t){if(this.contextInsights)return this.generateContextAwareComponent(e,t);try{null===t||void 0===t||t({status:"generating",message:"\ud83d\udd0d Searching React Bits library..."});const n=this.findBestComponent(e.message);if(n)return null===t||void 0===t||t({status:"generating",message:`\u2728 Found matching component: ${n.name}`}),await new Promise(e=>setTimeout(e,500)),{success:!0,componentCode:n.code,name:n.name,explanation:`Generated from React Bits library: ${n.name}`,metadata:{source:"React Bits Library",searchQuery:e.message,timestamp:(new Date).toISOString()}};null===t||void 0===t||t({status:"generating",message:"\ud83e\udd16 Generating with AI..."});const r=await this.callBackendAPI(e,t);return r.success?r:this.createFallbackComponent(e)}catch(n){console.error("Magic component generation failed:",n);const r=n instanceof Error?n.message:"Unknown error occurred";return null===t||void 0===t||t({status:"error",message:`Magic generation failed: ${r}`}),this.createFallbackComponent(e)}}async callBackendAPI(e,t){try{var n,r;const t=await fetch("/api/magic/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e.message,searchQuery:e.searchQuery,currentFile:e.currentFilePath})});if(!t.ok)throw new Error("Backend API unavailable");const s=await t.json();return{success:!0,componentCode:s.code,name:s.name,explanation:s.explanation,metadata:{source:s.source||"AI Generation",searchQuery:e.searchQuery,timestamp:(new Date).toISOString(),componentType:null===(n=s.metadata)||void 0===n?void 0:n.componentType,quality:null===(r=s.metadata)||void 0===r?void 0:r.quality}}}catch(s){throw console.warn("Backend API call failed, using fallback:",s),s}}createFallbackComponent(e){const t=this.generateComponentName(e.message);return{success:!0,componentCode:this.generateBasicComponentCode(t,e.message),name:t,explanation:"Basic component template",metadata:{source:"Fallback Generator",searchQuery:e.searchQuery,timestamp:(new Date).toISOString()}}}generateComponentName(e){const t=e.replace(/[^a-zA-Z0-9\s]/g,"").split(/\s+/).filter(e=>e.length>0);if(0===t.length)return"CustomComponent";const n=t.map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join("");return/^[A-Z]/.test(n)?n:"Custom"+n}generateBasicComponentCode(e,t){const n=t.toLowerCase().includes("button"),r=t.toLowerCase().includes("card"),s=(t.toLowerCase().includes("form"),t.toLowerCase().includes("pricing")||t.toLowerCase().includes("price")),o=t.toLowerCase().includes("table"),i=t.toLowerCase().includes("hero")||t.toLowerCase().includes("banner")||t.toLowerCase().includes("landing"),a=this.extractStyleSpecs(t);if(n){var l,c,u;let t="from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600";a.colors&&(a.colors.includes("orange")?t="from-orange-400 to-orange-600 hover:from-orange-500 hover:to-orange-700":a.colors.includes("yellow")?t="from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700":a.colors.includes("blue")?t="from-blue-400 to-blue-600 hover:from-blue-500 hover:to-blue-700":a.colors.includes("green")?t="from-green-400 to-green-600 hover:from-green-500 hover:to-green-700":a.colors.includes("red")?t="from-red-400 to-red-600 hover:from-red-500 hover:to-red-700":a.colors.includes("gray")||a.colors.includes("grey")?t="from-gray-400 to-gray-600 hover:from-gray-500 hover:to-gray-700":a.colors.includes("teal")?t="from-teal-400 to-teal-600 hover:from-teal-500 hover:to-teal-700":a.colors.includes("indigo")?t="from-indigo-400 to-indigo-600 hover:from-indigo-500 hover:to-indigo-700":a.colors.includes("cyan")&&(t="from-cyan-400 to-cyan-600 hover:from-cyan-500 hover:to-cyan-700"));let n="rounded-lg";"circular"===a.shape?n="rounded-full":"square"===a.shape&&(n="rounded-none");let r="px-6 py-3 text-base";"large"===a.size?r="px-10 py-5 text-lg":"small"===a.size&&(r="px-4 py-2 text-sm");let s="transition-all duration-300 transform hover:scale-105";return null!==(l=a.effects)&&void 0!==l&&l.includes("floating")&&(s+=" animate-bounce"),null!==(c=a.effects)&&void 0!==c&&c.includes("glow")&&(s+=" shadow-lg hover:shadow-2xl"),"circular"===a.shape&&null!==(u=a.effects)&&void 0!==u&&u.includes("floating")?`const ${e} = ({ \n  children = "\u2728", \n  onClick, \n  className = "" \n}) => {\n  const [isHovered, setIsHovered] = React.useState(false);\n  \n  return (\n    <button\n      onClick={onClick}\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      className={\`fixed bottom-8 right-8 w-16 h-16 bg-gradient-to-br ${t} text-white font-bold ${n} shadow-2xl transition-all duration-300 transform \${isHovered ? 'scale-110 rotate-12' : 'scale-100 rotate-0'} \${className}\`}\n      style={{\n        animation: 'float 3s ease-in-out infinite'\n      }}\n    >\n      <span className="text-2xl">{children}</span>\n      <style jsx>{\`\n        @keyframes float {\n          0%, 100% { transform: translateY(0px); }\n          50% { transform: translateY(-10px); }\n        }\n      \`}</style>\n    </button>\n  );\n};\n\nexport default ${e};`:`// React component (no imports needed for preview)\n\nconst ${e} = ({ \n  children = "Click Me", \n  onClick, \n  className = "" \n}) => {\n  return (\n    <button\n      onClick={onClick}\n      className={\`${r} bg-gradient-to-r ${t} text-white font-medium ${n} ${s} \${className}\`}\n    >\n      {children}\n    </button>\n  );\n};\n\nexport default ${e};`}if(r)return`// React component (no imports needed for preview)\n\nconst ${e} = ({ \n  title = "Card Title",\n  children,\n  className = "" \n}) => {\n  return (\n    <div className={\`bg-white rounded-xl border border-gray-200 shadow-lg p-6 \${className}\`}>\n      {title && (\n        <h3 className="text-xl font-semibold text-gray-900 mb-4">\n          {title}\n        </h3>\n      )}\n      <div className="text-gray-600">\n        {children || "Card content goes here"}\n      </div>\n    </div>\n  );\n};\n\nexport default ${e};`;if(s||o&&t.toLowerCase().includes("plan")){const n=t.toLowerCase().includes("modern")||t.toLowerCase().includes("creative"),r=t.toLowerCase().includes("dark")||t.toLowerCase().includes("alternative"),s=t.toLowerCase().includes("compact")||t.toLowerCase().includes("small");let o,i,a,l;return t.toLowerCase().includes("enterprise")||t.toLowerCase().includes("business")?(o=[{name:"Starter",price:"$49",period:"/month",features:["Up to 10 users","5GB storage","Basic support","Core features"],buttonText:"Start Free Trial"},{name:"Professional",price:"$149",period:"/month",features:["Up to 100 users","50GB storage","Priority support","Advanced analytics","API access"],popular:!0,buttonText:"Get Started"},{name:"Enterprise",price:"$499",period:"/month",features:["Unlimited users","Unlimited storage","24/7 dedicated support","Custom integrations","White-label solution","SLA guarantee"],buttonText:"Contact Sales"}],l="Enterprise Solutions"):s?(o=[{name:"Basic",price:"$5",period:"/mo",features:["5 projects","1GB storage","Email support"],buttonText:"Start"},{name:"Pro",price:"$15",period:"/mo",features:["Unlimited projects","10GB storage","Priority support","Analytics"],popular:!0,buttonText:"Upgrade"}],l="Simple Pricing"):(o=[{name:"Hobby",price:"$9",period:"/month",features:["5 Projects","10GB Storage","Community Support","Basic Templates"],buttonText:"Get Started"},{name:"Creator",price:"$29",period:"/month",features:["Unlimited Projects","100GB Storage","Priority Support","Premium Templates","Custom Domains"],popular:!0,buttonText:"Start Creating"},{name:"Team",price:"$99",period:"/month",features:["Everything in Creator","Team Collaboration","Advanced Analytics","Custom Branding","API Access","24/7 Support"],buttonText:"Try Team Plan"}],l="Choose Your Creative Plan"),r?(i="bg-gradient-to-br from-gray-900 to-black",a="bg-gray-800 text-white border-gray-700"):n?(i="bg-gradient-to-br from-purple-50 via-blue-50 to-cyan-50",a="bg-white/80 backdrop-blur-sm border-white/20"):(i="bg-gradient-to-br from-slate-50 to-blue-50",a="bg-white"),`const ${e} = ({ className = "", plans = ${JSON.stringify(o)} }) => {\n  const [selectedPlan, setSelectedPlan] = React.useState(null);\n  \n  const isDark = ${r};\n  const bgClassName = "${i}";\n  const cardClassName = "${a}";\n  const titleText = "${l}";\n\n  return React.createElement('div', {\n    className: 'py-12 px-4 ' + bgClassName + ' ' + (className || '')\n  }, \n    React.createElement('div', { className: 'max-w-7xl mx-auto' },\n      React.createElement('div', { className: 'text-center mb-12' },\n        React.createElement('h2', { \n          className: 'text-4xl font-bold mb-4 ' + (isDark ? 'text-white' : 'text-gray-900')\n        }, titleText),\n        React.createElement('p', { \n          className: 'text-xl ' + (isDark ? 'text-gray-300' : 'text-gray-600')\n        }, 'Select the perfect plan for your needs')\n      ),\n      \n      React.createElement('div', { className: 'grid md:grid-cols-3 gap-8' },\n        plans.map((plan, index) => \n          React.createElement('div', {\n            key: index,\n            className: 'relative ' + cardClassName + ' rounded-2xl shadow-xl transition-all duration-300 hover:shadow-2xl hover:scale-105' + \n              (plan.popular ? ' ring-2 ring-blue-500 ring-opacity-50' : '') +\n              (selectedPlan === plan.name ? ' ring-2 ring-green-500' : ''),\n            onClick: () => setSelectedPlan(plan.name)\n          },\n            plan.popular && React.createElement('div', { \n              className: 'absolute -top-4 left-1/2 transform -translate-x-1/2' \n            },\n              React.createElement('span', { \n                className: 'bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-1 rounded-full text-sm font-semibold'\n              }, 'Most Popular')\n            ),\n            \n            React.createElement('div', { className: 'p-8' },\n              React.createElement('h3', { \n                className: 'text-2xl font-bold mb-2 ' + (isDark ? 'text-white' : 'text-gray-900')\n              }, plan.name),\n              \n              React.createElement('div', { className: 'flex items-baseline mb-6' },\n                React.createElement('span', { \n                  className: 'text-5xl font-bold ' + (isDark ? 'text-white' : 'text-gray-900')\n                }, plan.price),\n                React.createElement('span', { \n                  className: 'text-xl ml-1 ' + (isDark ? 'text-gray-400' : 'text-gray-500')\n                }, plan.period)\n              ),\n              \n              React.createElement('ul', { className: 'space-y-4 mb-8' },\n                plan.features.map((feature, featureIndex) =>\n                  React.createElement('li', { \n                    key: featureIndex, \n                    className: 'flex items-center'\n                  },\n                    React.createElement('svg', { \n                      className: 'w-5 h-5 text-green-500 mr-3',\n                      fill: 'currentColor',\n                      viewBox: '0 0 20 20'\n                    },\n                      React.createElement('path', {\n                        fillRule: 'evenodd',\n                        d: 'M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z',\n                        clipRule: 'evenodd'\n                      })\n                    ),\n                    React.createElement('span', { \n                      className: isDark ? 'text-gray-300' : 'text-gray-700'\n                    }, feature)\n                  )\n                )\n              ),\n              \n              React.createElement('button', {\n                className: 'w-full py-3 px-6 rounded-lg font-semibold transition-all duration-300 ' +\n                  (plan.popular \n                    ? 'bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700'\n                    : 'bg-gray-100 text-gray-900 hover:bg-gray-200')\n              }, plan.buttonText || 'Get Started')\n            )\n          )\n        )\n      ),\n      \n      React.createElement('div', { className: 'text-center mt-12' },\n        React.createElement('p', { \n          className: isDark ? 'text-gray-400' : 'text-gray-600'\n        }, 'All plans include a 30-day money-back guarantee')\n      )\n    )\n  );\n};\n\nexport default ${e};`}if(i){const n=t.toLowerCase().includes("minimal")||t.toLowerCase().includes("simple"),r=t.toLowerCase().includes("dark")||t.toLowerCase().includes("alternative"),s=t.toLowerCase().includes("creative")||t.toLowerCase().includes("modern");let o,i,a;return t.toLowerCase().includes("startup")||t.toLowerCase().includes("tech")?(o={title:"Build the Future with AI",subtitle:"Revolutionary platform that transforms how teams collaborate and innovate",ctaText:"Start Building",secondaryCta:"Watch Demo"},i="bg-gradient-to-br from-blue-900 via-purple-900 to-black",a="text-white"):n?(o={title:"Simple. Powerful. Effective.",subtitle:"The tool you need to get things done",ctaText:"Get Started",secondaryCta:"Learn More"},i="bg-white",a="text-gray-900"):s?(o={title:"Unleash Your Creativity",subtitle:"Design, create, and share your vision with the world",ctaText:"Create Now",secondaryCta:"Explore Gallery"},i="bg-gradient-to-br from-pink-400 via-purple-500 to-indigo-600",a="text-white"):(o={title:"Welcome to Something Amazing",subtitle:"Discover the power of innovation and take your projects to the next level",ctaText:"Get Started",secondaryCta:"Learn More"},i="bg-gradient-to-br from-blue-600 to-purple-700",a="text-white"),r&&(i="bg-gradient-to-br from-gray-900 to-black",a="text-white"),`const ${e} = ({ \n  className = "",\n  title = "${o.title}",\n  subtitle = "${o.subtitle}",\n  ctaText = "${o.ctaText}",\n  secondaryCta = "${o.secondaryCta}",\n  onPrimaryClick,\n  onSecondaryClick\n}) => {\n  const [isHovered, setIsHovered] = React.useState(false);\n  \n  // Component styling based on variant\n  const isDark = ${r};\n  const bgClassName = "${i}";\n  const textClassName = "${a}";\n\n  return (\n    <div className={\`relative min-h-screen flex items-center justify-center \${bgClassName} \${className}\`}>\n      {/* Background Pattern */}\n      <div className="absolute inset-0 opacity-10">\n        <div className="absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.1)_1px,transparent_1px)] bg-[length:50px_50px]"></div>\n      </div>\n      \n      {/* Content */}\n      <div className="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">\n        <div className="max-w-4xl mx-auto">\n          <h1 className={\`text-5xl md:text-7xl font-bold mb-8 leading-tight \${textClassName}\`}>\n            {title}\n          </h1>\n          \n          <p className={\`text-xl md:text-2xl mb-12 max-w-3xl mx-auto leading-relaxed \${\n            isDark ? 'text-gray-300' : textClassName === 'text-white' ? 'text-white/90' : 'text-gray-600'\n          }\`}>\n            {subtitle}\n          </p>\n          \n          <div className="flex flex-col sm:flex-row gap-6 justify-center items-center">\n            <button\n              onClick={onPrimaryClick}\n              onMouseEnter={() => setIsHovered(true)}\n              onMouseLeave={() => setIsHovered(false)}\n              className={\`px-8 py-4 bg-white text-gray-900 font-semibold rounded-full text-lg transition-all duration-300 transform hover:scale-105 hover:shadow-2xl \${\n                isHovered ? 'shadow-2xl scale-105' : 'shadow-xl'\n              }\`}\n            >\n              {ctaText}\n            </button>\n            \n            <button\n              onClick={onSecondaryClick}\n              className={\`px-8 py-4 border-2 \${\n                textClassName === 'text-white' ? 'border-white text-white hover:bg-white hover:text-gray-900' : 'border-gray-900 text-gray-900 hover:bg-gray-900 hover:text-white'\n              } font-semibold rounded-full text-lg transition-all duration-300 hover:scale-105\`}\n            >\n              {secondaryCta}\n            </button>\n          </div>\n        </div>\n        \n        {/* Decorative Elements */}\n        <div className="absolute top-1/4 left-10 w-20 h-20 bg-white/10 rounded-full blur-xl animate-pulse"></div>\n        <div className="absolute bottom-1/4 right-10 w-32 h-32 bg-white/10 rounded-full blur-xl animate-pulse delay-1000"></div>\n        <div className="absolute top-1/2 left-1/4 w-16 h-16 bg-white/5 rounded-full blur-lg animate-bounce"></div>\n      </div>\n      \n      {/* Scroll Indicator */}\n      <div className="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">\n        <div className={\`w-6 h-10 border-2 \${textClassName === 'text-white' ? 'border-white' : 'border-gray-900'} rounded-full flex justify-center\`}>\n          <div className={\`w-1 h-3 \${textClassName === 'text-white' ? 'bg-white' : 'bg-gray-900'} rounded-full mt-2 animate-pulse\`}></div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ${e};`}return`// React component (no imports needed for preview)\n\nconst ${e} = ({ \n  className = "",\n  children \n}) => {\n  return (\n    <div className={\`p-4 bg-gray-50 border border-gray-200 rounded-md \${className}\`}>\n      {children || "${t}"}\n    </div>\n  );\n};\n\nexport default ${e};`}isAvailable(){return this.isInitialized}getStatus(){return{available:!0,initialized:this.isInitialized,connected:!0}}categorizeComponent(e){const t=e.toLowerCase();return t.includes("button")||t.includes("cta")?"buttons":t.includes("form")||t.includes("input")?"forms":t.includes("card")||t.includes("pricing")?"cards":t.includes("nav")||t.includes("menu")?"navigation":t.includes("hero")||t.includes("header")?"heroes":t.includes("modal")||t.includes("dialog")?"modals":"general"}async getContextInsights(){if(!this.contextInsights)try{this.contextInsights=await ss.getOrAnalyzeContext()}catch(e){return console.warn("\u26a0\ufe0f Failed to get context insights:",e),null}return this.contextInsights}async refreshContext(){console.log("\ud83d\udd04 Refreshing project context analysis..."),ss.clearCache(),this.contextInsights=null,await this.initializeContextAnalysis()}async getContextSuggestions(e){const t=await this.getContextInsights();return t?ss.generateContextualSuggestions(e,t):null}},ls=as;const cs=new class{constructor(){this.templates=new Map,this.contextInsights=null,this.initializeTemplates()}initializeTemplates(){this.templates.set("landing-startup",{id:"landing-startup",name:"Startup Landing Page",description:"Modern landing page with hero, features, pricing, and CTA",category:"landing",sections:[{id:"hero",name:"Hero Section",description:"Eye-catching hero with headline and CTA",components:[{id:"hero-main",type:"hero",prompt:"modern hero section with gradient background and animated elements",position:{row:0,column:0,width:12,height:1}}],layout:{type:"flex",columns:1}},{id:"features",name:"Features Section",description:"Key features in a grid layout",components:[{id:"feature-1",type:"card",prompt:'feature card with icon and description for "Fast Performance"',position:{row:0,column:0,width:4,height:1}},{id:"feature-2",type:"card",prompt:'feature card with icon and description for "Secure & Reliable"',position:{row:0,column:4,width:4,height:1}},{id:"feature-3",type:"card",prompt:'feature card with icon and description for "Easy Integration"',position:{row:0,column:8,width:4,height:1}}],layout:{type:"grid",columns:3,gap:"2rem",padding:"4rem 2rem"}},{id:"pricing",name:"Pricing Section",description:"Tiered pricing plans",components:[{id:"pricing-table",type:"pricing",prompt:"modern pricing table with 3 tiers for SaaS startup",position:{row:0,column:0,width:12,height:1}}],layout:{type:"flex",columns:1,padding:"4rem 2rem"}},{id:"cta",name:"Call to Action",description:"Final CTA section",components:[{id:"cta-banner",type:"banner",prompt:'CTA banner with "Start Your Free Trial" message and email signup',position:{row:0,column:0,width:12,height:1}}],layout:{type:"flex",columns:1,padding:"4rem 2rem"}}]}),this.templates.set("dashboard-analytics",{id:"dashboard-analytics",name:"Analytics Dashboard",description:"Data dashboard with charts, metrics, and tables",category:"dashboard",sections:[{id:"header",name:"Dashboard Header",description:"Navigation and user info",components:[{id:"nav-bar",type:"navigation",prompt:"dashboard navigation bar with logo, menu items, and user avatar",position:{row:0,column:0,width:12,height:1}}],layout:{type:"flex",columns:1}},{id:"metrics",name:"Key Metrics",description:"Important KPI cards",components:[{id:"metric-revenue",type:"metric-card",prompt:"metric card showing revenue with trend indicator",position:{row:0,column:0,width:3,height:1}},{id:"metric-users",type:"metric-card",prompt:"metric card showing active users with percentage change",position:{row:0,column:3,width:3,height:1}},{id:"metric-conversion",type:"metric-card",prompt:"metric card showing conversion rate with chart",position:{row:0,column:6,width:3,height:1}},{id:"metric-satisfaction",type:"metric-card",prompt:"metric card showing customer satisfaction score",position:{row:0,column:9,width:3,height:1}}],layout:{type:"grid",columns:4,gap:"1.5rem",padding:"2rem"}},{id:"charts",name:"Data Visualization",description:"Charts and graphs",components:[{id:"chart-line",type:"chart",prompt:"line chart component showing revenue over time",position:{row:0,column:0,width:8,height:1}},{id:"chart-pie",type:"chart",prompt:"pie chart showing traffic sources distribution",position:{row:0,column:8,width:4,height:1}}],layout:{type:"grid",columns:12,gap:"1.5rem",padding:"2rem"}}]}),this.templates.set("ecommerce-products",{id:"ecommerce-products",name:"Product Showcase",description:"E-commerce product listing with filters",category:"ecommerce",sections:[{id:"filters",name:"Filter Sidebar",description:"Product filtering options",components:[{id:"filter-panel",type:"filter",prompt:"product filter sidebar with categories, price range, and ratings",position:{row:0,column:0,width:3,height:1}}],layout:{type:"flex",columns:1}},{id:"products",name:"Product Grid",description:"Product cards in grid",components:[{id:"product-1",type:"product-card",prompt:"product card with image, title, price, and add to cart button",position:{row:0,column:0,width:3,height:1}},{id:"product-2",type:"product-card",prompt:"product card with sale badge and discount price",position:{row:0,column:3,width:3,height:1}},{id:"product-3",type:"product-card",prompt:'product card with "new arrival" label',position:{row:0,column:6,width:3,height:1}},{id:"product-4",type:"product-card",prompt:"product card with customer rating stars",position:{row:0,column:9,width:3,height:1}}],layout:{type:"grid",columns:4,gap:"2rem",padding:"2rem"}}]}),console.log("\u2705 Page templates initialized:",this.templates.size)}async generatePage(e,t,n){try{var r,s;const i=this.templates.get(e);if(!i)throw new Error(`Template '${e}' not found`);null===n||void 0===n||n(`Starting page generation: ${i.name}`,0),this.contextInsights=await ss.getOrAnalyzeContext();const a=[],l=i.sections.length;let c=0;for(const e of i.sections){var o;null===n||void 0===n||n(`Generating ${e.name}...`,c/l*100);const r=await this.generateSection(e,null===t||void 0===t?void 0:t.theme,null===t||void 0===t||null===(o=t.sectionOverrides)||void 0===o?void 0:o[e.id]);a.push(r),c++}null===n||void 0===n||n("Combining page components...",90);const u=this.combinePageSections(a,i,null===t||void 0===t?void 0:t.theme);return null===n||void 0===n||n("Page generation complete!",100),{success:!0,sections:a,fullPageCode:u,metadata:{template:e,componentCount:a.reduce((e,t)=>e+t.components.length,0),generatedAt:(new Date).toISOString(),contextScore:null===(r=this.contextInsights)||void 0===r?void 0:r.recommendations.compatibilityScore,appliedTheme:null===t||void 0===t||null===(s=t.theme)||void 0===s?void 0:s.style}}}catch(i){throw console.error("Page generation failed:",i),i}}async generateSection(e,t,n){const r={...e,...n},s=[];for(const a of r.components){const e=await this.generateComponent(a,t);s.push(e)}const o=this.generateLayoutCode(r.layout,s,r),i=this.combineSectionComponents(s,o,r);return{sectionId:r.id,name:r.name,components:s,layoutCode:o,combinedCode:i}}async generateComponent(e,t){let n=e.prompt;t&&(n=this.applyThemeToPrompt(n,t));const r={message:n,searchQuery:e.type},s=await ls.generateComponent(r);return s.metadata&&(s.metadata.componentType=e.type),s}applyThemeToPrompt(e,t){let n=e;return t.style&&(n=`${e} with ${t.style} style`),t.primaryColor&&(n+=` using ${t.primaryColor} as primary color`),t.secondaryColor&&(n+=` and ${t.secondaryColor} as secondary color`),n}generateLayoutCode(e,t,n){const{type:r,columns:s=1,rows:o=1,gap:i="1rem",padding:a="2rem"}=e;return"grid"===r?`\nconst ${n.id}Layout = ({ children }) => {\n  return (\n    <div className="grid grid-cols-${s} gap-${i.replace("rem","")} p-${a.replace("rem","")}" id="${n.id}">\n      {children}\n    </div>\n  );\n};`:"flex"===r?`\nconst ${n.id}Layout = ({ children }) => {\n  return (\n    <div className="flex flex-col gap-${i.replace("rem","")} p-${a.replace("rem","")}" id="${n.id}">\n      {children}\n    </div>\n  );\n};`:`\nconst ${n.id}Layout = ({ children }) => {\n  return (\n    <div className="relative p-${a.replace("rem","")}" id="${n.id}">\n      {children}\n    </div>\n  );\n};`}combineSectionComponents(e,t,n){const r=e.map(e=>`// ${e.name} component code here`).join("\n"),s=e.map(e=>`      <${e.name} />`).join("\n");return`\n// Section: ${n.name}\n${r}\n\n${t}\n\nconst ${n.id}Section = () => {\n  return (\n    <${n.id}Layout>\n${s}\n    </${n.id}Layout>\n  );\n};\n\nexport default ${n.id}Section;`}combinePageSections(e,t,n){const r=e.map(e=>`import ${e.sectionId}Section from './${e.sectionId}';`).join("\n"),s=e.map(e=>`      <${e.sectionId}Section />`).join("\n");return`import React from 'react';\n${r}\n\nconst ${t.name.replace(/\s+/g,"")}Page = () => {\n  return (\n    <div className="min-h-screen ${null!==n&&void 0!==n&&n.style?`theme-${n.style}`:""}">\n${s}\n    </div>\n  );\n};\n\nexport default ${t.name.replace(/\s+/g,"")}Page;`}getTemplates(){return Array.from(this.templates.values())}getTemplate(e){return this.templates.get(e)}createCustomTemplate(e){this.templates.set(e.id,e),console.log(`\u2705 Custom template '${e.name}' created`)}async generateSectionPreview(e,t){const n={hero:{id:"hero-preview",name:"Hero Section",description:"Hero section preview",components:[{id:"hero-main",type:"hero",prompt:"modern hero section with headline and CTA",position:{row:0,column:0,width:12,height:1}}],layout:{type:"flex",columns:1}},features:{id:"features-preview",name:"Features Section",description:"Features section preview",components:[{id:"feature-1",type:"feature-card",prompt:"feature card with icon",position:{row:0,column:0,width:4,height:1}},{id:"feature-2",type:"feature-card",prompt:"feature card with icon",position:{row:0,column:4,width:4,height:1}},{id:"feature-3",type:"feature-card",prompt:"feature card with icon",position:{row:0,column:8,width:4,height:1}}],layout:{type:"grid",columns:3,gap:"2rem"}},pricing:{id:"pricing-preview",name:"Pricing Section",description:"Pricing section preview",components:[{id:"pricing-table",type:"pricing",prompt:"pricing table with 3 tiers",position:{row:0,column:0,width:12,height:1}}],layout:{type:"flex",columns:1}},testimonials:{id:"testimonials-preview",name:"Testimonials Section",description:"Testimonials section preview",components:[{id:"testimonial-1",type:"testimonial",prompt:"testimonial card with quote and author",position:{row:0,column:0,width:4,height:1}},{id:"testimonial-2",type:"testimonial",prompt:"testimonial card with rating",position:{row:0,column:4,width:4,height:1}},{id:"testimonial-3",type:"testimonial",prompt:"testimonial card with company logo",position:{row:0,column:8,width:4,height:1}}],layout:{type:"grid",columns:3,gap:"2rem"}},footer:{id:"footer-preview",name:"Footer Section",description:"Footer section preview",components:[{id:"footer-main",type:"footer",prompt:"footer with links, social media, and copyright",position:{row:0,column:0,width:12,height:1}}],layout:{type:"flex",columns:1}}}[e];if(!n)throw new Error(`Unknown section type: ${e}`);return this.generateSection(n,t)}},us=e=>{let{isVisible:n,onClose:r,onAccept:s}=e;const[o,i]=(0,t.useState)([]),[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[d,p]=(0,t.useState)(null),[h,m]=(0,t.useState)({message:"",value:0}),[f,g]=(0,t.useState)("templates"),[y,v]=(0,t.useState)({style:"modern",primaryColor:"#3b82f6",secondaryColor:"#10b981"});(0,t.useEffect)(()=>{n&&b()},[n]);const b=()=>{const e=cs.getTemplates();i(e),e.length>0&&!a&&l(e[0].id)};return n?(0,Ee.jsx)("div",{className:"page-builder-overlay",children:(0,Ee.jsxs)("div",{className:"page-builder-container",children:[(0,Ee.jsxs)("div",{className:"page-builder-header",children:[(0,Ee.jsxs)("div",{className:"header-content",children:[(0,Ee.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"\ud83c\udfd7\ufe0f Page Builder"}),(0,Ee.jsx)("p",{className:"text-gray-600",children:"Generate complete page sections with multiple components"})]}),(0,Ee.jsx)("button",{onClick:r,className:"close-button",title:"Close",children:"\u2715"})]}),(0,Ee.jsxs)("div",{className:"tab-navigation",children:[(0,Ee.jsx)("button",{onClick:()=>g("templates"),className:"tab-button "+("templates"===f?"active":""),children:"\ud83d\udccb Templates"}),(0,Ee.jsx)("button",{onClick:()=>g("preview"),className:"tab-button "+("preview"===f?"active":""),disabled:!d,children:"\ud83d\udc41\ufe0f Preview"}),(0,Ee.jsx)("button",{onClick:()=>g("code"),className:"tab-button "+("code"===f?"active":""),disabled:!d,children:"\ud83d\udd27 Code"})]}),(0,Ee.jsxs)("div",{className:"page-builder-content",children:["templates"===f&&(0,Ee.jsxs)("div",{className:"templates-view",children:[(0,Ee.jsx)("div",{className:"template-grid",children:o.map(e=>{return(0,Ee.jsxs)("div",{onClick:()=>l(e.id),className:"template-card "+(a===e.id?"selected":""),children:[(0,Ee.jsx)("div",{className:"template-icon",children:(t=e.category,{landing:"\ud83d\ude80",dashboard:"\ud83d\udcca",ecommerce:"\ud83d\udecd\ufe0f",portfolio:"\ud83c\udfa8",blog:"\ud83d\udcdd"}[t]||"\ud83d\udcc4")}),(0,Ee.jsx)("h3",{className:"template-name",children:e.name}),(0,Ee.jsx)("p",{className:"template-description",children:e.description}),(0,Ee.jsx)("div",{className:"template-sections",children:e.sections.map(e=>(0,Ee.jsx)("span",{className:"section-badge",children:e.name},e.id))})]},e.id);var t})}),(0,Ee.jsxs)("div",{className:"theme-customization",children:[(0,Ee.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\ud83c\udfa8 Theme Settings"}),(0,Ee.jsxs)("div",{className:"theme-controls",children:[(0,Ee.jsxs)("div",{className:"control-group",children:[(0,Ee.jsx)("label",{className:"control-label",children:"Style"}),(0,Ee.jsxs)("select",{value:y.style,onChange:e=>v({...y,style:e.target.value}),className:"theme-select",children:[(0,Ee.jsx)("option",{value:"modern",children:"Modern"}),(0,Ee.jsx)("option",{value:"minimal",children:"Minimal"}),(0,Ee.jsx)("option",{value:"corporate",children:"Corporate"}),(0,Ee.jsx)("option",{value:"creative",children:"Creative"})]})]}),(0,Ee.jsxs)("div",{className:"control-group",children:[(0,Ee.jsx)("label",{className:"control-label",children:"Primary Color"}),(0,Ee.jsxs)("div",{className:"color-input-group",children:[(0,Ee.jsx)("input",{type:"color",value:y.primaryColor,onChange:e=>v({...y,primaryColor:e.target.value}),className:"color-picker"}),(0,Ee.jsx)("input",{type:"text",value:y.primaryColor,onChange:e=>v({...y,primaryColor:e.target.value}),className:"color-text"})]})]}),(0,Ee.jsxs)("div",{className:"control-group",children:[(0,Ee.jsx)("label",{className:"control-label",children:"Secondary Color"}),(0,Ee.jsxs)("div",{className:"color-input-group",children:[(0,Ee.jsx)("input",{type:"color",value:y.secondaryColor,onChange:e=>v({...y,secondaryColor:e.target.value}),className:"color-picker"}),(0,Ee.jsx)("input",{type:"text",value:y.secondaryColor,onChange:e=>v({...y,secondaryColor:e.target.value}),className:"color-text"})]})]})]})]})]}),"preview"===f&&d&&(0,Ee.jsx)("div",{className:"preview-view",children:(0,Ee.jsxs)("div",{className:`preview-container ${{modern:"bg-gradient-to-br from-blue-50 to-purple-50",minimal:"bg-gray-50",corporate:"bg-slate-100",creative:"bg-gradient-to-br from-pink-50 to-orange-50"}[y.style||"modern"]||""}`,children:[(0,Ee.jsx)("div",{className:"preview-sections",children:d.sections.map(e=>(0,Ee.jsxs)("div",{className:"preview-section",children:[(0,Ee.jsxs)("div",{className:"section-header",children:[(0,Ee.jsx)("h4",{className:"section-title",children:e.name}),(0,Ee.jsxs)("span",{className:"component-count",children:[e.components.length," components"]})]}),(0,Ee.jsx)("div",{className:"section-preview",children:(0,Ee.jsxs)("div",{className:"preview-placeholder",children:[(0,Ee.jsxs)("p",{children:["Section: ",e.name]}),(0,Ee.jsxs)("p",{children:["Components: ",e.components.map(e=>e.name).join(", ")]})]})})]},e.sectionId))}),(0,Ee.jsxs)("div",{className:"preview-metadata",children:[(0,Ee.jsxs)("div",{className:"metadata-item",children:[(0,Ee.jsx)("span",{className:"metadata-label",children:"Template:"}),(0,Ee.jsx)("span",{className:"metadata-value",children:d.metadata.template})]}),(0,Ee.jsxs)("div",{className:"metadata-item",children:[(0,Ee.jsx)("span",{className:"metadata-label",children:"Components:"}),(0,Ee.jsx)("span",{className:"metadata-value",children:d.metadata.componentCount})]}),(0,Ee.jsxs)("div",{className:"metadata-item",children:[(0,Ee.jsx)("span",{className:"metadata-label",children:"Theme:"}),(0,Ee.jsx)("span",{className:"metadata-value",children:d.metadata.appliedTheme||"Default"})]})]})]})}),"code"===f&&d&&(0,Ee.jsxs)("div",{className:"code-view",children:[(0,Ee.jsxs)("div",{className:"code-header",children:[(0,Ee.jsx)("span",{className:"code-filename",children:"Page.tsx"}),(0,Ee.jsx)("button",{onClick:()=>navigator.clipboard.writeText(d.fullPageCode),className:"copy-button",children:"\ud83d\udccb Copy"})]}),(0,Ee.jsx)("pre",{className:"code-content",children:(0,Ee.jsx)("code",{children:d.fullPageCode})})]})]}),c&&(0,Ee.jsxs)("div",{className:"progress-bar",children:[(0,Ee.jsx)("div",{className:"progress-message",children:h.message}),(0,Ee.jsx)("div",{className:"progress-track",children:(0,Ee.jsx)("div",{className:"progress-fill",style:{width:`${h.value}%`}})})]}),(0,Ee.jsxs)("div",{className:"page-builder-actions",children:[(0,Ee.jsx)("button",{onClick:async()=>{if(a){u(!0),m({message:"Initializing...",value:0});try{const e=await cs.generatePage(a,{theme:y},(e,t)=>{m({message:e,value:t})});p(e),g("preview")}catch(e){console.error("Page generation failed:",e),m({message:"Generation failed",value:0})}finally{u(!1)}}},disabled:!a||c,className:"action-button primary",children:c?"\u27f3 Generating...":"\ud83c\udfa8 Generate Page"}),(0,Ee.jsxs)("div",{className:"action-group",children:[(0,Ee.jsx)("button",{onClick:r,className:"action-button outline",children:"Cancel"}),(0,Ee.jsx)("button",{onClick:()=>{d&&(s(d.fullPageCode),r())},disabled:!d,className:"action-button primary",children:"\u2705 Accept & Insert"})]})]})]})}):null},ds=e=>{let{isVisible:n,onClose:r,onSelectComponent:s}=e;const[o,i]=(0,t.useState)([]),[a,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(""),[d,p]=(0,t.useState)("all"),[h,m]=(0,t.useState)("grid"),[f,g]=(0,t.useState)("all"),[y,v]=(0,t.useState)(null),[b,x]=(0,t.useState)(null);(0,t.useEffect)(()=>{n&&w()},[n]);const w=()=>{i(is.getAllComponents()),l(is.getAllCollections()),x(is.getStatistics())},C=()=>{let e=o;return"favorites"===f&&(e=is.getFavoriteComponents()),"all"!==d&&(e=e.filter(e=>e.metadata.category===d)),c&&(e=is.searchComponents(c)),e},k=e=>{const t=is.exportComponent(e);if(t){const n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=`component_${e}.json`,s.click(),URL.revokeObjectURL(r)}},S=e=>{s(e.code),r()},j=e=>new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(Math.ceil((e.getTime()-Date.now())/864e5),"day");return n?(0,Ee.jsx)("div",{className:"component-library-overlay",children:(0,Ee.jsxs)("div",{className:"component-library-container",children:[(0,Ee.jsxs)("div",{className:"library-header",children:[(0,Ee.jsxs)("div",{className:"header-content",children:[(0,Ee.jsx)("h2",{children:"\ud83d\udcda Component Library"}),(0,Ee.jsx)("p",{children:"Browse and manage your generated components"})]}),(0,Ee.jsx)("button",{onClick:r,className:"close-button",children:"\xd7"})]}),(0,Ee.jsxs)("div",{className:"library-tabs",children:[(0,Ee.jsxs)("button",{className:"tab-button "+("all"===f?"active":""),onClick:()=>g("all"),children:["\ud83d\udccb All Components (",o.length,")"]}),(0,Ee.jsxs)("button",{className:"tab-button "+("favorites"===f?"active":""),onClick:()=>g("favorites"),children:["\u2b50 Favorites (",o.filter(e=>e.stats.favorite).length,")"]}),(0,Ee.jsxs)("button",{className:"tab-button "+("collections"===f?"active":""),onClick:()=>g("collections"),children:["\ud83d\udcc1 Collections (",a.length,")"]}),(0,Ee.jsx)("button",{className:"tab-button "+("statistics"===f?"active":""),onClick:()=>g("statistics"),children:"\ud83d\udcca Statistics"})]}),"statistics"!==f&&(0,Ee.jsxs)("div",{className:"library-toolbar",children:[(0,Ee.jsxs)("div",{className:"search-box",children:[(0,Ee.jsx)("span",{className:"search-icon",children:"\ud83d\udd0d"}),(0,Ee.jsx)("input",{type:"text",placeholder:"Search components...",value:c,onChange:e=>u(e.target.value),className:"search-input"})]}),(0,Ee.jsxs)("select",{value:d,onChange:e=>p(e.target.value),className:"category-filter",children:[(0,Ee.jsx)("option",{value:"all",children:"All Categories"}),(()=>{const e=new Set;return o.forEach(t=>e.add(t.metadata.category)),Array.from(e)})().map(e=>(0,Ee.jsx)("option",{value:e,children:e},e))]}),(0,Ee.jsxs)("div",{className:"view-toggle",children:[(0,Ee.jsx)("button",{className:"view-button "+("grid"===h?"active":""),onClick:()=>m("grid"),title:"Grid view",children:"\u229e"}),(0,Ee.jsx)("button",{className:"view-button "+("list"===h?"active":""),onClick:()=>m("list"),title:"List view",children:"\u2630"})]})]}),(0,Ee.jsx)("div",{className:"library-content",children:"all"===f||"favorites"===f?(0,Ee.jsx)("div",{className:`components-${h}`,children:0===C().length?(0,Ee.jsxs)("div",{className:"empty-state",children:[(0,Ee.jsx)("span",{className:"empty-icon",children:"\ud83d\udced"}),(0,Ee.jsx)("p",{children:"No components found"})]}):C().map(e=>(0,Ee.jsxs)("div",{className:`component-item ${h}`,onClick:()=>v(e),children:[(0,Ee.jsx)("div",{className:"component-preview",children:(0,Ee.jsxs)("div",{className:"preview-code",children:[e.code.substring(0,200),"..."]})}),(0,Ee.jsxs)("div",{className:"component-info",children:[(0,Ee.jsx)("h3",{children:e.name}),(0,Ee.jsx)("p",{className:"component-prompt",children:e.prompt}),(0,Ee.jsxs)("div",{className:"component-meta",children:[(0,Ee.jsxs)("span",{className:"meta-item",children:["\ud83c\udff7\ufe0f ",e.metadata.category]}),(0,Ee.jsxs)("span",{className:"meta-item",children:["\ud83d\udcc5 ",j(e.timestamp)]}),e.stats.rating&&(0,Ee.jsxs)("span",{className:"meta-item",children:["\u2b50 ",e.stats.rating]})]}),(0,Ee.jsx)("div",{className:"component-tags",children:e.metadata.tags.map(e=>(0,Ee.jsx)("span",{className:"tag",children:e},e))})]}),(0,Ee.jsxs)("div",{className:"component-actions",children:[(0,Ee.jsx)("button",{onClick:t=>{var n;t.stopPropagation(),n=e.id,is.toggleFavorite(n),w()},className:"action-btn "+(e.stats.favorite?"favorite":""),title:"Toggle favorite",children:e.stats.favorite?"\u2b50":"\u2606"}),(0,Ee.jsx)("button",{onClick:t=>{t.stopPropagation(),S(e)},className:"action-btn",title:"Use this component",children:"\u2197\ufe0f"}),(0,Ee.jsx)("button",{onClick:t=>{t.stopPropagation(),k(e.id)},className:"action-btn",title:"Export component",children:"\ud83d\udcbe"}),(0,Ee.jsx)("button",{onClick:t=>{var n;t.stopPropagation(),n=e.id,window.confirm("Are you sure you want to delete this component?")&&(is.deleteComponent(n),w())},className:"action-btn delete",title:"Delete component",children:"\ud83d\uddd1\ufe0f"})]})]},e.id))}):"collections"===f?(0,Ee.jsx)("div",{className:"collections-view",children:0===a.length?(0,Ee.jsxs)("div",{className:"empty-state",children:[(0,Ee.jsx)("span",{className:"empty-icon",children:"\ud83d\udcc1"}),(0,Ee.jsx)("p",{children:"No collections yet"}),(0,Ee.jsx)("button",{className:"create-collection-btn",children:"+ Create Collection"})]}):a.map(e=>(0,Ee.jsxs)("div",{className:"collection-card",children:[(0,Ee.jsx)("h3",{children:e.name}),(0,Ee.jsx)("p",{children:e.description}),(0,Ee.jsxs)("div",{className:"collection-meta",children:[(0,Ee.jsxs)("span",{children:["\ud83d\udce6 ",e.components.length," components"]}),(0,Ee.jsxs)("span",{children:["\ud83d\udcc5 ",j(e.updatedAt)]})]})]},e.id))}):"statistics"===f&&b?(0,Ee.jsxs)("div",{className:"statistics-view",children:[(0,Ee.jsxs)("div",{className:"stats-grid",children:[(0,Ee.jsxs)("div",{className:"stat-card",children:[(0,Ee.jsx)("div",{className:"stat-value",children:b.totalComponents}),(0,Ee.jsx)("div",{className:"stat-label",children:"Total Components"})]}),(0,Ee.jsxs)("div",{className:"stat-card",children:[(0,Ee.jsx)("div",{className:"stat-value",children:b.favoriteCount}),(0,Ee.jsx)("div",{className:"stat-label",children:"Favorites"})]}),(0,Ee.jsxs)("div",{className:"stat-card",children:[(0,Ee.jsx)("div",{className:"stat-value",children:b.totalCollections}),(0,Ee.jsx)("div",{className:"stat-label",children:"Collections"})]}),(0,Ee.jsxs)("div",{className:"stat-card",children:[(0,Ee.jsx)("div",{className:"stat-value",children:b.averageRating||"N/A"}),(0,Ee.jsx)("div",{className:"stat-label",children:"Avg Rating"})]})]}),(0,Ee.jsxs)("div",{className:"categories-breakdown",children:[(0,Ee.jsx)("h3",{children:"Categories Breakdown"}),(0,Ee.jsx)("div",{className:"category-bars",children:Object.entries(b.categoriesBreakdown||{}).map(e=>{let[t,n]=e;return(0,Ee.jsxs)("div",{className:"category-bar",children:[(0,Ee.jsx)("span",{className:"category-name",children:t}),(0,Ee.jsx)("div",{className:"bar-container",children:(0,Ee.jsx)("div",{className:"bar-fill",style:{width:n/b.totalComponents*100+"%"}})}),(0,Ee.jsx)("span",{className:"category-count",children:n})]},t)})})]}),(0,Ee.jsxs)("div",{className:"popular-tags",children:[(0,Ee.jsx)("h3",{children:"Popular Tags"}),(0,Ee.jsx)("div",{className:"tags-cloud",children:(b.popularTags||[]).map(e=>(0,Ee.jsxs)("span",{className:"tag-item",style:{fontSize:`${Math.min(1.5,.8+.1*e.count)}rem`},children:[e.tag," (",e.count,")"]},e.tag))})]})]}):null}),y&&(0,Ee.jsx)("div",{className:"component-detail-overlay",onClick:()=>v(null),children:(0,Ee.jsxs)("div",{className:"component-detail",onClick:e=>e.stopPropagation(),children:[(0,Ee.jsxs)("div",{className:"detail-header",children:[(0,Ee.jsx)("h3",{children:y.name}),(0,Ee.jsx)("button",{onClick:()=>v(null),children:"\xd7"})]}),(0,Ee.jsxs)("div",{className:"detail-content",children:[(0,Ee.jsx)("div",{className:"code-preview",children:(0,Ee.jsx)("pre",{children:y.code})}),(0,Ee.jsxs)("div",{className:"detail-info",children:[(0,Ee.jsxs)("p",{children:[(0,Ee.jsx)("strong",{children:"Prompt:"})," ",y.prompt]}),(0,Ee.jsxs)("p",{children:[(0,Ee.jsx)("strong",{children:"Created:"})," ",y.timestamp.toLocaleString()]}),(0,Ee.jsxs)("p",{children:[(0,Ee.jsx)("strong",{children:"Version:"})," ",y.version]}),(0,Ee.jsxs)("p",{children:[(0,Ee.jsx)("strong",{children:"Usage Count:"})," ",y.stats.usageCount]}),y.metadata.accessibilityScore&&(0,Ee.jsxs)("p",{children:[(0,Ee.jsx)("strong",{children:"Accessibility:"})," ",y.metadata.accessibilityScore,"/100"]}),y.metadata.performanceScore&&(0,Ee.jsxs)("p",{children:[(0,Ee.jsx)("strong",{children:"Performance:"})," ",y.metadata.performanceScore,"/100"]})]})]}),(0,Ee.jsxs)("div",{className:"detail-actions",children:[(0,Ee.jsx)("button",{onClick:()=>S(y),className:"use-btn",children:"Use Component"}),(0,Ee.jsx)("button",{onClick:()=>k(y.id),className:"export-btn",children:"Export"})]})]})})]})}):null},ps=e=>{let{componentCode:r,componentName:s,isVisible:o,onClose:i}=e;const[a,l]=(0,t.useState)("figma"),[c,u]=(0,t.useState)(!1),[d,p]=(0,t.useState)(""),[h,m]=(0,t.useState)(""),[f,g]=(0,t.useState)(null),[y,v]=(0,t.useState)(""),[b,x]=(0,t.useState)(!1),w=async()=>{const{default:e}=await n.e(105).then(n.bind(n,5105));return new e};return o?(0,Ee.jsx)("div",{className:"integrations-panel-overlay",children:(0,Ee.jsxs)("div",{className:"integrations-panel",children:[(0,Ee.jsxs)("div",{className:"integrations-header",children:[(0,Ee.jsx)("h3",{children:"\ud83d\udd27 Advanced Integrations"}),(0,Ee.jsx)("button",{className:"close-btn",onClick:i,children:"\u2715"})]}),(0,Ee.jsxs)("div",{className:"integrations-tabs",children:[(0,Ee.jsx)("button",{className:"tab-btn "+("figma"===a?"active":""),onClick:()=>l("figma"),children:"\ud83c\udfa8 Figma"}),(0,Ee.jsx)("button",{className:"tab-btn "+("testing"===a?"active":""),onClick:()=>l("testing"),children:"\ud83e\uddea Testing"}),(0,Ee.jsx)("button",{className:"tab-btn "+("docs"===a?"active":""),onClick:()=>l("docs"),children:"\ud83d\udcda Documentation"})]}),(0,Ee.jsxs)("div",{className:"integrations-content",children:["figma"===a&&(0,Ee.jsxs)("div",{className:"figma-integration",children:[(0,Ee.jsx)("h4",{children:"Figma Integration"}),c?(0,Ee.jsxs)("div",{className:"figma-actions",children:[(0,Ee.jsx)("p",{className:"success-message",children:"\u2705 Connected to Figma"}),(0,Ee.jsxs)("div",{className:"action-buttons",children:[(0,Ee.jsx)("button",{className:"action-btn",onClick:async()=>{x(!0);try{const e=await w(),t=await e.importDesignTokens();if(t){const n=e.syncDesignTokens(r,t);window.dispatchEvent(new CustomEvent("updateComponentCode",{detail:{code:n}})),alert("Design tokens imported successfully!")}}catch(e){console.error("Figma import error:",e),alert("Error importing from Figma")}finally{x(!1)}},disabled:b,children:b?"\u23f3 Importing...":"\u2b07\ufe0f Import Design Tokens"}),(0,Ee.jsx)("button",{className:"action-btn",onClick:async()=>{x(!0);try{const e=(await w()).exportToFigma(r);console.log("Exported to Figma:",e),await navigator.clipboard.writeText(JSON.stringify(e,null,2)),alert("Component exported! Figma format copied to clipboard.")}catch(e){console.error("Figma export error:",e),alert("Error exporting to Figma")}finally{x(!1)}},disabled:b,children:b?"\u23f3 Exporting...":"\u2b06\ufe0f Export to Figma"})]}),(0,Ee.jsx)("button",{className:"secondary-btn",onClick:()=>u(!1),children:"Disconnect"})]}):(0,Ee.jsxs)("div",{className:"figma-connect",children:[(0,Ee.jsx)("p",{children:"Connect to Figma to sync designs with your components"}),(0,Ee.jsxs)("div",{className:"input-group",children:[(0,Ee.jsx)("label",{children:"Figma API Key"}),(0,Ee.jsx)("input",{type:"password",value:d,onChange:e=>p(e.target.value),placeholder:"Enter your Figma API key"})]}),(0,Ee.jsxs)("div",{className:"input-group",children:[(0,Ee.jsx)("label",{children:"Figma File ID"}),(0,Ee.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),placeholder:"Enter Figma file ID"})]}),(0,Ee.jsx)("button",{className:"primary-btn",onClick:async()=>{if(d&&h)try{const e=await w(),t=await e.connect(d,h);u(t),t?alert("Successfully connected to Figma!"):alert("Failed to connect to Figma. Please check your credentials.")}catch(e){console.error("Figma connection error:",e),alert("Error connecting to Figma")}else alert("Please enter both API key and File ID")},disabled:b,children:"Connect to Figma"}),(0,Ee.jsxs)("div",{className:"info-box",children:[(0,Ee.jsx)("p",{children:"\ud83d\udca1 To get your Figma API key:"}),(0,Ee.jsxs)("ol",{children:[(0,Ee.jsx)("li",{children:"Go to Figma \u2192 Account Settings"}),(0,Ee.jsx)("li",{children:'Find "Personal Access Tokens"'}),(0,Ee.jsx)("li",{children:"Create a new token"})]})]})]})]}),"testing"===a&&(0,Ee.jsxs)("div",{className:"testing-integration",children:[(0,Ee.jsx)("h4",{children:"Automated Testing"}),(0,Ee.jsx)("p",{children:"Generate comprehensive tests for your component"}),(0,Ee.jsx)("button",{className:"primary-btn",onClick:async()=>{x(!0);try{const e=await(async()=>{const{default:e}=await n.e(47).then(n.bind(n,3047));return new e})(),t=e.generateTestSuite(r,s),o=await e.runTestSuite(t.id);g(o);const i=e.exportTestFile(t.id);await navigator.clipboard.writeText(i),alert("Tests generated and copied to clipboard!")}catch(e){console.error("Test generation error:",e),alert("Error generating tests")}finally{x(!1)}},disabled:b,children:b?"\u23f3 Generating Tests...":"\ud83e\uddea Generate Test Suite"}),f&&(0,Ee.jsxs)("div",{className:"test-results",children:[(0,Ee.jsx)("h5",{children:"Test Results"}),(0,Ee.jsxs)("div",{className:"test-summary",children:[(0,Ee.jsxs)("div",{className:"test-stat",children:[(0,Ee.jsx)("span",{className:"stat-label",children:"Total"}),(0,Ee.jsx)("span",{className:"stat-value",children:f.suite.tests.length})]}),(0,Ee.jsxs)("div",{className:"test-stat success",children:[(0,Ee.jsx)("span",{className:"stat-label",children:"Passed"}),(0,Ee.jsx)("span",{className:"stat-value",children:f.passed})]}),(0,Ee.jsxs)("div",{className:"test-stat error",children:[(0,Ee.jsx)("span",{className:"stat-label",children:"Failed"}),(0,Ee.jsx)("span",{className:"stat-value",children:f.failed})]}),(0,Ee.jsxs)("div",{className:"test-stat",children:[(0,Ee.jsx)("span",{className:"stat-label",children:"Duration"}),(0,Ee.jsxs)("span",{className:"stat-value",children:[(f.duration/1e3).toFixed(2),"s"]})]})]}),f.coverage&&(0,Ee.jsxs)("div",{className:"test-coverage",children:[(0,Ee.jsx)("h6",{children:"Code Coverage"}),(0,Ee.jsxs)("div",{className:"coverage-bars",children:[(0,Ee.jsxs)("div",{className:"coverage-item",children:[(0,Ee.jsx)("span",{children:"Statements"}),(0,Ee.jsx)("div",{className:"coverage-bar",children:(0,Ee.jsx)("div",{className:"coverage-fill",style:{width:`${f.coverage.statements}%`}})}),(0,Ee.jsxs)("span",{children:[f.coverage.statements.toFixed(1),"%"]})]}),(0,Ee.jsxs)("div",{className:"coverage-item",children:[(0,Ee.jsx)("span",{children:"Branches"}),(0,Ee.jsx)("div",{className:"coverage-bar",children:(0,Ee.jsx)("div",{className:"coverage-fill",style:{width:`${f.coverage.branches}%`}})}),(0,Ee.jsxs)("span",{children:[f.coverage.branches.toFixed(1),"%"]})]}),(0,Ee.jsxs)("div",{className:"coverage-item",children:[(0,Ee.jsx)("span",{children:"Functions"}),(0,Ee.jsx)("div",{className:"coverage-bar",children:(0,Ee.jsx)("div",{className:"coverage-fill",style:{width:`${f.coverage.functions}%`}})}),(0,Ee.jsxs)("span",{children:[f.coverage.functions.toFixed(1),"%"]})]}),(0,Ee.jsxs)("div",{className:"coverage-item",children:[(0,Ee.jsx)("span",{children:"Lines"}),(0,Ee.jsx)("div",{className:"coverage-bar",children:(0,Ee.jsx)("div",{className:"coverage-fill",style:{width:`${f.coverage.lines}%`}})}),(0,Ee.jsxs)("span",{children:[f.coverage.lines.toFixed(1),"%"]})]})]})]}),(0,Ee.jsxs)("div",{className:"test-list",children:[(0,Ee.jsx)("h6",{children:"Test Cases"}),f.suite.tests.map(e=>{var t;return(0,Ee.jsxs)("div",{className:`test-item ${e.status}`,children:[(0,Ee.jsx)("span",{className:"test-status",children:"passed"===e.status?"\u2705":"failed"===e.status?"\u274c":"\u23ed\ufe0f"}),(0,Ee.jsx)("span",{className:"test-name",children:e.name}),(0,Ee.jsx)("span",{className:"test-duration",children:null!==(t=e.result)&&void 0!==t&&t.duration?`${e.result.duration.toFixed(0)}ms`:"-"})]},e.id)})]})]})]}),"docs"===a&&(0,Ee.jsxs)("div",{className:"docs-integration",children:[(0,Ee.jsx)("h4",{children:"Documentation Generator"}),(0,Ee.jsx)("p",{children:"Generate comprehensive documentation for your component"}),(0,Ee.jsx)("button",{className:"primary-btn",onClick:async()=>{x(!0);try{const e=await(async()=>{const{default:e}=await n.e(916).then(n.bind(n,916));return new e})(),t=e.generateDocumentation(r,{includeExamples:!0,includeBestPractices:!0,includeAccessibility:!0,includePerformance:!0}),s=e.generateMarkdown(t);v(s);const o=e.generateJSDoc(t);console.log("Generated JSDoc:",o);const i=e.generateStorybookStories(t);console.log("Generated Storybook stories:",i)}catch(e){console.error("Documentation generation error:",e),alert("Error generating documentation")}finally{x(!1)}},disabled:b,children:b?"\u23f3 Generating...":"\ud83d\udcda Generate Documentation"}),y&&(0,Ee.jsxs)("div",{className:"documentation-preview",children:[(0,Ee.jsxs)("div",{className:"doc-header",children:[(0,Ee.jsx)("h5",{children:"Generated Documentation"}),(0,Ee.jsx)("button",{className:"copy-btn",onClick:async()=>{y&&(await navigator.clipboard.writeText(y),alert("Documentation copied to clipboard!"))},children:"\ud83d\udccb Copy"})]}),(0,Ee.jsx)("pre",{className:"doc-content",children:y})]})]})]})]})}):null},hs=e=>{let{isOpen:n,onClose:r,onComplete:s}=e;const[o,i]=(0,t.useState)(0),[a,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),[d,p]=(0,t.useState)([]);(0,t.useEffect)(()=>{n&&h()},[n]);const h=async()=>{try{u(!0);const e=await fetch("/api/github/cli/status"),t=await e.json();l(t);const n=[];t.installed||n.push({id:"install",title:"Install GitHub CLI",description:"First, let's install the GitHub CLI tool",status:"pending"}),t.authenticated&&t.installed||n.push({id:"authenticate",title:"Connect Your GitHub Account",description:"Link your GitHub account to the CLI",command:"gh auth login",status:"pending"}),n.push({id:"verify",title:"Verify Setup",description:"Make sure everything is working",command:"gh auth status",status:"pending"}),p(n),t.ready&&(s(),r())}catch(e){console.error("Error checking CLI status:",e)}finally{u(!1)}};return n?(0,Ee.jsx)("div",{className:"git-cli-setup-overlay",onClick:r,children:(0,Ee.jsxs)("div",{className:"git-cli-setup-wizard",onClick:e=>e.stopPropagation(),children:[(0,Ee.jsxs)("div",{className:"wizard-header",children:[(0,Ee.jsx)("h2",{children:"\ud83d\ude80 GitHub CLI Setup Wizard"}),(0,Ee.jsx)("button",{className:"wizard-close",onClick:r,children:"\xd7"})]}),(0,Ee.jsx)("div",{className:"wizard-content",children:c?(0,Ee.jsxs)("div",{className:"checking-status",children:[(0,Ee.jsx)("div",{className:"loading-spinner"}),(0,Ee.jsx)("p",{children:"Checking GitHub CLI status..."})]}):(0,Ee.jsxs)(Ee.Fragment,{children:[d.length>0&&(0,Ee.jsx)("div",{className:"setup-progress",children:d.map((e,t)=>(0,Ee.jsxs)("div",{className:`progress-step ${e.status}`,onClick:()=>t<=o&&i(t),children:[(0,Ee.jsx)("div",{className:"progress-dot",children:"completed"===e.status?"\u2713":t+1}),(0,Ee.jsx)("span",{className:"progress-label",children:e.title})]},e.id))}),d[o]&&(0,Ee.jsxs)("div",{className:"current-step",children:[(0,Ee.jsx)("h3",{children:d[o].title}),(0,Ee.jsx)("p",{children:d[o].description}),"install"===d[o].id&&(null!==a&&void 0!==a&&a.installInstructions?(0,Ee.jsxs)("div",{className:"install-instructions",children:[(0,Ee.jsx)("h3",{children:a.installInstructions.title}),(0,Ee.jsx)("div",{className:"install-methods",children:a.installInstructions.methods.map((e,t)=>(0,Ee.jsxs)("div",{className:"install-method",children:[(0,Ee.jsx)("h4",{children:e.name}),(0,Ee.jsx)("p",{children:e.description}),(0,Ee.jsxs)("div",{className:"command-box",children:[(0,Ee.jsx)("code",{children:e.command}),(0,Ee.jsx)("button",{className:"copy-button",onClick:()=>navigator.clipboard.writeText(e.command),title:"Copy command",children:"\ud83d\udccb"})]})]},t))})]}):null),"authenticate"===d[o].id&&(null!==a&&void 0!==a&&a.authInstructions?(0,Ee.jsxs)("div",{className:"auth-instructions",children:[(0,Ee.jsx)("h3",{children:a.authInstructions.title}),(0,Ee.jsx)("div",{className:"auth-steps",children:a.authInstructions.steps.map(e=>(0,Ee.jsxs)("div",{className:"auth-step",children:[(0,Ee.jsxs)("div",{className:"step-header",children:[(0,Ee.jsx)("span",{className:"step-number",children:e.step}),(0,Ee.jsx)("h4",{children:e.title})]}),(0,Ee.jsx)("p",{children:e.description}),(0,Ee.jsx)("div",{className:"command-box",children:(0,Ee.jsx)("code",{children:e.command})}),e.education&&(0,Ee.jsxs)("div",{className:"step-education",children:[(0,Ee.jsx)("span",{className:"education-emoji",children:e.education.emoji}),(0,Ee.jsx)("p",{children:e.education.explanation}),(0,Ee.jsx)("p",{className:"education-analogy",children:(0,Ee.jsxs)("em",{children:["\ud83d\udca1 ",e.education.analogy]})})]})]},e.step))})]}):null),"verify"===d[o].id&&(0,Ee.jsxs)("div",{className:"verify-step",children:[(0,Ee.jsx)("p",{children:"Run this command to verify your setup:"}),(0,Ee.jsxs)("div",{className:"command-box",children:[(0,Ee.jsx)("code",{children:"gh auth status"}),(0,Ee.jsx)("button",{className:"copy-button",onClick:()=>navigator.clipboard.writeText("gh auth status"),children:"\ud83d\udccb"})]}),(0,Ee.jsx)("p",{className:"verify-hint",children:'You should see "\u2713 Logged in to github.com" if everything is working!'})]})]}),(0,Ee.jsxs)("div",{className:"wizard-education",children:[(0,Ee.jsx)("h4",{children:"\ud83c\udf93 Why GitHub CLI?"}),(0,Ee.jsxs)("ul",{children:[(0,Ee.jsx)("li",{children:"\ud83d\udd00 Create pull requests without leaving your terminal"}),(0,Ee.jsx)("li",{children:"\ud83d\udccb Manage issues and projects from the command line"}),(0,Ee.jsx)("li",{children:"\u26a1 Faster workflow with keyboard shortcuts"}),(0,Ee.jsx)("li",{children:"\ud83e\udd16 Automate repetitive GitHub tasks"}),(0,Ee.jsx)("li",{children:"\ud83d\udcca View repository stats and insights"})]})]}),(0,Ee.jsxs)("div",{className:"wizard-actions",children:[(0,Ee.jsx)("button",{className:"wizard-skip",onClick:()=>{const e=[...d];e[o].status="skipped",p(e),r()},children:"Skip for now"}),(0,Ee.jsx)("button",{className:"wizard-check",onClick:h,children:"Re-check Status"}),(0,Ee.jsx)("button",{className:"wizard-next",onClick:()=>{const e=[...d];e[o].status="completed",p(e),o<d.length-1?(i(o+1),e[o+1].status="in_progress"):s()},disabled:0===d.length,children:o===d.length-1?"Complete Setup":"Next Step"})]})]})})]})}):null},ms=e=>{var n,r,s;let{educationLevel:o,cliStatus:i,onSetupClick:a}=e;const[l,c]=(0,t.useState)("pr"),[u,d]=(0,t.useState)(""),[p,h]=(0,t.useState)(""),[m,f]=(0,t.useState)(""),[g,y]=(0,t.useState)(""),[v,b]=(0,t.useState)(!1),[x,w]=(0,t.useState)(null);return null!==i&&void 0!==i&&i.ready?(0,Ee.jsxs)("div",{className:"git-advanced-features",children:[(0,Ee.jsxs)("div",{className:"feature-nav",children:[(0,Ee.jsx)("button",{className:"feature-nav-button "+("pr"===l?"active":""),onClick:()=>c("pr"),children:"\ud83d\udd00 Pull Request"}),(0,Ee.jsx)("button",{className:"feature-nav-button "+("issue"===l?"active":""),onClick:()=>c("issue"),children:"\ud83d\udccb Issue"}),(0,Ee.jsx)("button",{className:"feature-nav-button "+("workflow"===l?"active":""),onClick:()=>c("workflow"),children:"\u2699\ufe0f Workflows"})]}),x&&(0,Ee.jsx)("div",{className:"result-card "+(x.success?"success":"error"),children:x.success?(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsxs)("h4",{children:["\u2705 ",x.message]}),x.prUrl&&(0,Ee.jsx)("a",{href:x.prUrl,target:"_blank",rel:"noopener noreferrer",className:"result-link",children:"\ud83d\udd17 View Pull Request"}),x.issueUrl&&(0,Ee.jsx)("a",{href:x.issueUrl,target:"_blank",rel:"noopener noreferrer",className:"result-link",children:"\ud83d\udd17 View Issue"}),x.education&&"beginner"===o&&(0,Ee.jsxs)("div",{className:"result-education",children:[(0,Ee.jsxs)("h5",{children:[x.education.emoji," ",x.education.title]}),(0,Ee.jsx)("p",{children:x.education.explanation}),x.education.nextSteps&&(0,Ee.jsxs)("div",{className:"next-steps",children:[(0,Ee.jsx)("h6",{children:"Next Steps:"}),(0,Ee.jsx)("ul",{children:x.education.nextSteps.map((e,t)=>(0,Ee.jsx)("li",{children:e},t))})]})]})]}):(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsxs)("h4",{children:["\u274c ",(null===(n=x.error)||void 0===n?void 0:n.title)||"Error"]}),(0,Ee.jsx)("p",{children:null===(r=x.error)||void 0===r?void 0:r.message}),(null===(s=x.error)||void 0===s?void 0:s.solution)&&(0,Ee.jsxs)("p",{className:"error-solution",children:["\ud83d\udca1 ",x.error.solution]})]})}),"pr"===l&&(0,Ee.jsxs)("div",{className:"feature-content",children:[(0,Ee.jsx)("h3",{children:"\ud83d\udd00 Create a Pull Request"}),"beginner"===o&&(0,Ee.jsx)("div",{className:"feature-education",children:(0,Ee.jsx)("p",{children:"A Pull Request (PR) is a proposal to merge your changes into the main codebase. It's like submitting a draft for review before it becomes final."})}),(0,Ee.jsxs)("div",{className:"form-group",children:[(0,Ee.jsx)("label",{htmlFor:"pr-title",children:"PR Title *"}),(0,Ee.jsx)("input",{id:"pr-title",type:"text",value:u,onChange:e=>d(e.target.value),placeholder:"Add new feature for user authentication",disabled:v})]}),(0,Ee.jsxs)("div",{className:"form-group",children:[(0,Ee.jsx)("label",{htmlFor:"pr-body",children:"Description (optional)"}),(0,Ee.jsx)("textarea",{id:"pr-body",value:p,onChange:e=>h(e.target.value),placeholder:"## What does this PR do?\\n\\n## How to test\\n\\n## Screenshots (if applicable)",rows:6,disabled:v})]}),(0,Ee.jsx)("button",{className:"submit-button",onClick:async()=>{if(u){b(!0),w(null);try{const e=await fetch("/api/github/cli/pr/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:u,body:p,educationalMode:"beginner"===o})}),t=await e.json();w(t),t.success&&(d(""),h(""))}catch(e){console.error("Error creating PR:",e),w({success:!1,error:{title:"Failed to create PR",message:e instanceof Error?e.message:"Unknown error"}})}finally{b(!1)}}else alert("Please enter a PR title")},disabled:v||!u,children:v?"\u23f3 Creating PR...":"\ud83d\udd00 Create Pull Request"})]}),"issue"===l&&(0,Ee.jsxs)("div",{className:"feature-content",children:[(0,Ee.jsx)("h3",{children:"\ud83d\udccb Create an Issue"}),"beginner"===o&&(0,Ee.jsx)("div",{className:"feature-education",children:(0,Ee.jsx)("p",{children:"An issue is a way to track bugs, feature requests, or tasks. It's like a to-do item for your project that everyone can see and discuss."})}),(0,Ee.jsxs)("div",{className:"form-group",children:[(0,Ee.jsx)("label",{htmlFor:"issue-title",children:"Issue Title *"}),(0,Ee.jsx)("input",{id:"issue-title",type:"text",value:m,onChange:e=>f(e.target.value),placeholder:"Bug: Login button not working on mobile",disabled:v})]}),(0,Ee.jsxs)("div",{className:"form-group",children:[(0,Ee.jsx)("label",{htmlFor:"issue-body",children:"Description (optional)"}),(0,Ee.jsx)("textarea",{id:"issue-body",value:g,onChange:e=>y(e.target.value),placeholder:"## Description\\n\\n## Steps to reproduce\\n\\n## Expected behavior\\n\\n## Environment",rows:6,disabled:v})]}),(0,Ee.jsx)("button",{className:"submit-button",onClick:async()=>{if(m){b(!0),w(null);try{const e=await fetch("/api/github/cli/issue/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:m,body:g,educationalMode:"beginner"===o})}),t=await e.json();w(t),t.success&&(f(""),y(""))}catch(e){console.error("Error creating issue:",e),w({success:!1,error:{title:"Failed to create issue",message:e instanceof Error?e.message:"Unknown error"}})}finally{b(!1)}}else alert("Please enter an issue title")},disabled:v||!m,children:v?"\u23f3 Creating Issue...":"\ud83d\udccb Create Issue"})]}),"workflow"===l&&(0,Ee.jsxs)("div",{className:"feature-content",children:[(0,Ee.jsx)("h3",{children:"\u2699\ufe0f GitHub Actions & Workflows"}),(0,Ee.jsx)("div",{className:"feature-education",children:(0,Ee.jsxs)("p",{children:["GitHub Actions automate tasks like testing code, building applications, or deploying to servers.","beginner"===o&&" It's like having a robot assistant that checks your work automatically!"]})}),(0,Ee.jsxs)("div",{className:"workflows-info",children:[(0,Ee.jsx)("p",{className:"coming-soon",children:"\ud83d\udea7 Workflow management coming soon!"}),(0,Ee.jsx)("p",{children:"In the meantime, you can view your workflows on GitHub or use the GitHub CLI:"}),(0,Ee.jsx)("div",{className:"command-example",children:(0,Ee.jsx)("code",{children:"gh workflow list"})})]})]})]}):(0,Ee.jsx)("div",{className:"cli-not-ready",children:(0,Ee.jsxs)("div",{className:"cli-status-card",children:[(0,Ee.jsx)("h3",{children:"\ud83d\udd27 GitHub CLI Setup Required"}),(0,Ee.jsx)("p",{children:"To use advanced features like creating PRs and issues, you need to set up GitHub CLI."}),(0,Ee.jsxs)("div",{className:"cli-status-details",children:[(0,Ee.jsxs)("div",{className:"status-item",children:[(0,Ee.jsx)("span",{className:"status-label",children:"Installed:"}),(0,Ee.jsx)("span",{className:"status-value "+(null!==i&&void 0!==i&&i.installed?"success":"error"),children:null!==i&&void 0!==i&&i.installed?"\u2705 Yes":"\u274c No"})]}),(0,Ee.jsxs)("div",{className:"status-item",children:[(0,Ee.jsx)("span",{className:"status-label",children:"Authenticated:"}),(0,Ee.jsx)("span",{className:"status-value "+(null!==i&&void 0!==i&&i.authenticated?"success":"error"),children:null!==i&&void 0!==i&&i.authenticated?"\u2705 Yes":"\u274c No"})]})]}),(0,Ee.jsx)("button",{className:"setup-button",onClick:a,children:"\ud83d\ude80 Start Setup Wizard"}),(0,Ee.jsxs)("div",{className:"cli-benefits",children:[(0,Ee.jsx)("h4",{children:"Benefits of GitHub CLI:"}),(0,Ee.jsxs)("ul",{children:[(0,Ee.jsx)("li",{children:"\ud83d\udd00 Create pull requests without leaving your IDE"}),(0,Ee.jsx)("li",{children:"\ud83d\udccb Manage issues directly from the terminal"}),(0,Ee.jsx)("li",{children:"\u26a1 Faster workflow with fewer context switches"}),(0,Ee.jsx)("li",{children:"\ud83e\udd16 Automate repetitive GitHub tasks"})]})]})]})})},fs=e=>{var n,r,s;let{isOpen:o,onClose:i,educationLevel:a,onEducationLevelChange:l}=e;const[c,u]=(0,t.useState)(null),[d,p]=(0,t.useState)(!1),[h,m]=(0,t.useState)([]),[f,g]=(0,t.useState)(!1),[y,v]=(0,t.useState)(null),[b,x]=(0,t.useState)(!1),[w,C]=(0,t.useState)(!1),[k,S]=(0,t.useState)("basic"),[j,N]=(0,t.useState)(null),[E,T]=(0,t.useState)(!1);(0,t.useEffect)(()=>{o&&(P(),_())},[o]);const _=async()=>{try{const e=await fetch("/api/github/cli/status"),t=await e.json();if(t.success){N(t);const e="true"===localStorage.getItem("github-cli-enabled");T(t.ready||e)}}catch(e){console.error("Error checking CLI status:",e)}},P=async()=>{try{C(!0);const e=await fetch("/api/github/status"),t=await e.json();t.success&&u(t)}catch(e){console.error("Error checking git status:",e)}finally{C(!1)}};return o?(0,Ee.jsx)("div",{className:"git-modal-overlay",onClick:i,children:(0,Ee.jsxs)("div",{className:"git-modal",onClick:e=>e.stopPropagation(),children:[f&&(0,Ee.jsx)("div",{className:"confetti-container",children:[...Array(20)].map((e,t)=>(0,Ee.jsx)("div",{className:"confetti-piece",style:{left:100*Math.random()+"%",animationDelay:2*Math.random()+"s",backgroundColor:["#ff6b6b","#4ecdc4","#45b7d1","#f9ca24","#6c5ce7"][t%5]}},t))}),(0,Ee.jsxs)("div",{className:"git-modal-header",children:[(0,Ee.jsxs)("div",{className:"modal-title",children:[(0,Ee.jsx)("span",{className:"git-icon",children:"\ud83d\udcc1"}),(0,Ee.jsx)("h2",{children:"Git & GitHub"})]}),E&&(0,Ee.jsxs)("div",{className:"git-modal-tabs",children:[(0,Ee.jsx)("button",{className:"tab-button "+("basic"===k?"active":""),onClick:()=>S("basic"),children:"\ud83d\udce4 Basic Push"}),(0,Ee.jsx)("button",{className:"tab-button "+("advanced"===k?"active":""),onClick:()=>S("advanced"),children:"\ud83d\ude80 Advanced (PRs & Issues)"})]}),(0,Ee.jsxs)("div",{className:"modal-controls",children:[(0,Ee.jsxs)("select",{value:a,onChange:e=>l(e.target.value),className:"education-level-select",children:[(0,Ee.jsx)("option",{value:"beginner",children:"\ud83d\udcda Beginner (with explanations)"}),(0,Ee.jsx)("option",{value:"experienced",children:"\u26a1 Experienced (quick mode)"})]}),(0,Ee.jsx)("button",{className:"modal-close",onClick:i,children:"\xd7"})]})]}),(0,Ee.jsx)("div",{className:"git-modal-content",children:"basic"===k?w?(0,Ee.jsxs)("div",{className:"loading-state",children:[(0,Ee.jsx)("div",{className:"loading-spinner"}),(0,Ee.jsx)("p",{children:"Checking your project status..."})]}):(0,Ee.jsxs)(Ee.Fragment,{children:[c&&(0,Ee.jsxs)("div",{className:"git-status-section",children:[(0,Ee.jsxs)("div",{className:"status-header",children:[(0,Ee.jsxs)("h3",{children:[null===(n=c.education)||void 0===n?void 0:n.emoji," ",null===(r=c.education)||void 0===r?void 0:r.title]}),(0,Ee.jsx)("p",{children:null===(s=c.education)||void 0===s?void 0:s.message})]}),c.hasChanges&&(()=>{if(null===c||void 0===c||!c.files.length)return null;const e=c.files.slice(0,5),t=c.files.length-5;return(0,Ee.jsxs)("div",{className:"git-file-list",children:[(0,Ee.jsx)("h4",{children:"Modified Files:"}),(0,Ee.jsxs)("ul",{className:"file-list",children:[e.map((e,t)=>(0,Ee.jsxs)("li",{className:"git-file-item",children:[(0,Ee.jsx)("span",{className:"file-emoji",children:e.emoji}),(0,Ee.jsx)("span",{className:"file-name",children:e.file}),(0,Ee.jsx)("span",{className:"file-status",children:e.status.includes("M")?"Modified":e.status.includes("A")?"Added":"Changed"})]},t)),t>0&&(0,Ee.jsx)("li",{className:"git-file-item-summary",children:(0,Ee.jsxs)("span",{className:"more-files",children:["\ud83d\udcc1 ... and ",t," more file",1!==t?"s":""]})})]})]})})()]}),(0,Ee.jsx)("div",{className:"git-action-section",children:(0,Ee.jsxs)("button",{className:`git-push-button ${null!==c&&void 0!==c&&c.hasChanges?"":"no-changes"} ${d?"pushing":""}`,onClick:async()=>{if(null!==c&&void 0!==c&&c.hasChanges){p(!0),m([]),g(!1);try{const e=await fetch("/api/github/push",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({educationalMode:"beginner"===a,commitMessage:`Update ${c.fileCount} file${c.fileCount>1?"s":""}`})}),t=await e.json();t.success?(m(t.steps||[]),v((new Date).toLocaleString()),g(!0),setTimeout(()=>g(!1),3e3),P()):(t.setupRequired&&x(!0),console.error("Push failed:",t.error))}catch(e){console.error("Error pushing to GitHub:",e)}finally{p(!1)}}else u(e=>e?{...e,education:{title:"No Changes to Save",message:"Make some changes to your code first, then come back to push!",emoji:"\ud83d\udca1"}}:null)},disabled:d,children:[(0,Ee.jsx)("span",{className:"button-emoji",children:d?"\ud83d\ude80":null!==c&&void 0!==c&&c.hasChanges?"\ud83d\udce4":"\u2705"}),(0,Ee.jsx)("span",{className:"button-text",children:d?"Pushing to GitHub...":null!==c&&void 0!==c&&c.hasChanges?`Push ${c.fileCount} Change${c.fileCount>1?"s":""} to GitHub`:"No Changes to Push"}),d&&(0,Ee.jsx)("div",{className:"loading-spinner"})]})}),h.length>0&&(0,Ee.jsxs)("div",{className:"push-progress",children:[(0,Ee.jsx)("h3",{children:"\ud83d\ude80 Pushing to GitHub"}),(0,Ee.jsx)("div",{className:"steps-container",children:h.map((e,t)=>(0,Ee.jsxs)("div",{className:`step step-${e.status}`,children:[(0,Ee.jsxs)("div",{className:"step-header",children:[(0,Ee.jsx)("span",{className:"step-number",children:e.step}),(0,Ee.jsx)("span",{className:"step-title",children:e.title}),(0,Ee.jsx)("span",{className:"step-status-icon",children:"completed"===e.status?"\u2705":"in_progress"===e.status?"\u23f3":"error"===e.status?"\u274c":"\u2b55"})]}),(0,Ee.jsx)("p",{className:"step-description",children:e.description}),"beginner"===a&&e.education&&(0,Ee.jsxs)("div",{className:"step-education",children:[(0,Ee.jsxs)("div",{className:"education-header",children:[(0,Ee.jsx)("span",{className:"education-emoji",children:e.education.emoji}),(0,Ee.jsx)("h4",{children:e.education.title})]}),(0,Ee.jsx)("p",{className:"education-explanation",children:e.education.explanation}),(0,Ee.jsx)("p",{className:"education-analogy",children:(0,Ee.jsxs)("em",{children:["\ud83d\udca1 ",e.education.analogy]})})]})]},t))})]}),f&&"beginner"===a&&(0,Ee.jsxs)("div",{className:"success-education",children:[(0,Ee.jsxs)("div",{className:"celebration",children:[(0,Ee.jsx)("h2",{children:"\ud83c\udf8a Congratulations!"}),(0,Ee.jsx)("p",{children:"Your code is now safely stored on GitHub!"})]}),(0,Ee.jsxs)("div",{className:"benefits-section",children:[(0,Ee.jsx)("h3",{children:"\u2728 Why This is Awesome:"}),(0,Ee.jsxs)("ul",{children:[(0,Ee.jsxs)("li",{children:["\ud83d\udee1\ufe0f ",(0,Ee.jsx)("strong",{children:"Backup"}),": Never lose your code again"]}),(0,Ee.jsxs)("li",{children:["\ud83e\udd1d ",(0,Ee.jsx)("strong",{children:"Collaboration"}),": Others can see and help with your work"]}),(0,Ee.jsxs)("li",{children:["\ud83d\udcbc ",(0,Ee.jsx)("strong",{children:"Portfolio"}),": Show employers your coding skills"]}),(0,Ee.jsxs)("li",{children:["\ud83d\udcca ",(0,Ee.jsx)("strong",{children:"History"}),": Track how your code evolves over time"]})]})]})]}),y&&(0,Ee.jsx)("div",{className:"last-push-info",children:(0,Ee.jsxs)("p",{children:[(0,Ee.jsx)("span",{className:"last-push-emoji",children:"\ud83d\udcc5"}),"Last pushed: ",y]})})]}):(0,Ee.jsx)(ms,{educationLevel:a,cliStatus:j,onSetupClick:()=>x(!0)})}),(0,Ee.jsx)(hs,{isOpen:b,onClose:()=>x(!1),onComplete:()=>{x(!1),_()}}),b&&(0,Ee.jsx)("div",{className:"setup-wizard-overlay",children:(0,Ee.jsxs)("div",{className:"setup-wizard",children:[(0,Ee.jsx)("h2",{children:"\ud83d\udd27 First Time Setup"}),(0,Ee.jsx)("p",{children:"Let's get you connected to GitHub!"}),(0,Ee.jsxs)("div",{className:"setup-steps",children:[(0,Ee.jsx)("h3",{children:"Quick Setup Steps:"}),(0,Ee.jsxs)("ol",{children:[(0,Ee.jsx)("li",{children:"Create a repository on GitHub.com"}),(0,Ee.jsx)("li",{children:"Copy the repository URL"}),(0,Ee.jsx)("li",{children:"Configure Git with your details"})]})]}),(0,Ee.jsxs)("div",{className:"setup-actions",children:[(0,Ee.jsx)("button",{className:"setup-close-button",onClick:()=>x(!1),children:"I'll Set This Up Later"}),(0,Ee.jsx)("a",{href:"https://github.com/new",target:"_blank",rel:"noopener noreferrer",className:"setup-github-button",children:"Create GitHub Repository \ud83d\ude80"})]})]})})]})}):null};function gs(e){const[n,r]=(0,t.useState)([]),[s,o]=(0,t.useState)(!1),[i,a]=(0,t.useState)(null),l=sn("SESSION_CHECKPOINTS");(0,t.useEffect)(()=>{l&&e&&c()},[e,l]);const c=(0,t.useCallback)(async()=>{if(l&&e)try{o(!0),a(null);const t=await Rn.getCheckpoints(e);r(t.sort((e,t)=>t.timestamp-e.timestamp))}catch(ks){const t=ks instanceof Error?ks.message:"Failed to load checkpoints";a(t),console.error("Failed to load checkpoints:",ks)}finally{o(!1)}},[e,l]),u=(0,t.useCallback)(async function(t,n,s){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!l||!e)return null;try{a(null);const i=await Rn.createCheckpoint(e,t,n,s,o);return r(e=>[i,...e]),i}catch(ks){const t=ks instanceof Error?ks.message:"Failed to create checkpoint";return a(t),console.error("Failed to create checkpoint:",ks),null}},[e,l]);return{checkpoints:n,loading:s,error:i,createCheckpoint:u,createAutoCheckpoint:(0,t.useCallback)(async t=>{if(!l||!e)return null;try{const n=await Rn.createAutoCheckpoint(e,t);return r(e=>[n,...e]),n}catch(ks){return console.error("Failed to create auto checkpoint:",ks),null}},[e,l]),deleteCheckpoint:(0,t.useCallback)(async t=>{if(!l||!e)return!1;try{return a(null),await Rn.deleteCheckpoint(e,t),r(e=>e.filter(e=>e.id!==t)),!0}catch(ks){const t=ks instanceof Error?ks.message:"Failed to delete checkpoint";return a(t),console.error("Failed to delete checkpoint:",ks),!1}},[e,l]),restoreCheckpoint:(0,t.useCallback)(async t=>{if(!l||!e)return null;try{a(null);const n=await Rn.getCheckpoint(e,t);if(!n)throw new Error("Checkpoint not found");return n.data}catch(ks){const t=ks instanceof Error?ks.message:"Failed to restore checkpoint";return a(t),console.error("Failed to restore checkpoint:",ks),null}},[e,l]),exportCheckpoints:(0,t.useCallback)(async()=>{if(!l||!e)return null;try{a(null);return await Rn.exportCheckpoints(e)}catch(ks){const t=ks instanceof Error?ks.message:"Failed to export checkpoints";return a(t),console.error("Failed to export checkpoints:",ks),null}},[e,l]),importCheckpoints:(0,t.useCallback)(async t=>{if(!l||!e)return!1;try{a(null);const e=await Rn.importCheckpoints(t);return await c(),e.length>0}catch(ks){const t=ks instanceof Error?ks.message:"Failed to import checkpoints";return a(t),console.error("Failed to import checkpoints:",ks),!1}},[e,l,c]),refreshCheckpoints:c}}class ys{constructor(){this.autoSaveTimer=null,this.isAutoSaveEnabled=!1,console.log("\ud83d\udcbe SessionManager initialized")}startAutoSave(){this.isAutoSaveEnabled||(this.isAutoSaveEnabled=!0,console.log("\ud83d\udcbe Auto-save enabled (every 10 seconds)"),this.autoSaveTimer=setInterval(()=>{this.saveCurrentSession()},ys.AUTO_SAVE_INTERVAL))}stopAutoSave(){this.isAutoSaveEnabled&&(this.isAutoSaveEnabled=!1,this.autoSaveTimer&&(clearInterval(this.autoSaveTimer),this.autoSaveTimer=null),console.log("\ud83d\udcbe Auto-save disabled"))}saveCurrentSession(){try{const e=this.collectCurrentSessionData();localStorage.setItem(ys.STORAGE_KEY,JSON.stringify(e));const t=localStorage.getItem(ys.STORAGE_KEY);t&&localStorage.setItem(ys.BACKUP_KEY,t),console.log("\ud83d\udcbe Session saved automatically")}catch(e){console.error("\ud83d\udcbe Failed to save session:",e)}}restoreSession(){try{const e=localStorage.getItem(ys.STORAGE_KEY);if(!e)return console.log("\ud83d\udcbe No saved session found"),null;const t=JSON.parse(e),n=(Date.now()-t.timestamp)/36e5;return n>24?(console.log("\ud83d\udcbe Saved session is too old, ignoring"),this.clearSession(),null):(console.log(`\ud83d\udcbe Session restored (${Math.round(60*n)} minutes old)`),t)}catch(e){return console.error("\ud83d\udcbe Failed to restore session:",e),null}}hasRecentSession(){try{const e=localStorage.getItem(ys.STORAGE_KEY);if(!e)return!1;const t=JSON.parse(e);return(Date.now()-t.timestamp)/36e5<=24}catch{return!1}}getSessionAge(){try{const e=localStorage.getItem(ys.STORAGE_KEY);if(!e)return-1;const t=JSON.parse(e);return Math.round((Date.now()-t.timestamp)/6e4)}catch{return-1}}clearSession(){localStorage.removeItem(ys.STORAGE_KEY),localStorage.removeItem(ys.BACKUP_KEY),console.log("\ud83d\udcbe Session data cleared")}collectCurrentSessionData(){const e=this.getTerminalState(),t=this.getAIModeState();return{timestamp:Date.now(),version:ys.VERSION,terminal:e,aiModes:t,activeView:this.getCurrentView(),openFiles:this.getOpenFiles(),activeFile:this.getActiveFile(),commandHistory:this.getCommandHistory(),terminalBuffer:this.getTerminalBuffer()}}getTerminalState(){const e=window;return{terminalHistory:this.getTerminalHistory(),terminalCommands:e.terminalCommands||[],isConnected:e.isTerminalConnected||!1,sessionId:e.currentTerminalSessionId||null,lastCommand:e.currentCommandBuffer||""}}getAIModeState(){const e=window;return{isSupervisionOn:e.isSupervisionOn||!1,isParallelAgents:e.isParallelAgents||!1,isInfiniteLoop:e.isInfiniteLoop||!1,isTaskDelegationActive:e.isTaskDelegationActive||!1,isClaudeCodeActive:e.isClaudeCodeActive||!1,claudeSessions:this.convertMapToRecord(e.claudeSessions),infiniteSessionId:e.infiniteSessionId||null}}getCurrentView(){const e=document.querySelector(".panel.active");return null!==e&&void 0!==e&&e.classList.contains("explorer")?"explorer":null!==e&&void 0!==e&&e.classList.contains("preview")?"preview":"terminal"}getOpenFiles(){const e=document.querySelectorAll(".file-tab");return Array.from(e).map(e=>e.textContent||"").filter(Boolean)}getActiveFile(){const e=document.querySelector(".file-tab.active");return(null===e||void 0===e?void 0:e.textContent)||null}getCommandHistory(){return window.commandHistory||[]}getTerminalBuffer(){return window.terminalBuffer||""}getTerminalHistory(){try{const e=window.xtermInstance;if(e&&e.buffer){const t=e.buffer.active;let n="";const r=Math.min(t.length,100);for(let e=Math.max(0,t.length-r);e<t.length;e++){const r=t.getLine(e);r&&(n+=r.translateToString(!0)+"\n")}return n.trim()}}catch(e){console.warn("\ud83d\udcbe Could not extract terminal history:",e)}return""}convertMapToRecord(e){if(!e||!(e instanceof Map))return{};const t={};return e.forEach((e,n)=>{t[n]=e}),t}exportSession(){const e=this.collectCurrentSessionData();return JSON.stringify(e,null,2)}importSession(e){try{const t=JSON.parse(e);return localStorage.setItem(ys.STORAGE_KEY,JSON.stringify(t)),console.log("\ud83d\udcbe Session imported successfully"),!0}catch(t){return console.error("\ud83d\udcbe Failed to import session:",t),!1}}}ys.STORAGE_KEY="coder1-ide-session",ys.BACKUP_KEY="coder1-ide-session-backup",ys.VERSION="1.0.0",ys.AUTO_SAVE_INTERVAL=1e4;const vs=new ys;const bs=new class{constructor(){this.isActive=!1,this.hasUnsavedWork=!1,this.originalHistoryLength=0,this.handleBeforeUnload=e=>{if(!this.isActive)return;const t=this.hasUnsavedWork?"You have unsaved work in the terminal and active AI sessions. Are you sure you want to leave?":"Your terminal session and AI modes will be lost. Are you sure you want to leave?";return e.preventDefault(),e.returnValue=t,t},this.handlePopState=e=>{var t;if(!this.isActive)return;if(console.log("\ud83d\udee1\ufe0f Back navigation detected, preventing..."),"active"===(null===(t=e.state)||void 0===t?void 0:t.protection)){const e={ide:!0,timestamp:Date.now(),protection:"active"};return void window.history.pushState(e,"",window.location.href)}if(window.confirm("Are you sure you want to leave? Your terminal session and AI modes will be lost.\n\nClick Cancel to stay, or OK to leave and lose your session."))this.deactivate(),window.history.back();else{const e={ide:!0,timestamp:Date.now(),protection:"active"};window.history.pushState(e,"",window.location.href)}},this.originalHistoryLength=window.history.length}activate(){this.isActive||(this.isActive=!0,console.log("\ud83d\udee1\ufe0f Navigation protection activated"),this.addBeforeUnloadProtection(),this.createSafeHistory(),window.addEventListener("popstate",this.handlePopState))}deactivate(){this.isActive&&(this.isActive=!1,console.log("\ud83d\udee1\ufe0f Navigation protection deactivated"),window.removeEventListener("beforeunload",this.handleBeforeUnload),window.removeEventListener("popstate",this.handlePopState))}setHasUnsavedWork(e){this.hasUnsavedWork=e}addBeforeUnloadProtection(){window.addEventListener("beforeunload",this.handleBeforeUnload)}createSafeHistory(){const e={ide:!0,timestamp:Date.now(),protection:"active"};window.history.replaceState(e,"",window.location.href),window.history.pushState(e,"",window.location.href)}safeUnload(){this.deactivate()}isProtectionActive(){return this.isActive}},xs=e=>{let{sessionAge:n,onRestore:r,onDismiss:s,onExport:o,onImport:i,onClear:a}=e;const[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(""),[p,h]=(0,t.useState)(!1);return(0,Ee.jsxs)("div",{className:"session-recovery-prompt",children:[(0,Ee.jsx)("div",{className:"session-recovery-overlay",onClick:s}),(0,Ee.jsxs)("div",{className:"session-recovery-modal",children:[(0,Ee.jsxs)("div",{className:"session-recovery-header",children:[(0,Ee.jsx)("h3",{children:"\ud83d\udd04 Session Recovery Available"}),(0,Ee.jsx)("button",{className:"session-recovery-close",onClick:s,title:"Close and start fresh session",children:"\xd7"})]}),(0,Ee.jsxs)("div",{className:"session-recovery-content",children:[(0,Ee.jsx)("div",{className:"session-recovery-message",children:(0,Ee.jsxs)("div",{className:"session-info",children:[(0,Ee.jsx)("span",{className:"session-icon",children:"\ud83d\udcbe"}),(0,Ee.jsxs)("div",{className:"session-details",children:[(0,Ee.jsx)("p",{children:(0,Ee.jsx)("strong",{children:"Previous session found!"})}),(0,Ee.jsxs)("p",{className:"session-age",children:["Last saved: ",(e=>{if(e<1)return"just now";if(e<60)return`${e} minute${1!==e?"s":""} ago`;const t=Math.floor(e/60),n=e%60;return 0===n?`${t} hour${1!==t?"s":""} ago`:`${t}h ${n}m ago`})(n)]}),(0,Ee.jsx)("p",{className:"session-description",children:"Your terminal connections, AI modes, and command history can be restored."})]})]})}),(0,Ee.jsxs)("div",{className:"session-recovery-actions",children:[(0,Ee.jsx)("button",{className:"session-action-btn primary",onClick:r,children:"\ud83d\udd04 Restore Session"}),(0,Ee.jsx)("button",{className:"session-action-btn secondary",onClick:s,children:"\ud83c\udd95 Start Fresh"})]}),(0,Ee.jsxs)("div",{className:"session-recovery-advanced",children:[(0,Ee.jsxs)("button",{className:"advanced-toggle",onClick:()=>c(!l),children:[l?"\u25bc":"\u25b6"," Advanced Options"]}),l&&(0,Ee.jsxs)("div",{className:"advanced-options",children:[(0,Ee.jsxs)("div",{className:"advanced-section",children:[(0,Ee.jsx)("h4",{children:"Manual Backup"}),(0,Ee.jsxs)("div",{className:"advanced-actions",children:[(0,Ee.jsx)("button",{className:"advanced-btn",onClick:()=>{try{const e=o(),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`coder1-session-${(new Date).toISOString().slice(0,19)}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}catch(e){console.error("Failed to export session:",e),alert("Failed to export session data")}},title:"Download session as JSON file",children:"\ud83d\udce4 Export Session"}),(0,Ee.jsx)("button",{className:"advanced-btn",onClick:()=>h(!p),title:"Import session from JSON file",children:"\ud83d\udce5 Import Session"}),(0,Ee.jsx)("button",{className:"advanced-btn danger",onClick:()=>{window.confirm("Are you sure you want to clear all session data? This cannot be undone.")&&a()},title:"Permanently delete session data",children:"\ud83d\uddd1\ufe0f Clear Data"})]})]}),p&&(0,Ee.jsxs)("div",{className:"import-section",children:[(0,Ee.jsx)("h4",{children:"Import Session Data"}),(0,Ee.jsxs)("div",{className:"import-controls",children:[(0,Ee.jsx)("input",{type:"file",accept:".json",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!n)return;const r=new FileReader;r.onload=e=>{var t;const n=null===(t=e.target)||void 0===t?void 0:t.result;d(n)},r.readAsText(n)},className:"file-input"}),(0,Ee.jsx)("p",{children:"Or paste JSON data:"}),(0,Ee.jsx)("textarea",{value:u,onChange:e=>d(e.target.value),placeholder:"Paste session JSON data here...",className:"import-textarea",rows:4}),(0,Ee.jsxs)("div",{className:"import-actions",children:[(0,Ee.jsx)("button",{className:"advanced-btn",onClick:()=>{try{i(u)?(d(""),h(!1),alert("Session imported successfully! You can now restore it.")):alert("Failed to import session data. Please check the format.")}catch(e){console.error("Failed to import session:",e),alert("Failed to import session data")}},disabled:!u.trim(),children:"Import"}),(0,Ee.jsx)("button",{className:"advanced-btn",onClick:()=>{h(!1),d("")},children:"Cancel"})]})]})]})]})]})]}),(0,Ee.jsx)("div",{className:"session-recovery-footer",children:(0,Ee.jsx)("p",{className:"session-recovery-note",children:"\ud83d\udca1 Automatic session backup is enabled to prevent data loss from accidental navigation."})})]})]})};const ws=function(){const[e,n]=(0,t.useState)("terminal"),[r,s]=(0,t.useState)(!1),[o,i]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,p]=(0,t.useState)(!1),[h,m]=(0,t.useState)(null),[f]=(0,t.useState)(0),[g,y]=(0,t.useState)(!1),[v,b]=(0,t.useState)(null),[x,w]=(0,t.useState)(!1),[C,k]=(0,t.useState)(!1),[S,j]=(0,t.useState)(!1),[N,E]=(0,t.useState)("normal"),[T,_]=(0,t.useState)(!1),[P,A]=(0,t.useState)(null),[R,O]=(0,t.useState)(!0),[I,F]=(0,t.useState)(!0),[L,D]=(0,t.useState)(!1),[z,M]=(0,t.useState)(!1),[B]=(0,t.useState)(()=>`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),[$,U]=(0,t.useState)(!1),[H,W]=(0,t.useState)(!0),[V,G]=(0,t.useState)(null),[q,K]=(0,t.useState)(!1),[Y,Q]=(0,t.useState)(null),[X,J]=(0,t.useState)(!1),[Z,ee]=(0,t.useState)(""),[te,ne]=(0,t.useState)(!1),[re,se]=(0,t.useState)(null),[oe,ie]=(0,t.useState)(!1),[ae,le]=(0,t.useState)(!1),[ce,ue]=(0,t.useState)(!1),[de,pe]=(0,t.useState)(!1),[he,me]=(0,t.useState)(""),[fe,ge]=(0,t.useState)(""),[ye,ve]=(0,t.useState)(!0),[be,xe]=(0,t.useState)(!1),[we,Ce]=(0,t.useState)("beginner"),[ke,Se]=(0,t.useState)(null),je=(()=>{const[e,n]=(0,t.useState)({hasRecentSession:!1,sessionAge:-1,isRecoveryPromptVisible:!1,isAutoSaveActive:!1,lastSaveTime:null}),r=(0,t.useRef)(null),s=(0,t.useCallback)(()=>{try{const e=vs.restoreSession();return e&&(n(e=>({...e,isRecoveryPromptVisible:!1,hasRecentSession:!1})),console.log("\ud83d\udd04 Session restored successfully")),e}catch(e){return console.error("\ud83d\udd04 Failed to restore session:",e),null}},[]);(0,t.useEffect)(()=>{const e=vs.hasRecentSession(),t=vs.getSessionAge();n(n=>({...n,hasRecentSession:e,sessionAge:t,isRecoveryPromptVisible:!1})),console.log("\ud83d\udd04 Session recovery initialized",{hasSession:e,age:t})},[]),(0,t.useEffect)(()=>{e.hasRecentSession&&e.sessionAge<60&&-1!==e.sessionAge&&(console.log("\ud83d\udd04 Auto-restoring session without prompt"),setTimeout(()=>{s()},500))},[e.hasRecentSession,e.sessionAge,s]);const o=(0,t.useCallback)(()=>{try{bs.activate(),vs.startAutoSave(),n(e=>({...e,isAutoSaveActive:!0,lastSaveTime:Date.now()})),console.log("\ud83d\udee1\ufe0f Full session protection activated")}catch(e){console.error("\ud83d\udee1\ufe0f Failed to start protection:",e)}},[]),i=(0,t.useCallback)(()=>{try{bs.deactivate(),vs.stopAutoSave(),n(e=>({...e,isAutoSaveActive:!1})),console.log("\ud83d\udee1\ufe0f Session protection deactivated")}catch(e){console.error("\ud83d\udee1\ufe0f Failed to stop protection:",e)}},[]),a=(0,t.useCallback)(()=>{n(e=>({...e,isRecoveryPromptVisible:!1})),o(),console.log("\ud83d\udd04 Recovery prompt dismissed, starting fresh session")},[o]),l=(0,t.useCallback)(()=>{try{return vs.exportSession()}catch(e){return console.error("\ud83d\udce4 Failed to export session:",e),"{}"}},[]),c=(0,t.useCallback)(e=>{try{const t=vs.importSession(e);return t&&n(e=>({...e,hasRecentSession:!0,isRecoveryPromptVisible:!0})),t}catch(t){return console.error("\ud83d\udce4 Failed to import session:",t),!1}},[]),u=(0,t.useCallback)(()=>{try{vs.clearSession(),n(e=>({...e,hasRecentSession:!1,isRecoveryPromptVisible:!1,sessionAge:-1})),console.log("\ud83d\uddd1\ufe0f Session data cleared")}catch(e){console.error("\ud83d\uddd1\ufe0f Failed to clear session:",e)}},[]),d=(0,t.useCallback)(()=>{try{vs.saveCurrentSession(),n(e=>({...e,lastSaveTime:Date.now()})),r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{e.isAutoSaveActive&&d()},1e4),console.log("\ud83d\udcbe Session saved manually")}catch(t){console.error("\ud83d\udcbe Failed to save session:",t)}},[e.isAutoSaveActive]);return(0,t.useEffect)(()=>{const t=e.isAutoSaveActive&&null!==e.lastSaveTime;bs.setHasUnsavedWork(t)},[e.isAutoSaveActive,e.lastSaveTime]),(0,t.useEffect)(()=>()=>{r.current&&clearTimeout(r.current)},[]),{state:e,actions:{startProtection:o,stopProtection:i,restoreSession:s,dismissRecoveryPrompt:a,exportSession:l,importSession:c,clearSession:u,saveNow:d}}})(),[Ne,Pe]=(0,t.useState)(!1),[Ae,Re]=(0,t.useState)(!1);t.useEffect(()=>{0},[H,$]),t.useEffect(()=>{console.log("\ud83d\udea8 showMagicCommandBar changed to:",$)},[$]);const Oe=t.useRef(!1);t.useEffect(()=>{if(Oe.current)return;Oe.current=!0,console.log("\ud83d\udd04 Initializing session recovery system (once)..."),Ne||je.actions.startProtection();window.handleSessionRestore=e=>{console.log("\ud83d\udd04 Restoring session data...",e);try{if(e.aiModes){i(e.aiModes.isSupervisionOn),u(e.aiModes.isParallelAgents),l(e.aiModes.isInfiniteLoop),p(e.aiModes.isTaskDelegationActive),m(e.aiModes.infiniteSessionId);const t=window;t.isClaudeCodeActive=e.aiModes.isClaudeCodeActive,t.claudeSessions=new Map(Object.entries(e.aiModes.claudeSessions||{}))}if(e.activeView&&n(e.activeView),e.terminal){const t=window;t.restoredTerminalData=e.terminal,t.commandHistory=e.commandHistory||[],t.terminalBuffer=e.terminalBuffer||""}Pe(!0),console.log("\u2705 Session restoration completed")}catch(t){console.error("\u274c Failed to restore session:",t)}}},[Ne,je.actions,n,i,u,l,p,m]),t.useEffect(()=>{const e=e=>{"CLEAR_PREVIEW"===e.data.type&&(console.log("\ud83d\uddd1\ufe0f Clearing preview"),ot(""),G(null))};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]);const[Ie,Fe]=(0,t.useState)({terminalHistory:"",terminalCommands:[]}),[Le,De]=(0,t.useState)(null),[ze,Me]=(0,t.useState)("// Welcome to Coder1 IDE\n// Open a file to start coding"),[Be,$e]=(0,t.useState)(!1),[Ue,He]=(0,t.useState)([]),[We,Ve]=(0,t.useState)(null),[Ge,qe]=(0,t.useState)(null),Ke=sn("FILE_SEARCH"),Ye=sn("THINKING_MODE_TOGGLE"),Qe=sn("SESSION_CHECKPOINTS"),{createCheckpoint:Xe}=gs(B),Je=()=>({messages:[],currentContext:"",activeFiles:[],thinkingMode:N,activeView:e,sidebarCollapsed:!1,terminalVisible:"terminal"===e,projectFiles:[],modifiedFiles:[]});!function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{interval:s=10,maxCheckpoints:o=20,enabled:i=!0}=r,{createAutoCheckpoint:a,checkpoints:l}=gs(e),c=sn("SESSION_CHECKPOINTS");(0,t.useEffect)(()=>{if(!c||!i||!e)return;const t=60*s*1e3,r=async()=>{try{const e=n();(e.messages.length>0||e.activeFiles.length>0)&&(await a(e),l.filter(e=>e.metadata.autoGenerated).length)}catch(e){console.error("Auto checkpoint creation failed:",e)}};r();const o=setInterval(r,t);return()=>clearInterval(o)},[e,s,o,i,c,a,n,l.length])}(B,Je,{interval:10,enabled:Qe}),t.useEffect(()=>{(async()=>{const e=localStorage.getItem("prd_transfer_data")||sessionStorage.getItem("prd_transfer_data");if(e)try{var t,n,r,s,o;const i=JSON.parse(e);console.log("\ud83d\udccb PRD Transfer detected:",null===(t=i.prd)||void 0===t?void 0:t.title),localStorage.removeItem("prd_transfer_data"),sessionStorage.removeItem("prd_transfer_data");const l=(null===(n=i.prd)||void 0===n||null===(r=n.technical_specs)||void 0===r?void 0:r[0])||(null===(s=i.prd)||void 0===s?void 0:s.description)||`# ${(null===(o=i.prd)||void 0===o?void 0:o.title)||"Project"} - PRD Context\n\n${JSON.stringify(i,null,2)}`;try{await yn.writeFile("/CLAUDE.md",l),console.log("\u2705 CLAUDE.md file created successfully"),et("/CLAUDE.md","CLAUDE.md");const e=document.createElement("div");e.className="prd-success-banner",e.style.cssText="position: fixed; top: 0; left: 0; right: 0; background: #10b981; color: white; padding: 12px; text-align: center; z-index: 9999; font-family: Inter, sans-serif;",e.innerHTML="\u2705 PRD loaded from Smart Generator - CLAUDE.md ready for Claude Code",document.body.appendChild(e),setTimeout(()=>e.remove(),5e3),console.log("\u2705 PRD successfully transferred and CLAUDE.md created")}catch(a){console.error("Failed to create CLAUDE.md file:",a),Me(l),De("CLAUDE.md"),Ve("/CLAUDE.md"),He(e=>[...e,{path:"/CLAUDE.md",name:"CLAUDE.md",content:l,isDirty:!1}])}}catch(l){console.error("Failed to process PRD transfer:",l)}try{const e=await fetch("/api/prd-v2/transfer/retrieve",{credentials:"same-origin"});if(e.ok){const t=await e.json();if(t.prd){var i;console.log("\ud83d\udccb PRD Transfer retrieved from server");const e=t.claudeMd||`# ${(null===(i=t.prd.metadata)||void 0===i?void 0:i.projectName)||"Project"} - PRD Context\n\n${JSON.stringify(t.prd,null,2)}`;await yn.writeFile("/CLAUDE.md",e),et("/CLAUDE.md","CLAUDE.md"),await fetch("/api/prd-v2/transfer/clear",{method:"POST",credentials:"same-origin"})}}}catch(l){console.error("Failed to check server for PRD transfer:",l)}})()},[]),t.useEffect(()=>{const e=e=>{"F1"===e.key&&(e.preventDefault(),j(!0)),(e.metaKey||e.ctrlKey)&&"k"===e.key&&(e.preventDefault(),console.log("\ud83c\udfaf Keyboard: Cmd+K detected! Setting showMagicCommandBar to true"),U(!0)),(e.metaKey||e.ctrlKey)&&e.shiftKey&&"F"===e.key&&(e.preventDefault(),console.log("\ud83d\udd0d Keyboard: Cmd+Shift+F detected! Opening file search"),w(!0)),(e.metaKey||e.ctrlKey)&&e.shiftKey&&"P"===e.key&&(e.preventDefault(),console.log("\ud83c\udfd7\ufe0f Keyboard: Cmd+Shift+P detected! Opening Page Builder"),le(!0)),(e.metaKey||e.ctrlKey)&&e.shiftKey&&"L"===e.key&&(e.preventDefault(),console.log("\ud83d\udcda Keyboard: Cmd+Shift+L detected! Opening Component Library"),ue(!0)),"Escape"===e.key&&$&&U(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[$]);const Ze=async()=>{try{Re(!0);const e=await fetch("/api/github/status"),t=await e.json();t.success&&Se(t)}catch(e){console.error("Error checking git status:",e),Se({hasChanges:!1,fileCount:0,files:[]})}finally{Re(!1)}};t.useEffect(()=>{if(ye){Ze();const e=setInterval(Ze,15e3);return()=>clearInterval(e)}},[ye]),t.useEffect(()=>{const e=localStorage.getItem("git-education-level");"experienced"!==e&&"beginner"!==e||Ce(e)},[]);const et=async(e,t)=>{const n=Ue.find(t=>t.path===e);if(n)return Ve(e),De(t),Me(n.content),void $e(n.isDirty);try{const n=await yn.readFile(e),r={path:e,name:t,content:n,isDirty:!1};He(e=>[...e,r]),Ve(e),De(t),Me(n),$e(!1)}catch(r){console.error("Failed to read file:",r)}},tt=e=>{const t=Ue.findIndex(t=>t.path===e);if(-1===t)return;const n=Ue.filter(t=>t.path!==e);if(He(n),e===We)if(n.length>0){const e=n[Math.max(0,t-1)];Ve(e.path),De(e.name),Me(e.content),$e(e.isDirty)}else Ve(null),De(null),Me("// Welcome to Coder1 IDE\n// Open a file to start coding"),$e(!1)},nt=async()=>{if(We&&Be)try{await yn.writeFile(We,ze)?($e(!1),He(e=>e.map(e=>e.path===We?{...e,isDirty:!1}:e)),console.log("File saved successfully:",We)):(console.error("Failed to save file"),alert("Failed to save file. Please try again."))}catch(e){console.error("Error saving file:",e),alert("Error saving file. Please check console for details.")}},rt=e=>{try{const t=(null===P||void 0===P?void 0:P.innerText)||"No terminal content available";let n="",r="";const s=(new Date).toISOString().replace(/[:.]/g,"-");switch(e){case"txt":n=t,r=`terminal-session-${s}.txt`;break;case"md":n=`# Terminal Session Export\n\n**Date:** ${(new Date).toLocaleString()}\n**Session ID:** ${B}\n\n## Terminal Output\n\n\`\`\`\n`+t+"\n```",r=`terminal-session-${s}.md`;break;case"code":n=(t.match(/```[\s\S]*?```/g)||[]).join("\n\n"),r=`code-export-${s}.txt`;break;case"clipboard":return navigator.clipboard.writeText(t),alert("Terminal session copied to clipboard!"),void _(!1)}const o=new Blob([n],{type:"text/plain"}),i=URL.createObjectURL(o),a=document.createElement("a");a.href=i,a.download=r,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i),_(!1)}catch(t){console.error("Export error:",t),alert("Failed to export session: "+t)}},[st,ot]=(0,t.useState)(""),[it,at]=(0,t.useState)([]),[lt,ct]=(0,t.useState)([]);return(0,Ee.jsxs)("div",{className:"app-container",children:[je.state.isRecoveryPromptVisible&&(0,Ee.jsx)(xs,{sessionAge:je.state.sessionAge,onRestore:()=>{const e=je.actions.restoreSession();e&&window.handleSessionRestore&&window.handleSessionRestore(e)},onDismiss:je.actions.dismissRecoveryPrompt,onExport:je.actions.exportSession,onImport:je.actions.importSession,onClear:je.actions.clearSession}),(0,Ee.jsxs)("div",{className:"header-bar",children:[(0,Ee.jsxs)("div",{className:"header-left",children:[(0,Ee.jsxs)("div",{className:"logo-container",children:[(0,Ee.jsx)("img",{src:"/ide/logo_newest.svg",alt:"Coder1 Logo",className:"logo-image",onError:e=>{e.currentTarget.style.display="none",document.getElementById("logo-fallback").style.display="block"}}),(0,Ee.jsx)("span",{id:"logo-fallback",className:"logo-text",style:{display:"none"},children:"Coder1"})]}),(0,Ee.jsx)(Wr,{onNewFile:()=>{const e=prompt("Enter file name:");if(e){const t={path:`/new/${e}`,name:e,content:"",isDirty:!0};He(e=>[...e,t]),Ve(t.path),De(t.name),Me(t.content),$e(!0),console.log("handleNewFile - created file:",e,"path:",t.path),(e.endsWith(".jsx")||e.endsWith(".tsx")||e.endsWith(".js"))&&(console.log("Initializing preview for new React file:",e),ot(""))}},onOpenFile:()=>{const e=document.createElement("input");e.type="file",e.accept=".js,.jsx,.ts,.tsx,.json,.css,.html,.md,.txt,.py,.java,.cpp,.c,.h,.go,.rs,.php,.rb,.swift",e.onchange=e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){const e=new FileReader;e.onload=e=>{var t;const r=null===(t=e.target)||void 0===t?void 0:t.result,s=n.name,o=`/opened/${s}`;He(e=>e.some(e=>e.path===o)?e:[...e,{name:s,path:o,content:r,isDirty:!1}]),De(s),Ve(o),Me(r)},e.readAsText(n)}},e.click()},onSave:nt,onSaveAs:async()=>{if(!We)return;const e=prompt("Save as:",Le||"untitled.js");if(e){const t=We.replace(/[^/]+$/,e);await yn.writeFile(t,ze)&&(He(n=>n.map(n=>n.path===We?{...n,path:t,name:e,isDirty:!1}:n)),Ve(t),De(e),$e(!1))}},onUndo:()=>{Ge&&Ge.trigger("keyboard","undo",null)},onRedo:()=>{Ge&&Ge.trigger("keyboard","redo",null)},onCut:()=>{Ge&&(Ge.focus(),document.execCommand("cut"))},onCopy:()=>{Ge&&(Ge.focus(),document.execCommand("copy"))},onPaste:()=>{Ge&&(Ge.focus(),document.execCommand("paste"))},onFind:()=>w(!0),onReplace:()=>{Ge&&Ge.trigger("keyboard","editor.action.startFindReplaceAction",null)},onToggleExplorer:()=>{O(!R)},onToggleTerminal:()=>{F(!I)},onToggleOutput:()=>{D(!L),L&&console.log("Output panel toggled")},onOpenHooksManager:()=>{console.log("\ud83e\ude9d Opening Hooks Manager from menu"),window.open("/hooks","_blank")},onRunCode:()=>{console.log("Run code")},onDebug:()=>{console.log("Debug code")},onStop:()=>{console.log("Stop execution")},onAbout:()=>{alert("Coder1 IDE v2 - AI-Powered Development Environment")},onDocumentation:()=>j(!0),onKeyboardShortcuts:()=>{M(!0)}})]}),(0,Ee.jsx)("div",{className:"header-center"}),(0,Ee.jsxs)("div",{className:"header-right",children:[(0,Ee.jsx)("button",{className:"header-button docs-button",onClick:()=>j(!0),title:"Documentation (F1)",children:"\ud83d\udcda Docs"}),(0,Ee.jsx)("button",{className:"header-button docs-button",onClick:()=>window.open("http://localhost:3000/vibe-dashboard","_blank"),title:"AI Dashboard - View your coding analytics",children:"\ud83e\udde0 AI"})]})]}),(0,Ee.jsx)(Te,{leftPanel:R?(0,Ee.jsxs)("div",{className:"explorer-content",children:[(0,Ee.jsx)("div",{className:"file-explorer-wrapper",children:(0,Ee.jsx)(bn,{onFileSelect:et,onSearchClick:Ke?()=>w(!0):void 0})}),(0,Ee.jsx)("div",{className:"explorer-future-component",children:(0,Ee.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",gap:"16px",padding:"16px"},children:[(0,Ee.jsx)("div",{style:{textAlign:"center",color:"#E5E7EB",fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:"AI Magic"}),(0,Ee.jsx)(Zr,{visible:!0,onActivate:()=>{console.log("\ud83c\udfaf handleMagicWandClick called!"),U(!0)},position:"static"}),(0,Ee.jsx)("div",{style:{fontSize:"11px",color:"#9CA3AF",opacity:.7,textAlign:"center"},children:"Cmd+K to create"})]})})]}):null,centerPanel:(0,Ee.jsx)(_e,{editor:(0,Ee.jsxs)("div",{className:"editor-with-tabs",children:[(0,Ee.jsx)(Hr,{tabs:Ue.map(e=>({path:e.path,name:e.name,isDirty:e.isDirty,language:e.name.split(".").pop()})),activeTab:We,onTabClick:e=>{const t=Ue.find(t=>t.path===e);t&&(Ve(e),De(t.name),Me(t.content),$e(t.isDirty))},onTabClose:tt}),(0,Ee.jsx)($r,{value:ze,fileName:Le||"untitled.js",onChange:e=>{const t=e||"";if(Me(t),$e(!0),We&&He(e=>e.map(e=>e.path===We?{...e,content:t,isDirty:!0}:e)),console.log("handleContentChange - activeFilePath:",We,"content length:",t.length),!We||We.endsWith(".jsx")||We.endsWith(".tsx")||We.endsWith(".js")){console.log("Setting preview code for file:",We||"untitled"),ot(t);const e=Date.now();at(n=>{const r=n[n.length-1];return!r||e-r.timestamp>2e3?[...n.slice(-9),{code:t,timestamp:e}]:n})}},onEditorMount:e=>{console.log("Editor mounted:",e),qe(e)},onSave:nt})]}),terminal:I?(0,Ee.jsx)(fn,{thinkingMode:N,onThinkingModeChange:Ye?E:void 0,onTerminalDataChange:Fe,onShowTaskDelegation:p,onSetTaskDelegationSessionId:m}):null}),rightPanel:(0,Ee.jsx)("div",{className:"right-panel-content",children:(0,Ee.jsx)("div",{className:"preview-section",children:(0,Ee.jsx)(Nn,{code:st,fileName:Le||"untitled.jsx",history:it,consoleOutput:lt,onConsoleOutput:e=>ct(t=>[...t,e]),onClearConsole:()=>ct([])})})})}),(0,Ee.jsxs)("div",{className:"status-bar",children:[(0,Ee.jsx)("div",{className:"status-left",children:(0,Ee.jsx)("span",{className:"status-text",children:"Ready"})}),(0,Ee.jsx)("div",{className:"status-center",children:Qe&&(0,Ee.jsxs)("div",{className:"status-checkpoint-buttons",children:[(0,Ee.jsx)("button",{className:"status-button",onClick:async()=>{const e=`Manual Checkpoint ${(new Date).toLocaleTimeString()}`,t=Je();await Xe(e,t,"User-created checkpoint",["manual"])},title:"Create checkpoint",children:"Checkpoint"}),(0,Ee.jsx)("button",{className:"status-button",onClick:()=>k(!0),title:"View timeline",children:"Timeline"}),(0,Ee.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,Ee.jsx)("button",{className:"status-button",onClick:()=>_(!T),title:"Export terminal session in various formats",children:"Export"}),T&&(0,Ee.jsxs)("div",{style:{position:"absolute",bottom:"100%",left:"50%",transform:"translateX(-50%)",marginBottom:"5px",background:"var(--tokyo-bg-dark)",border:"1px solid var(--tokyo-fg-gutter)",borderRadius:"4px",padding:"4px 0",minWidth:"150px",zIndex:1e3,boxShadow:"0 -2px 8px rgba(0,0,0,0.3)"},children:[(0,Ee.jsx)("button",{onClick:()=>rt("txt"),style:{display:"block",width:"100%",padding:"6px 12px",background:"transparent",border:"none",color:"var(--tokyo-fg)",textAlign:"left",cursor:"pointer",fontSize:"12px"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="var(--tokyo-bg-highlight)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:"\ud83d\udcc4 Export as Text"}),(0,Ee.jsx)("button",{onClick:()=>rt("md"),style:{display:"block",width:"100%",padding:"6px 12px",background:"transparent",border:"none",color:"var(--tokyo-fg)",textAlign:"left",cursor:"pointer",fontSize:"12px"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="var(--tokyo-bg-highlight)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:"\ud83d\udcdd Export as Markdown"}),(0,Ee.jsx)("button",{onClick:()=>rt("code"),style:{display:"block",width:"100%",padding:"6px 12px",background:"transparent",border:"none",color:"var(--tokyo-fg)",textAlign:"left",cursor:"pointer",fontSize:"12px"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="var(--tokyo-bg-highlight)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:"\ud83d\udcbb Export Code Only"}),(0,Ee.jsx)("div",{style:{borderTop:"1px solid var(--tokyo-fg-gutter)",margin:"4px 0"}}),(0,Ee.jsx)("button",{onClick:()=>rt("clipboard"),style:{display:"block",width:"100%",padding:"6px 12px",background:"transparent",border:"none",color:"var(--tokyo-fg)",textAlign:"left",cursor:"pointer",fontSize:"12px"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="var(--tokyo-bg-highlight)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:"\ud83d\udccb Copy to Clipboard"})]})]}),(0,Ee.jsx)(Xr,{openFiles:Ue,activeFile:Le,terminalHistory:Ie.terminalHistory,terminalCommands:Ie.terminalCommands}),(0,Ee.jsx)("button",{className:"status-button",onClick:()=>xe(!0),title:Ae?"Checking git status...":null!==ke&&void 0!==ke&&ke.hasChanges?`${ke.fileCount} unsaved change${1!==ke.fileCount?"s":""}`:"All changes are saved to GitHub",disabled:Ae,children:"GitHub"})]})}),(0,Ee.jsx)("div",{className:"status-right"})]}),x&&Ke&&(0,Ee.jsx)(An,{onFileSelect:e=>{const t=e.split("/").pop()||e;et(e,t)},onClose:()=>w(!1)}),C&&Qe&&(0,Ee.jsx)(On,{sessionId:B,onCheckpointRestore:e=>{console.log("Restoring checkpoint:",e),E(e.data.thinkingMode),n(e.data.activeView)},onClose:()=>k(!1)}),d&&(0,Ee.jsx)(En,{onClose:()=>p(!1),sessionId:h||void 0}),S&&(0,Ee.jsx)(qr,{onClose:()=>j(!1)}),(0,Ee.jsx)(fs,{isOpen:be,onClose:()=>xe(!1),educationLevel:we,onEducationLevelChange:e=>{Ce(e),localStorage.setItem("git-education-level",e)}}),z&&(0,Ee.jsx)("div",{className:"modal-overlay",onClick:()=>M(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},children:(0,Ee.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{backgroundColor:"#1a1b26",border:"2px solid #bb9af7",borderRadius:"8px",padding:"24px",maxWidth:"600px",maxHeight:"80vh",overflow:"auto",position:"relative",zIndex:10001},children:[(0,Ee.jsx)("h2",{style:{color:"#bb9af7",marginBottom:"16px"},children:"Keyboard Shortcuts"}),(0,Ee.jsxs)("div",{style:{color:"#a9b1d6"},children:[(0,Ee.jsx)("h3",{style:{color:"#7aa2f7",marginTop:"16px"},children:"File"}),(0,Ee.jsx)("div",{children:"Ctrl+N - New File"}),(0,Ee.jsx)("div",{children:"Ctrl+O - Open File"}),(0,Ee.jsx)("div",{children:"Ctrl+S - Save"}),(0,Ee.jsx)("div",{children:"Ctrl+Shift+S - Save As"}),(0,Ee.jsx)("div",{children:"Ctrl+W - Close Editor"}),(0,Ee.jsx)("h3",{style:{color:"#7aa2f7",marginTop:"16px"},children:"Edit"}),(0,Ee.jsx)("div",{children:"Ctrl+Z - Undo"}),(0,Ee.jsx)("div",{children:"Ctrl+Y - Redo"}),(0,Ee.jsx)("div",{children:"Ctrl+X - Cut"}),(0,Ee.jsx)("div",{children:"Ctrl+C - Copy"}),(0,Ee.jsx)("div",{children:"Ctrl+V - Paste"}),(0,Ee.jsx)("div",{children:"Ctrl+F - Find"}),(0,Ee.jsx)("div",{children:"Ctrl+H - Replace"}),(0,Ee.jsx)("h3",{style:{color:"#7aa2f7",marginTop:"16px"},children:"View"}),(0,Ee.jsx)("div",{children:"Ctrl+Shift+E - Toggle Explorer"}),(0,Ee.jsx)("div",{children:"Ctrl+` - Toggle Terminal"}),(0,Ee.jsx)("div",{children:"Ctrl+Shift+G - Open Git Panel"}),(0,Ee.jsx)("div",{children:"Ctrl+= - Zoom In"}),(0,Ee.jsx)("div",{children:"Ctrl+- - Zoom Out"}),(0,Ee.jsx)("div",{children:"Ctrl+0 - Reset Zoom"}),(0,Ee.jsx)("h3",{style:{color:"#7aa2f7",marginTop:"16px"},children:"Run"}),(0,Ee.jsx)("div",{children:"F5 - Run Code"}),(0,Ee.jsx)("div",{children:"F9 - Debug"}),(0,Ee.jsx)("div",{children:"Shift+F5 - Stop"}),(0,Ee.jsx)("h3",{style:{color:"#7aa2f7",marginTop:"16px"},children:"Help"}),(0,Ee.jsx)("div",{children:"F1 - Documentation"}),(0,Ee.jsx)("div",{children:"Ctrl+K Ctrl+S - Keyboard Shortcuts"})]}),(0,Ee.jsx)("button",{className:"modal-close",onClick:()=>M(!1),style:{position:"absolute",top:"10px",right:"10px",background:"#bb9af7",color:"white",border:"none",borderRadius:"4px",width:"30px",height:"30px",cursor:"pointer",fontSize:"18px"},children:"\xd7"})]})}),(0,Ee.jsx)(Jr,{isVisible:$,onGenerate:async(e,t)=>{try{var n;J(!0),ee(e),console.log("\ud83e\ude84 Magic generation started:",e),console.log("   Current component source:",{NODE_ENV:"production",PUBLIC_URL:"/ide",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_COMPONENT_SOURCE||"local");const r=await ls.generateComponent({message:e,searchQuery:e,currentFilePath:We||"/src/components/NewComponent.tsx",projectDirectory:"/workspace"},t);return console.log("\ud83c\udf89 Magic generation completed:",r),console.log("   Source:",(null===(n=r.metadata)||void 0===n?void 0:n.source)||"Unknown"),console.log("   Component name:",r.name),Q(r),K(!0),U(!1),r}catch(r){console.error("\u274c Magic generation failed:",r);const e=r instanceof Error?r.message:"Unknown error occurred";throw null===t||void 0===t||t({status:"error",message:`Generation failed: ${e}`}),r}finally{J(!1)}},onClose:()=>U(!1),onShowContextInsights:()=>{ie(!0),U(!1)},onShowPageBuilder:()=>{le(!0),U(!1)},onShowComponentLibrary:()=>{ue(!0),U(!1)},onShowIntegrations:()=>{Y&&(me(Y.componentCode),ge(Y.name)),pe(!0),U(!1)}}),(0,Ee.jsx)(ts,{componentCode:null===Y||void 0===Y?void 0:Y.componentCode,componentName:null===Y||void 0===Y?void 0:Y.name,isVisible:q,onClose:()=>{K(!1),Q(null)},onAccept:()=>{if(Y){if(console.log("\u2705 Accepting previewed component:",Y.name),G(Y),ot(Y.componentCode),Y.name){const e=Y.name.endsWith(".tsx")?Y.name:`${Y.name}.tsx`;De(e),Me(Y.componentCode)}K(!1),Q(null)}},onRegenerate:async()=>{if(console.log("\ud83d\udd04 Regeneration triggered"),console.log("   previewComponent:",!!Y),console.log("   lastMagicPrompt:",Z),!Y||!Z)return void console.warn("\u274c Cannot regenerate: missing component or prompt");const e=[`${Z} - different design style`,`${Z} - alternative layout`,`${Z} - modern variation`,`${Z} - creative design`,`${Z} - different color scheme`,`${Z} - minimal design`,`${Z} - dark theme`,`${Z} - startup style`],t=e[Math.floor(Math.random()*e.length)];try{J(!0),console.log("\ud83d\udd04 Regenerating with variation:",t);const e=await ls.generateComponent({message:t,searchQuery:Z,currentFilePath:We||"/src/components/NewComponent.tsx",projectDirectory:"/workspace"});console.log("\u2705 New component generated:",e.name),console.log("   Component code length:",e.componentCode.length),Q(e)}catch(n){console.error("\u274c Magic regeneration failed:",n)}finally{J(!1)}},onCustomizeTheme:()=>{var e;Y&&(e=Y,console.log("\ud83c\udfa8 Opening theme customizer for component:",e.name),se(e),ne(!0))},isGenerating:X}),(0,Ee.jsx)(ns,{isVisible:te,onClose:()=>{ne(!1),se(null)},onApplyTheme:async e=>{if(console.log("\ud83c\udfa8 Applying theme:",e),re&&Z)try{J(!0),console.log("\ud83c\udfa8 Generating themed component...");const t=`${Z} with theme: primary color ${e.primaryColor}, secondary color ${e.secondaryColor}, background ${e.backgroundColor}, text color ${e.textColor}, border radius ${e.borderRadius}, font size ${e.fontSize}`,n=await ls.generateComponent({message:t,searchQuery:Z,currentFilePath:We||"/src/components/ThemedComponent.tsx",projectDirectory:"/workspace"});console.log("\u2705 Themed component generated:",n.name),Q(n),se(n),ne(!1)}catch(t){console.error("\u274c Theme application failed:",t)}finally{J(!1)}else console.error("\u274c Missing component or prompt for theme application")},currentCode:null===re||void 0===re?void 0:re.componentCode}),(0,Ee.jsx)(us,{isVisible:ae,onClose:()=>le(!1),onAccept:e=>{if(console.log("\ud83c\udfd7\ufe0f Accepting generated page code"),We)Me(e);else{et("/src/pages/GeneratedPage.tsx","GeneratedPage.tsx"),Me(e)}le(!1)}}),(0,Ee.jsx)(ds,{isVisible:ce,onClose:()=>ue(!1),onSelectComponent:e=>{Me(e),ue(!1)}}),(0,Ee.jsx)(ps,{componentCode:he,componentName:fe,isVisible:de,onClose:()=>pe(!1)})]})},Cs=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:r,getFCP:s,getLCP:o,getTTFB:i}=t;n(e),r(e),s(e),o(e),i(e)})};s.createRoot(document.getElementById("root")).render((0,Ee.jsx)(t.StrictMode,{children:(0,Ee.jsx)(ws,{})})),Cs()})()})();
//# sourceMappingURL=main.c75d6022.js.map